var liner = (function (exports) {
  'use strict';

  var global = self;

  function _typeof(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      if (enumerableOnly) symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
      keys.push.apply(keys, symbols);
    }

    return keys;
  }

  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};

      if (i % 2) {
        ownKeys(Object(source), true).forEach(function (key) {
          _defineProperty(target, key, source[key]);
        });
      } else if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
      } else {
        ownKeys(Object(source)).forEach(function (key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
    }

    return target;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf(o, p);
  }

  function isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  function _construct(Parent, args, Class) {
    if (isNativeReflectConstruct()) {
      _construct = Reflect.construct;
    } else {
      _construct = function _construct(Parent, args, Class) {
        var a = [null];
        a.push.apply(a, args);
        var Constructor = Function.bind.apply(Parent, a);
        var instance = new Constructor();
        if (Class) _setPrototypeOf(instance, Class.prototype);
        return instance;
      };
    }

    return _construct.apply(null, arguments);
  }

  function _isNativeFunction(fn) {
    return Function.toString.call(fn).indexOf("[native code]") !== -1;
  }

  function _wrapNativeSuper(Class) {
    var _cache = typeof Map === "function" ? new Map() : undefined;

    _wrapNativeSuper = function _wrapNativeSuper(Class) {
      if (Class === null || !_isNativeFunction(Class)) return Class;

      if (typeof Class !== "function") {
        throw new TypeError("Super expression must either be null or a function");
      }

      if (typeof _cache !== "undefined") {
        if (_cache.has(Class)) return _cache.get(Class);

        _cache.set(Class, Wrapper);
      }

      function Wrapper() {
        return _construct(Class, arguments, _getPrototypeOf(this).constructor);
      }

      Wrapper.prototype = Object.create(Class.prototype, {
        constructor: {
          value: Wrapper,
          enumerable: false,
          writable: true,
          configurable: true
        }
      });
      return _setPrototypeOf(Wrapper, Class);
    };

    return _wrapNativeSuper(Class);
  }

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
      return call;
    }

    return _assertThisInitialized(self);
  }

  function _superPropBase(object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _getPrototypeOf(object);
      if (object === null) break;
    }

    return object;
  }

  function _get(target, property, receiver) {
    if (typeof Reflect !== "undefined" && Reflect.get) {
      _get = Reflect.get;
    } else {
      _get = function _get(target, property, receiver) {
        var base = _superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return _get(target, property, receiver || target);
  }

  var _a,_b;var window$1={};if(typeof self!=="undefined"){window$1=self;}var nativeCrypto=window$1["msCrypto"]||window$1.crypto||{};var nativeSubtle=null;try{nativeSubtle=((_a=nativeCrypto)===null||_a===void 0?void 0:_a.subtle)||((_b=nativeCrypto)===null||_b===void 0?void 0:_b["webkitSubtle"])||null;}catch(err){console.warn("Cannot get subtle from crypto",err);}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value);}).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});}function PrepareBuffer(buffer){if(typeof Buffer!=="undefined"&&Buffer.isBuffer(buffer)){return new Uint8Array(buffer);}else if(ArrayBuffer.isView(buffer)){return new Uint8Array(buffer.buffer,buffer.byteOffset,buffer.byteLength);}else{return new Uint8Array(buffer);}}var Convert=/*#__PURE__*/function(){function Convert(){_classCallCheck(this,Convert);}_createClass(Convert,null,[{key:"ToString",value:function ToString(buffer){var enc=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"utf8";var buf=PrepareBuffer(buffer);switch(enc.toLowerCase()){case"utf8":return this.ToUtf8String(buf);case"binary":return this.ToBinary(buf);case"hex":return this.ToHex(buf);case"base64":return this.ToBase64(buf);case"base64url":return this.ToBase64Url(buf);default:throw new Error("Unknown type of encoding '".concat(enc,"'"));}}},{key:"FromString",value:function FromString(str){var enc=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"utf8";switch(enc.toLowerCase()){case"utf8":return this.FromUtf8String(str);case"binary":return this.FromBinary(str);case"hex":return this.FromHex(str);case"base64":return this.FromBase64(str);case"base64url":return this.FromBase64Url(str);default:throw new Error("Unknown type of encoding '".concat(enc,"'"));}}},{key:"ToBase64",value:function ToBase64(buffer){var buf=PrepareBuffer(buffer);if(typeof btoa!=="undefined"){var binary=this.ToString(buf,"binary");return btoa(binary);}else{return Buffer.from(buf).toString("base64");}}},{key:"FromBase64",value:function FromBase64(base64Text){base64Text=base64Text.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\s/g,"");if(typeof atob!=="undefined"){return this.FromBinary(atob(base64Text));}else{return new Uint8Array(Buffer.from(base64Text,"base64")).buffer;}}},{key:"FromBase64Url",value:function FromBase64Url(base64url){return this.FromBase64(this.Base64Padding(base64url.replace(/\-/g,"+").replace(/\_/g,"/")));}},{key:"ToBase64Url",value:function ToBase64Url(data){return this.ToBase64(data).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");}},{key:"FromUtf8String",value:function FromUtf8String(text){var s=unescape(encodeURIComponent(text));var uintArray=new Uint8Array(s.length);for(var i=0;i<s.length;i++){uintArray[i]=s.charCodeAt(i);}return uintArray.buffer;}},{key:"ToUtf8String",value:function ToUtf8String(buffer){var buf=PrepareBuffer(buffer);var encodedString=String.fromCharCode.apply(null,buf);var decodedString=decodeURIComponent(escape(encodedString));return decodedString;}},{key:"FromBinary",value:function FromBinary(text){var stringLength=text.length;var resultView=new Uint8Array(stringLength);for(var i=0;i<stringLength;i++){resultView[i]=text.charCodeAt(i);}return resultView.buffer;}},{key:"ToBinary",value:function ToBinary(buffer){var buf=PrepareBuffer(buffer);var resultString="";var len=buf.length;for(var i=0;i<len;i++){resultString=resultString+String.fromCharCode(buf[i]);}return resultString;}},{key:"ToHex",value:function ToHex(buffer){var buf=PrepareBuffer(buffer);var splitter="";var res=[];var len=buf.length;for(var i=0;i<len;i++){var char=buf[i].toString(16);res.push(char.length===1?"0"+char:char);}return res.join(splitter);}},{key:"FromHex",value:function FromHex(hexString){var res=new Uint8Array(hexString.length/2);for(var i=0;i<hexString.length;i=i+2){var c=hexString.slice(i,i+2);res[i/2]=parseInt(c,16);}return res.buffer;}},{key:"Base64Padding",value:function Base64Padding(base64){var padCount=4-base64.length%4;if(padCount<4){for(var i=0;i<padCount;i++){base64+="=";}}return base64;}}]);return Convert;}();/**
   * Copyright (c) 2019, Peculiar Ventures, All rights reserved.
   */var CryptoError=/*#__PURE__*/function(_Error){_inherits(CryptoError,_Error);function CryptoError(){_classCallCheck(this,CryptoError);return _possibleConstructorReturn(this,_getPrototypeOf(CryptoError).apply(this,arguments));}return CryptoError;}(_wrapNativeSuper(Error));var AlgorithmError=/*#__PURE__*/function(_CryptoError){_inherits(AlgorithmError,_CryptoError);function AlgorithmError(){_classCallCheck(this,AlgorithmError);return _possibleConstructorReturn(this,_getPrototypeOf(AlgorithmError).apply(this,arguments));}return AlgorithmError;}(CryptoError);var UnsupportedOperationError=/*#__PURE__*/function(_CryptoError2){_inherits(UnsupportedOperationError,_CryptoError2);function UnsupportedOperationError(methodName){_classCallCheck(this,UnsupportedOperationError);return _possibleConstructorReturn(this,_getPrototypeOf(UnsupportedOperationError).call(this,"Unsupported operation: ".concat(methodName?"".concat(methodName):"")));}return UnsupportedOperationError;}(CryptoError);var OperationError=/*#__PURE__*/function(_CryptoError3){_inherits(OperationError,_CryptoError3);function OperationError(){_classCallCheck(this,OperationError);return _possibleConstructorReturn(this,_getPrototypeOf(OperationError).apply(this,arguments));}return OperationError;}(CryptoError);var RequiredPropertyError=/*#__PURE__*/function(_CryptoError4){_inherits(RequiredPropertyError,_CryptoError4);function RequiredPropertyError(propName){_classCallCheck(this,RequiredPropertyError);return _possibleConstructorReturn(this,_getPrototypeOf(RequiredPropertyError).call(this,"".concat(propName,": Missing required property")));}return RequiredPropertyError;}(CryptoError);var BufferSourceConverter=/*#__PURE__*/function(){function BufferSourceConverter(){_classCallCheck(this,BufferSourceConverter);}_createClass(BufferSourceConverter,null,[{key:"toArrayBuffer",value:function toArrayBuffer(data){var buf=this.toUint8Array(data);if(buf.byteOffset||buf.length){return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.length);}return buf.buffer;}},{key:"toUint8Array",value:function toUint8Array(data){if(typeof Buffer!=="undefined"&&Buffer.isBuffer(data)){return new Uint8Array(data);}if(ArrayBuffer.isView(data)){return new Uint8Array(data.buffer,data.byteOffset,data.byteLength);}if(data instanceof ArrayBuffer){return new Uint8Array(data);}throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");}},{key:"isBufferSource",value:function isBufferSource(data){return ArrayBuffer.isView(data)||data instanceof ArrayBuffer;}}]);return BufferSourceConverter;}();function isJWK(data){return _typeof(data)==="object"&&"kty"in data;}var ProviderCrypto=/*#__PURE__*/function(){function ProviderCrypto(){_classCallCheck(this,ProviderCrypto);}_createClass(ProviderCrypto,[{key:"digest",//#region Digest
  value:function digest(algorithm,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var _args2=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.checkDigest.apply(this,_args2);return _context.abrupt("return",this.onDigest.apply(this,_args2));case 2:case"end":return _context.stop();}}},_callee,this);}));}},{key:"checkDigest",value:function checkDigest(algorithm,data){this.checkAlgorithmName(algorithm);}},{key:"onDigest",value:function onDigest(algorithm,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:throw new UnsupportedOperationError("digest");case 1:case"end":return _context2.stop();}}},_callee2);}));}//#endregion
  //#region Generate key
  },{key:"generateKey",value:function generateKey(algorithm,extractable,keyUsages){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){var _args4=arguments;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.checkGenerateKey.apply(this,_args4);return _context3.abrupt("return",this.onGenerateKey.apply(this,_args4));case 2:case"end":return _context3.stop();}}},_callee3,this);}));}},{key:"checkGenerateKey",value:function checkGenerateKey(algorithm,extractable,keyUsages){this.checkAlgorithmName(algorithm);this.checkGenerateKeyParams(algorithm);if(!(keyUsages&&keyUsages.length)){throw new TypeError("Usages cannot be empty when creating a key.");}var allowedUsages;if(Array.isArray(this.usages)){allowedUsages=this.usages;}else{allowedUsages=this.usages.privateKey.concat(this.usages.publicKey);}this.checkKeyUsages(keyUsages,allowedUsages);}},{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){// nothing
  }},{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:throw new UnsupportedOperationError("generateKey");case 1:case"end":return _context4.stop();}}},_callee4);}));}//#endregion
  //#region Sign
  },{key:"sign",value:function sign(algorithm,key,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var _args6=arguments;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:this.checkSign.apply(this,_args6);return _context5.abrupt("return",this.onSign.apply(this,_args6));case 2:case"end":return _context5.stop();}}},_callee5,this);}));}},{key:"checkSign",value:function checkSign(algorithm,key,data){this.checkAlgorithmName(algorithm);this.checkAlgorithmParams(algorithm);this.checkCryptoKey(key,"sign");}},{key:"onSign",value:function onSign(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:throw new UnsupportedOperationError("sign");case 1:case"end":return _context6.stop();}}},_callee6);}));}//#endregion
  //#region Verify
  },{key:"verify",value:function verify(algorithm,key,signature,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee7(){var _args8=arguments;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:this.checkVerify.apply(this,_args8);return _context7.abrupt("return",this.onVerify.apply(this,_args8));case 2:case"end":return _context7.stop();}}},_callee7,this);}));}},{key:"checkVerify",value:function checkVerify(algorithm,key,signature,data){this.checkAlgorithmName(algorithm);this.checkAlgorithmParams(algorithm);this.checkCryptoKey(key,"verify");}},{key:"onVerify",value:function onVerify(algorithm,key,signature,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:throw new UnsupportedOperationError("verify");case 1:case"end":return _context8.stop();}}},_callee8);}));}//#endregion
  //#region Encrypt
  },{key:"encrypt",value:function encrypt(algorithm,key,data,options){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee9(){var _args10=arguments;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:this.checkEncrypt.apply(this,_args10);return _context9.abrupt("return",this.onEncrypt.apply(this,_args10));case 2:case"end":return _context9.stop();}}},_callee9,this);}));}},{key:"checkEncrypt",value:function checkEncrypt(algorithm,key,data){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};this.checkAlgorithmName(algorithm);this.checkAlgorithmParams(algorithm);this.checkCryptoKey(key,options.keyUsage?"encrypt":void 0);}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee10(){return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:throw new UnsupportedOperationError("encrypt");case 1:case"end":return _context10.stop();}}},_callee10);}));}//#endregion
  //#region
  },{key:"decrypt",value:function decrypt(algorithm,key,data,options){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){var _args12=arguments;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:this.checkDecrypt.apply(this,_args12);return _context11.abrupt("return",this.onDecrypt.apply(this,_args12));case 2:case"end":return _context11.stop();}}},_callee11,this);}));}},{key:"checkDecrypt",value:function checkDecrypt(algorithm,key,data){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};this.checkAlgorithmName(algorithm);this.checkAlgorithmParams(algorithm);this.checkCryptoKey(key,options.keyUsage?"decrypt":void 0);}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee12(){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:throw new UnsupportedOperationError("decrypt");case 1:case"end":return _context12.stop();}}},_callee12);}));}//#endregion
  //#region Derive bits
  },{key:"deriveBits",value:function deriveBits(algorithm,baseKey,length,options){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee13(){var _args14=arguments;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:this.checkDeriveBits.apply(this,_args14);return _context13.abrupt("return",this.onDeriveBits.apply(this,_args14));case 2:case"end":return _context13.stop();}}},_callee13,this);}));}},{key:"checkDeriveBits",value:function checkDeriveBits(algorithm,baseKey,length){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};this.checkAlgorithmName(algorithm);this.checkAlgorithmParams(algorithm);this.checkCryptoKey(baseKey,options.keyUsage?"deriveBits":void 0);if(length%8!==0){throw new OperationError("length: Is not multiple of 8");}}},{key:"onDeriveBits",value:function onDeriveBits(algorithm,baseKey,length){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee14(){return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:throw new UnsupportedOperationError("deriveBits");case 1:case"end":return _context14.stop();}}},_callee14);}));}//#endregion
  //#region Export key
  },{key:"exportKey",value:function exportKey(format,key){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee15(){var _args16=arguments;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:this.checkExportKey.apply(this,_args16);return _context15.abrupt("return",this.onExportKey.apply(this,_args16));case 2:case"end":return _context15.stop();}}},_callee15,this);}));}},{key:"checkExportKey",value:function checkExportKey(format,key){this.checkKeyFormat(format);this.checkCryptoKey(key);if(!key.extractable){throw new CryptoError("key: Is not extractable");}}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee16(){return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:throw new UnsupportedOperationError("exportKey");case 1:case"end":return _context16.stop();}}},_callee16);}));}//#endregion
  //#region Import key
  },{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee17(){var _args18=arguments;return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:this.checkImportKey.apply(this,_args18);return _context17.abrupt("return",this.onImportKey.apply(this,_args18));case 2:case"end":return _context17.stop();}}},_callee17,this);}));}},{key:"checkImportKey",value:function checkImportKey(format,keyData,algorithm,extractable,keyUsages){this.checkKeyFormat(format);this.checkKeyData(format,keyData);this.checkAlgorithmName(algorithm);this.checkImportParams(algorithm);// check key usages
  if(Array.isArray(this.usages)){// symmetric provider
  this.checkKeyUsages(keyUsages,this.usages);}}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:throw new UnsupportedOperationError("importKey");case 1:case"end":return _context18.stop();}}},_callee18);}));}//#endregion
  },{key:"checkAlgorithmName",value:function checkAlgorithmName(algorithm){if(algorithm.name.toLowerCase()!==this.name.toLowerCase()){throw new AlgorithmError("Unrecognized name");}}},{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){// nothing
  }},{key:"checkDerivedKeyParams",value:function checkDerivedKeyParams(algorithm){// nothing
  }},{key:"checkKeyUsages",value:function checkKeyUsages(usages,allowed){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=usages[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var usage=_step.value;if(allowed.indexOf(usage)===-1){throw new TypeError("Cannot create a key using the specified key usages");}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){this.checkAlgorithmName(key.algorithm);if(keyUsage&&key.usages.indexOf(keyUsage)===-1){throw new CryptoError("key does not match that of operation");}}},{key:"checkRequiredProperty",value:function checkRequiredProperty(data,propName){if(!(propName in data)){throw new RequiredPropertyError(propName);}}},{key:"checkHashAlgorithm",value:function checkHashAlgorithm(algorithm,hashAlgorithms){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=hashAlgorithms[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var item=_step2.value;if(item.toLowerCase()===algorithm.name.toLowerCase()){return;}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}throw new OperationError("hash: Must be one of ".concat(hashAlgorithms.join(", ")));}},{key:"checkImportParams",value:function checkImportParams(algorithm){// nothing
  }},{key:"checkKeyFormat",value:function checkKeyFormat(format){switch(format){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw new TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'");}}},{key:"checkKeyData",value:function checkKeyData(format,keyData){if(!keyData){throw new TypeError("keyData: Cannot be empty on empty on key importing");}if(format==="jwk"){if(!isJWK(keyData)){throw new TypeError("keyData: Is not JsonWebToken");}}else if(!BufferSourceConverter.isBufferSource(keyData)){throw new TypeError("keyData: Is not ArrayBufferView or ArrayBuffer");}}},{key:"prepareData",value:function prepareData(data){return BufferSourceConverter.toArrayBuffer(data);}}]);return ProviderCrypto;}();var AesProvider=/*#__PURE__*/function(_ProviderCrypto){_inherits(AesProvider,_ProviderCrypto);function AesProvider(){_classCallCheck(this,AesProvider);return _possibleConstructorReturn(this,_getPrototypeOf(AesProvider).apply(this,arguments));}_createClass(AesProvider,[{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){// length
  this.checkRequiredProperty(algorithm,"length");if(typeof algorithm.length!=="number"){throw new TypeError("length: Is not of type Number");}switch(algorithm.length){case 128:case 192:case 256:break;default:throw new TypeError("length: Must be 128, 192, or 256");}}},{key:"checkDerivedKeyParams",value:function checkDerivedKeyParams(algorithm){this.checkGenerateKeyParams(algorithm);}}]);return AesProvider;}(ProviderCrypto);var AesCbcProvider=/*#__PURE__*/function(_AesProvider){_inherits(AesCbcProvider,_AesProvider);function AesCbcProvider(){var _this;_classCallCheck(this,AesCbcProvider);_this=_possibleConstructorReturn(this,_getPrototypeOf(AesCbcProvider).apply(this,arguments));_this.name="AES-CBC";_this.usages=["encrypt","decrypt","wrapKey","unwrapKey"];return _this;}_createClass(AesCbcProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){this.checkRequiredProperty(algorithm,"iv");if(!(algorithm.iv instanceof ArrayBuffer||ArrayBuffer.isView(algorithm.iv))){throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");}if(algorithm.iv.byteLength!==16){throw new TypeError("iv: Must have length 16 bytes");}}}]);return AesCbcProvider;}(AesProvider);var AesCtrProvider=/*#__PURE__*/function(_AesProvider2){_inherits(AesCtrProvider,_AesProvider2);function AesCtrProvider(){var _this2;_classCallCheck(this,AesCtrProvider);_this2=_possibleConstructorReturn(this,_getPrototypeOf(AesCtrProvider).apply(this,arguments));_this2.name="AES-CTR";_this2.usages=["encrypt","decrypt","wrapKey","unwrapKey"];return _this2;}_createClass(AesCtrProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){// counter
  this.checkRequiredProperty(algorithm,"counter");if(!(algorithm.counter instanceof ArrayBuffer||ArrayBuffer.isView(algorithm.counter))){throw new TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");}if(algorithm.counter.byteLength!==16){throw new TypeError("iv: Must have length 16 bytes");}// length
  this.checkRequiredProperty(algorithm,"length");if(typeof algorithm.length!=="number"){throw new TypeError("length: Is not a Number");}if(algorithm.length<1){throw new OperationError("length: Must be more than 0");}}}]);return AesCtrProvider;}(AesProvider);var AesEcbProvider=/*#__PURE__*/function(_AesProvider3){_inherits(AesEcbProvider,_AesProvider3);function AesEcbProvider(){var _this3;_classCallCheck(this,AesEcbProvider);_this3=_possibleConstructorReturn(this,_getPrototypeOf(AesEcbProvider).apply(this,arguments));_this3.name="AES-ECB";_this3.usages=["encrypt","decrypt","wrapKey","unwrapKey"];return _this3;}return AesEcbProvider;}(AesProvider);var AesGcmProvider=/*#__PURE__*/function(_AesProvider4){_inherits(AesGcmProvider,_AesProvider4);function AesGcmProvider(){var _this4;_classCallCheck(this,AesGcmProvider);_this4=_possibleConstructorReturn(this,_getPrototypeOf(AesGcmProvider).apply(this,arguments));_this4.name="AES-GCM";_this4.usages=["encrypt","decrypt","wrapKey","unwrapKey"];return _this4;}_createClass(AesGcmProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){// iv
  this.checkRequiredProperty(algorithm,"iv");if(!(algorithm.iv instanceof ArrayBuffer||ArrayBuffer.isView(algorithm.iv))){throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");}if(algorithm.iv.byteLength<1){throw new OperationError("iv: Must have length more than 0 and less than 2^64 - 1");}// tagLength
  if(!("tagLength"in algorithm)){algorithm.tagLength=128;}switch(algorithm.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new OperationError("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128");}}}]);return AesGcmProvider;}(AesProvider);var AesKwProvider=/*#__PURE__*/function(_AesProvider5){_inherits(AesKwProvider,_AesProvider5);function AesKwProvider(){var _this5;_classCallCheck(this,AesKwProvider);_this5=_possibleConstructorReturn(this,_getPrototypeOf(AesKwProvider).apply(this,arguments));_this5.name="AES-KW";_this5.usages=["wrapKey","unwrapKey"];return _this5;}return AesKwProvider;}(AesProvider);var DesProvider=/*#__PURE__*/function(_ProviderCrypto2){_inherits(DesProvider,_ProviderCrypto2);function DesProvider(){var _this6;_classCallCheck(this,DesProvider);_this6=_possibleConstructorReturn(this,_getPrototypeOf(DesProvider).apply(this,arguments));_this6.usages=["encrypt","decrypt","wrapKey","unwrapKey"];return _this6;}_createClass(DesProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){if(this.ivSize){this.checkRequiredProperty(algorithm,"iv");if(!(algorithm.iv instanceof ArrayBuffer||ArrayBuffer.isView(algorithm.iv))){throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");}if(algorithm.iv.byteLength!==this.ivSize){throw new TypeError("iv: Must have length ".concat(this.ivSize," bytes"));}}}},{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){// length
  this.checkRequiredProperty(algorithm,"length");if(typeof algorithm.length!=="number"){throw new TypeError("length: Is not of type Number");}if(algorithm.length!==this.keySizeBits){throw new OperationError("algorith.length: Must be ".concat(this.keySizeBits));}}},{key:"checkDerivedKeyParams",value:function checkDerivedKeyParams(algorithm){this.checkGenerateKeyParams(algorithm);}}]);return DesProvider;}(ProviderCrypto);var RsaProvider=/*#__PURE__*/function(_ProviderCrypto3){_inherits(RsaProvider,_ProviderCrypto3);function RsaProvider(){var _this7;_classCallCheck(this,RsaProvider);_this7=_possibleConstructorReturn(this,_getPrototypeOf(RsaProvider).apply(this,arguments));_this7.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];return _this7;}_createClass(RsaProvider,[{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){// hash
  this.checkRequiredProperty(algorithm,"hash");this.checkHashAlgorithm(algorithm.hash,this.hashAlgorithms);// public exponent
  this.checkRequiredProperty(algorithm,"publicExponent");if(!(algorithm.publicExponent&&algorithm.publicExponent instanceof Uint8Array)){throw new TypeError("publicExponent: Missing or not a Uint8Array");}var publicExponent=Convert.ToBase64(algorithm.publicExponent);if(!(publicExponent==="Aw=="||publicExponent==="AQAB")){throw new TypeError("publicExponent: Must be [3] or [1,0,1]");}// modulus length
  this.checkRequiredProperty(algorithm,"modulusLength");switch(algorithm.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096");}}},{key:"checkImportParams",value:function checkImportParams(algorithm){this.checkRequiredProperty(algorithm,"hash");this.checkHashAlgorithm(algorithm.hash,this.hashAlgorithms);}}]);return RsaProvider;}(ProviderCrypto);var RsaSsaProvider=/*#__PURE__*/function(_RsaProvider){_inherits(RsaSsaProvider,_RsaProvider);function RsaSsaProvider(){var _this8;_classCallCheck(this,RsaSsaProvider);_this8=_possibleConstructorReturn(this,_getPrototypeOf(RsaSsaProvider).apply(this,arguments));_this8.name="RSASSA-PKCS1-v1_5";_this8.usages={privateKey:["sign"],publicKey:["verify"]};return _this8;}return RsaSsaProvider;}(RsaProvider);var RsaPssProvider=/*#__PURE__*/function(_RsaProvider2){_inherits(RsaPssProvider,_RsaProvider2);function RsaPssProvider(){var _this9;_classCallCheck(this,RsaPssProvider);_this9=_possibleConstructorReturn(this,_getPrototypeOf(RsaPssProvider).apply(this,arguments));_this9.name="RSA-PSS";_this9.usages={privateKey:["sign"],publicKey:["verify"]};return _this9;}_createClass(RsaPssProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){this.checkRequiredProperty(algorithm,"saltLength");if(typeof algorithm.saltLength!=="number"){throw new TypeError("saltLength: Is not a Number");}if(algorithm.saltLength<1){throw new RangeError("saltLength: Must be more than 0");}}}]);return RsaPssProvider;}(RsaProvider);var RsaOaepProvider=/*#__PURE__*/function(_RsaProvider3){_inherits(RsaOaepProvider,_RsaProvider3);function RsaOaepProvider(){var _this10;_classCallCheck(this,RsaOaepProvider);_this10=_possibleConstructorReturn(this,_getPrototypeOf(RsaOaepProvider).apply(this,arguments));_this10.name="RSA-OAEP";_this10.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]};return _this10;}_createClass(RsaOaepProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){// label
  if(algorithm.label&&!(algorithm.label instanceof ArrayBuffer||ArrayBuffer.isView(algorithm.label))){throw new TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'");}}}]);return RsaOaepProvider;}(RsaProvider);var EllipticProvider=/*#__PURE__*/function(_ProviderCrypto4){_inherits(EllipticProvider,_ProviderCrypto4);function EllipticProvider(){_classCallCheck(this,EllipticProvider);return _possibleConstructorReturn(this,_getPrototypeOf(EllipticProvider).apply(this,arguments));}_createClass(EllipticProvider,[{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){// named curve
  this.checkRequiredProperty(algorithm,"namedCurve");this.checkNamedCurve(algorithm.namedCurve);}},{key:"checkNamedCurve",value:function checkNamedCurve(namedCurve){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=this.namedCurves[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var item=_step3.value;if(item.toLowerCase()===namedCurve.toLowerCase()){return;}}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}throw new OperationError("namedCurve: Must be one of ".concat(this.namedCurves.join(", ")));}}]);return EllipticProvider;}(ProviderCrypto);var EcdsaProvider=/*#__PURE__*/function(_EllipticProvider){_inherits(EcdsaProvider,_EllipticProvider);function EcdsaProvider(){var _this11;_classCallCheck(this,EcdsaProvider);_this11=_possibleConstructorReturn(this,_getPrototypeOf(EcdsaProvider).apply(this,arguments));_this11.name="ECDSA";_this11.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];_this11.usages={privateKey:["sign"],publicKey:["verify"]};_this11.namedCurves=["P-256","P-384","P-521","K-256"];return _this11;}_createClass(EcdsaProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){this.checkRequiredProperty(algorithm,"hash");this.checkHashAlgorithm(algorithm.hash,this.hashAlgorithms);}}]);return EcdsaProvider;}(EllipticProvider);var KEY_TYPES=["secret","private","public"];var CryptoKey=/*#__PURE__*/function(){function CryptoKey(){_classCallCheck(this,CryptoKey);}_createClass(CryptoKey,null,[{key:"create",value:function create(algorithm,type,extractable,usages){var key=new this();key.algorithm=algorithm;key.type=type;key.extractable=extractable;key.usages=usages;return key;}},{key:"isKeyType",value:function isKeyType(data){return KEY_TYPES.indexOf(data)!==-1;}}]);return CryptoKey;}();var EcdhProvider=/*#__PURE__*/function(_EllipticProvider2){_inherits(EcdhProvider,_EllipticProvider2);function EcdhProvider(){var _this12;_classCallCheck(this,EcdhProvider);_this12=_possibleConstructorReturn(this,_getPrototypeOf(EcdhProvider).apply(this,arguments));_this12.name="ECDH";_this12.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]};_this12.namedCurves=["P-256","P-384","P-521","K-256"];return _this12;}_createClass(EcdhProvider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){// public
  this.checkRequiredProperty(algorithm,"public");if(!(algorithm.public instanceof CryptoKey)){throw new TypeError("public: Is not a CryptoKey");}if(algorithm.public.type!=="public"){throw new OperationError("public: Is not a public key");}if(algorithm.public.algorithm.name!==this.name){throw new OperationError("public: Is not ".concat(this.name," key"));}}}]);return EcdhProvider;}(EllipticProvider);var HmacProvider=/*#__PURE__*/function(_ProviderCrypto5){_inherits(HmacProvider,_ProviderCrypto5);function HmacProvider(){var _this13;_classCallCheck(this,HmacProvider);_this13=_possibleConstructorReturn(this,_getPrototypeOf(HmacProvider).apply(this,arguments));_this13.name="HMAC";_this13.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];_this13.usages=["sign","verify"];return _this13;}/**
       * Returns default size in bits by hash algorithm name
       * @param algName Name of the hash algorithm
       */_createClass(HmacProvider,[{key:"getDefaultLength",value:function getDefaultLength(algName){switch(algName.toUpperCase()){case"SHA-1":return 160;case"SHA-256":return 256;case"SHA-384":return 384;case"SHA-512":return 512;default:throw new Error("Unknown algorithm name '".concat(algName,"'"));}}},{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){// hash
  this.checkRequiredProperty(algorithm,"hash");this.checkHashAlgorithm(algorithm.hash,this.hashAlgorithms);// length
  if("length"in algorithm){if(typeof algorithm.length!=="number"){throw new TypeError("length: Is not a Number");}if(algorithm.length<1){throw new RangeError("length: Number is out of range");}}}},{key:"checkImportParams",value:function checkImportParams(algorithm){// hash
  this.checkRequiredProperty(algorithm,"hash");this.checkHashAlgorithm(algorithm.hash,this.hashAlgorithms);}}]);return HmacProvider;}(ProviderCrypto);var Pbkdf2Provider=/*#__PURE__*/function(_ProviderCrypto6){_inherits(Pbkdf2Provider,_ProviderCrypto6);function Pbkdf2Provider(){var _this14;_classCallCheck(this,Pbkdf2Provider);_this14=_possibleConstructorReturn(this,_getPrototypeOf(Pbkdf2Provider).apply(this,arguments));_this14.name="PBKDF2";_this14.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];_this14.usages=["deriveBits","deriveKey"];return _this14;}_createClass(Pbkdf2Provider,[{key:"checkAlgorithmParams",value:function checkAlgorithmParams(algorithm){// hash
  this.checkRequiredProperty(algorithm,"hash");this.checkHashAlgorithm(algorithm.hash,this.hashAlgorithms);// salt
  this.checkRequiredProperty(algorithm,"salt");if(!(algorithm.salt instanceof ArrayBuffer||ArrayBuffer.isView(algorithm.salt))){throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");}// iterations
  this.checkRequiredProperty(algorithm,"iterations");if(typeof algorithm.iterations!=="number"){throw new TypeError("iterations: Is not a Number");}if(algorithm.iterations<1){throw new TypeError("iterations: Is less than 1");}}},{key:"checkImportKey",value:function checkImportKey(format,keyData,algorithm,extractable,keyUsages){_get(_getPrototypeOf(Pbkdf2Provider.prototype),"checkImportKey",this).call(this,format,keyData,algorithm,extractable,keyUsages);if(extractable){// If extractable is not false, then throw a SyntaxError
  throw new SyntaxError("extractable: Must be False");}}}]);return Pbkdf2Provider;}(ProviderCrypto);var Crypto=function Crypto(){_classCallCheck(this,Crypto);};var ProviderStorage=/*#__PURE__*/function(){function ProviderStorage(){_classCallCheck(this,ProviderStorage);this.items={};}_createClass(ProviderStorage,[{key:"get",value:function get(algorithmName){return this.items[algorithmName.toLowerCase()]||null;}},{key:"set",value:function set(provider){this.items[provider.name.toLowerCase()]=provider;}},{key:"removeAt",value:function removeAt(algorithmName){var provider=this.get(algorithmName.toLowerCase());if(provider){delete this.items[algorithmName];}return provider;}},{key:"has",value:function has(name){return !!this.get(name);}},{key:"length",get:function get(){return Object.keys(this.items).length;}},{key:"algorithms",get:function get(){var algorithms=[];for(var _key in this.items){var provider=this.items[_key];algorithms.push(provider.name);}return algorithms.sort();}}]);return ProviderStorage;}();var SubtleCrypto=/*#__PURE__*/function(){function SubtleCrypto(){_classCallCheck(this,SubtleCrypto);this.providers=new ProviderStorage();}_createClass(SubtleCrypto,[{key:"digest",value:function digest(algorithm,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var preparedAlgorithm,preparedData,provider,result,_args20=arguments;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:this.checkRequiredArguments(_args20,2,"digest");preparedAlgorithm=this.prepareAlgorithm(algorithm);preparedData=BufferSourceConverter.toArrayBuffer(data);provider=this.getProvider(preparedAlgorithm.name);_context19.next=6;return provider.digest(preparedAlgorithm,preparedData);case 6:result=_context19.sent;return _context19.abrupt("return",result);case 8:case"end":return _context19.stop();}}},_callee19,this);}));}},{key:"generateKey",value:function generateKey(algorithm,extractable,keyUsages){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee20(){var preparedAlgorithm,provider,result,_args21=arguments;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:this.checkRequiredArguments(_args21,3,"generateKey");preparedAlgorithm=this.prepareAlgorithm(algorithm);provider=this.getProvider(preparedAlgorithm.name);_context20.next=5;return provider.generateKey(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),extractable,keyUsages);case 5:result=_context20.sent;return _context20.abrupt("return",result);case 7:case"end":return _context20.stop();}}},_callee20,this);}));}},{key:"sign",value:function sign(algorithm,key,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee21(){var preparedAlgorithm,preparedData,provider,result,_args22=arguments;return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:this.checkRequiredArguments(_args22,3,"sign");this.checkCryptoKey(key);preparedAlgorithm=this.prepareAlgorithm(algorithm);preparedData=BufferSourceConverter.toArrayBuffer(data);provider=this.getProvider(preparedAlgorithm.name);_context21.next=7;return provider.sign(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),key,preparedData);case 7:result=_context21.sent;return _context21.abrupt("return",result);case 9:case"end":return _context21.stop();}}},_callee21,this);}));}},{key:"verify",value:function verify(algorithm,key,signature,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var preparedAlgorithm,preparedData,preparedSignature,provider,result,_args23=arguments;return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:this.checkRequiredArguments(_args23,4,"verify");this.checkCryptoKey(key);preparedAlgorithm=this.prepareAlgorithm(algorithm);preparedData=BufferSourceConverter.toArrayBuffer(data);preparedSignature=BufferSourceConverter.toArrayBuffer(signature);provider=this.getProvider(preparedAlgorithm.name);_context22.next=8;return provider.verify(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),key,preparedSignature,preparedData);case 8:result=_context22.sent;return _context22.abrupt("return",result);case 10:case"end":return _context22.stop();}}},_callee22,this);}));}},{key:"encrypt",value:function encrypt(algorithm,key,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee23(){var preparedAlgorithm,preparedData,provider,result,_args24=arguments;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:this.checkRequiredArguments(_args24,3,"encrypt");this.checkCryptoKey(key);preparedAlgorithm=this.prepareAlgorithm(algorithm);preparedData=BufferSourceConverter.toArrayBuffer(data);provider=this.getProvider(preparedAlgorithm.name);_context23.next=7;return provider.encrypt(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),key,preparedData,{keyUsage:true});case 7:result=_context23.sent;return _context23.abrupt("return",result);case 9:case"end":return _context23.stop();}}},_callee23,this);}));}},{key:"decrypt",value:function decrypt(algorithm,key,data){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee24(){var preparedAlgorithm,preparedData,provider,result,_args25=arguments;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:this.checkRequiredArguments(_args25,3,"decrypt");this.checkCryptoKey(key);preparedAlgorithm=this.prepareAlgorithm(algorithm);preparedData=BufferSourceConverter.toArrayBuffer(data);provider=this.getProvider(preparedAlgorithm.name);_context24.next=7;return provider.decrypt(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),key,preparedData,{keyUsage:true});case 7:result=_context24.sent;return _context24.abrupt("return",result);case 9:case"end":return _context24.stop();}}},_callee24,this);}));}},{key:"deriveBits",value:function deriveBits(algorithm,baseKey,length){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var preparedAlgorithm,provider,result,_args26=arguments;return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:this.checkRequiredArguments(_args26,3,"deriveBits");this.checkCryptoKey(baseKey);preparedAlgorithm=this.prepareAlgorithm(algorithm);provider=this.getProvider(preparedAlgorithm.name);_context25.next=6;return provider.deriveBits(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),baseKey,length,{keyUsage:true});case 6:result=_context25.sent;return _context25.abrupt("return",result);case 8:case"end":return _context25.stop();}}},_callee25,this);}));}},{key:"deriveKey",value:function deriveKey(algorithm,baseKey,derivedKeyType,extractable,keyUsages){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee26(){var preparedDerivedKeyType,importProvider,preparedAlgorithm,provider,derivedBits,_args27=arguments;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:this.checkRequiredArguments(_args27,5,"deriveKey");// check derivedKeyType
  preparedDerivedKeyType=this.prepareAlgorithm(derivedKeyType);importProvider=this.getProvider(preparedDerivedKeyType.name);importProvider.checkDerivedKeyParams(preparedDerivedKeyType);// derive bits
  preparedAlgorithm=this.prepareAlgorithm(algorithm);provider=this.getProvider(preparedAlgorithm.name);provider.checkCryptoKey(baseKey,"deriveKey");_context26.next=9;return provider.deriveBits(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),baseKey,derivedKeyType.length,{keyUsage:false});case 9:derivedBits=_context26.sent;return _context26.abrupt("return",this.importKey("raw",derivedBits,derivedKeyType,extractable,keyUsages));case 11:case"end":return _context26.stop();}}},_callee26,this);}));}},{key:"exportKey",value:function exportKey(format,key){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee27(){var provider,result,_args28=arguments;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:this.checkRequiredArguments(_args28,2,"exportKey");this.checkCryptoKey(key);provider=this.getProvider(key.algorithm.name);_context27.next=5;return provider.exportKey(format,key);case 5:result=_context27.sent;return _context27.abrupt("return",result);case 7:case"end":return _context27.stop();}}},_callee27,this);}));}},{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,arguments,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee28(){var preparedAlgorithm,provider,preparedData,_args29=arguments;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:this.checkRequiredArguments(_args29,5,"importKey");preparedAlgorithm=this.prepareAlgorithm(algorithm);provider=this.getProvider(preparedAlgorithm.name);if(!(["pkcs8","spki","raw"].indexOf(format)!==-1)){_context28.next=8;break;}preparedData=BufferSourceConverter.toArrayBuffer(keyData);return _context28.abrupt("return",provider.importKey(format,preparedData,Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),extractable,keyUsages));case 8:if(keyData.kty){_context28.next=10;break;}throw new TypeError("keyData: Is not JSON");case 10:return _context28.abrupt("return",provider.importKey(format,keyData,Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),extractable,keyUsages));case 11:case"end":return _context28.stop();}}},_callee28,this);}));}},{key:"wrapKey",value:function wrapKey(format,key,wrappingKey,wrapAlgorithm){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee29(){var keyData,json,preparedAlgorithm,preparedData,provider;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:_context29.next=2;return this.exportKey(format,key);case 2:keyData=_context29.sent;if(format==="jwk"){json=JSON.stringify(keyData);keyData=Convert.FromUtf8String(json);}// encrypt key data
  preparedAlgorithm=this.prepareAlgorithm(wrapAlgorithm);preparedData=BufferSourceConverter.toArrayBuffer(keyData);provider=this.getProvider(preparedAlgorithm.name);return _context29.abrupt("return",provider.encrypt(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),wrappingKey,preparedData,{keyUsage:false}));case 8:case"end":return _context29.stop();}}},_callee29,this);}));}},{key:"unwrapKey",value:function unwrapKey(format,wrappedKey,unwrappingKey,unwrapAlgorithm,unwrappedKeyAlgorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var preparedAlgorithm,preparedData,provider,keyData,error;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:// decrypt wrapped key
  preparedAlgorithm=this.prepareAlgorithm(unwrapAlgorithm);preparedData=BufferSourceConverter.toArrayBuffer(wrappedKey);provider=this.getProvider(preparedAlgorithm.name);_context30.next=5;return provider.decrypt(Object.assign(Object.assign({},preparedAlgorithm),{name:provider.name}),unwrappingKey,preparedData,{keyUsage:false});case 5:keyData=_context30.sent;if(!(format==="jwk")){_context30.next=16;break;}_context30.prev=7;keyData=JSON.parse(Convert.ToUtf8String(keyData));_context30.next=16;break;case 11:_context30.prev=11;_context30.t0=_context30["catch"](7);error=new TypeError("wrappedKey: Is not a JSON");error.internal=_context30.t0;throw error;case 16:return _context30.abrupt("return",this.importKey(format,keyData,unwrappedKeyAlgorithm,extractable,keyUsages));case 17:case"end":return _context30.stop();}}},_callee30,this,[[7,11]]);}));}},{key:"checkRequiredArguments",value:function checkRequiredArguments(args,size,methodName){if(args.length!==size){throw new TypeError("Failed to execute '".concat(methodName,"' on 'SubtleCrypto': ").concat(size," arguments required, but only ").concat(args.length," present"));}}},{key:"prepareAlgorithm",value:function prepareAlgorithm(algorithm){if(typeof algorithm==="string"){return {name:algorithm};}if(SubtleCrypto.isHashedAlgorithm(algorithm)){var preparedAlgorithm=Object.assign({},algorithm);preparedAlgorithm.hash=this.prepareAlgorithm(algorithm.hash);return preparedAlgorithm;}return Object.assign({},algorithm);}},{key:"getProvider",value:function getProvider(name){var provider=this.providers.get(name);if(!provider){throw new AlgorithmError("Unrecognized name");}return provider;}},{key:"checkCryptoKey",value:function checkCryptoKey(key){if(!(key instanceof CryptoKey)){throw new TypeError("Key is not of type 'CryptoKey'");}}}],[{key:"isHashedAlgorithm",value:function isHashedAlgorithm(data){return data instanceof Object&&"name"in data&&"hash"in data;}}]);return SubtleCrypto;}();var commonjsGlobal=typeof globalThis!=='undefined'?globalThis:typeof window!=='undefined'?window:typeof global!=='undefined'?global:typeof self!=='undefined'?self:{};function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,'default')?x['default']:x;}function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}function getCjsExportFromNamespace(n){return n&&n['default']||n;}function getUTCDate(date){return new Date(date.getTime()+date.getTimezoneOffset()*60000);}function getParametersValue(parameters,name,defaultValue){if(parameters instanceof Object===false)return defaultValue;if(name in parameters)return parameters[name];return defaultValue;}function bufferToHexCodes(inputBuffer){var inputOffset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var inputLength=arguments.length>2&&arguments[2]!==undefined?arguments[2]:inputBuffer.byteLength-inputOffset;var insertSpace=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var result="";var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=new Uint8Array(inputBuffer,inputOffset,inputLength)[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var item=_step4.value;var str=item.toString(16).toUpperCase();if(str.length===1)result+="0";result+=str;if(insertSpace)result+=" ";}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return!=null){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}return result.trim();}function checkBufferParams(baseBlock,inputBuffer,inputOffset,inputLength){if(inputBuffer instanceof ArrayBuffer===false){baseBlock.error="Wrong parameter: inputBuffer must be \"ArrayBuffer\"";return false;}if(inputBuffer.byteLength===0){baseBlock.error="Wrong parameter: inputBuffer has zero length";return false;}if(inputOffset<0){baseBlock.error="Wrong parameter: inputOffset less than zero";return false;}if(inputLength<0){baseBlock.error="Wrong parameter: inputLength less than zero";return false;}if(inputBuffer.byteLength-inputOffset-inputLength<0){baseBlock.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return false;}return true;}function utilFromBase(inputBuffer,inputBase){var result=0;if(inputBuffer.length===1)return inputBuffer[0];for(var i=inputBuffer.length-1;i>=0;i--){result+=inputBuffer[inputBuffer.length-1-i]*Math.pow(2,inputBase*i);}return result;}function utilToBase(value,base){var reserved=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;var internalReserved=reserved;var internalValue=value;var result=0;var biggest=Math.pow(2,base);for(var i=1;i<8;i++){if(value<biggest){var retBuf=void 0;if(internalReserved<0){retBuf=new ArrayBuffer(i);result=i;}else{if(internalReserved<i)return new ArrayBuffer(0);retBuf=new ArrayBuffer(internalReserved);result=internalReserved;}var retView=new Uint8Array(retBuf);for(var j=i-1;j>=0;j--){var basis=Math.pow(2,j*base);retView[result-j-1]=Math.floor(internalValue/basis);internalValue-=retView[result-j-1]*basis;}return retBuf;}biggest*=Math.pow(2,base);}return new ArrayBuffer(0);}function utilConcatBuf(){var outputLength=0;var prevLength=0;for(var _len=arguments.length,buffers=new Array(_len),_key2=0;_key2<_len;_key2++){buffers[_key2]=arguments[_key2];}for(var _i=0,_buffers=buffers;_i<_buffers.length;_i++){var buffer=_buffers[_i];outputLength+=buffer.byteLength;}var retBuf=new ArrayBuffer(outputLength);var retView=new Uint8Array(retBuf);for(var _i2=0,_buffers2=buffers;_i2<_buffers2.length;_i2++){var _buffer2=_buffers2[_i2];retView.set(new Uint8Array(_buffer2),prevLength);prevLength+=_buffer2.byteLength;}return retBuf;}function utilConcatView(){var outputLength=0;var prevLength=0;for(var _len2=arguments.length,views=new Array(_len2),_key3=0;_key3<_len2;_key3++){views[_key3]=arguments[_key3];}for(var _i3=0,_views=views;_i3<_views.length;_i3++){var view=_views[_i3];outputLength+=view.length;}var retBuf=new ArrayBuffer(outputLength);var retView=new Uint8Array(retBuf);for(var _i4=0,_views2=views;_i4<_views2.length;_i4++){var _view=_views2[_i4];retView.set(_view,prevLength);prevLength+=_view.length;}return retView;}function utilDecodeTC(){var buf=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){var condition1=buf[0]===0xFF&&buf[1]&0x80;var condition2=buf[0]===0x00&&(buf[1]&0x80)===0x00;if(condition1||condition2)this.warnings.push("Needlessly long format");}var bigIntBuffer=new ArrayBuffer(this.valueHex.byteLength);var bigIntView=new Uint8Array(bigIntBuffer);for(var i=0;i<this.valueHex.byteLength;i++){bigIntView[i]=0;}bigIntView[0]=buf[0]&0x80;var bigInt=utilFromBase(bigIntView,8);var smallIntBuffer=new ArrayBuffer(this.valueHex.byteLength);var smallIntView=new Uint8Array(smallIntBuffer);for(var j=0;j<this.valueHex.byteLength;j++){smallIntView[j]=buf[j];}smallIntView[0]&=0x7F;var smallInt=utilFromBase(smallIntView,8);return smallInt-bigInt;}function utilEncodeTC(value){var modValue=value<0?value*-1:value;var bigInt=128;for(var i=1;i<8;i++){if(modValue<=bigInt){if(value<0){var smallInt=bigInt-modValue;var _retBuf=utilToBase(smallInt,8,i);var _retView=new Uint8Array(_retBuf);_retView[0]|=0x80;return _retBuf;}var retBuf=utilToBase(modValue,8,i);var retView=new Uint8Array(retBuf);if(retView[0]&0x80){var tempBuf=retBuf.slice(0);var tempView=new Uint8Array(tempBuf);retBuf=new ArrayBuffer(retBuf.byteLength+1);retView=new Uint8Array(retBuf);for(var k=0;k<tempBuf.byteLength;k++){retView[k+1]=tempView[k];}retView[0]=0x00;}return retBuf;}bigInt*=Math.pow(2,8);}return new ArrayBuffer(0);}function isEqualBuffer(inputBuffer1,inputBuffer2){if(inputBuffer1.byteLength!==inputBuffer2.byteLength)return false;var view1=new Uint8Array(inputBuffer1);var view2=new Uint8Array(inputBuffer2);for(var i=0;i<view1.length;i++){if(view1[i]!==view2[i])return false;}return true;}function padNumber(inputNumber,fullLength){var str=inputNumber.toString(10);if(fullLength<str.length)return "";var dif=fullLength-str.length;var padding=new Array(dif);for(var i=0;i<dif;i++){padding[i]="0";}var paddingString=padding.join("");return paddingString.concat(str);}var base64Template="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var base64UrlTemplate="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function toBase64(input){var useUrlTemplate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var skipPadding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var skipLeadingZeros=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=0;var flag1=0;var flag2=0;var output="";var template=useUrlTemplate?base64UrlTemplate:base64Template;if(skipLeadingZeros){var nonZeroPosition=0;for(var _i5=0;_i5<input.length;_i5++){if(input.charCodeAt(_i5)!==0){nonZeroPosition=_i5;break;}}input=input.slice(nonZeroPosition);}while(i<input.length){var chr1=input.charCodeAt(i++);if(i>=input.length)flag1=1;var chr2=input.charCodeAt(i++);if(i>=input.length)flag2=1;var chr3=input.charCodeAt(i++);var enc1=chr1>>2;var enc2=(chr1&0x03)<<4|chr2>>4;var enc3=(chr2&0x0F)<<2|chr3>>6;var enc4=chr3&0x3F;if(flag1===1){enc3=enc4=64;}else{if(flag2===1){enc4=64;}}if(skipPadding){if(enc3===64)output+="".concat(template.charAt(enc1)).concat(template.charAt(enc2));else{if(enc4===64)output+="".concat(template.charAt(enc1)).concat(template.charAt(enc2)).concat(template.charAt(enc3));else output+="".concat(template.charAt(enc1)).concat(template.charAt(enc2)).concat(template.charAt(enc3)).concat(template.charAt(enc4));}}else output+="".concat(template.charAt(enc1)).concat(template.charAt(enc2)).concat(template.charAt(enc3)).concat(template.charAt(enc4));}return output;}function fromBase64(input){var useUrlTemplate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var cutTailZeros=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var template=useUrlTemplate?base64UrlTemplate:base64Template;function indexof(toSearch){for(var _i6=0;_i6<64;_i6++){if(template.charAt(_i6)===toSearch)return _i6;}return 64;}function test(incoming){return incoming===64?0x00:incoming;}var i=0;var output="";while(i<input.length){var enc1=indexof(input.charAt(i++));var enc2=i>=input.length?0x00:indexof(input.charAt(i++));var enc3=i>=input.length?0x00:indexof(input.charAt(i++));var enc4=i>=input.length?0x00:indexof(input.charAt(i++));var chr1=test(enc1)<<2|test(enc2)>>4;var chr2=(test(enc2)&0x0F)<<4|test(enc3)>>2;var chr3=(test(enc3)&0x03)<<6|test(enc4);output+=String.fromCharCode(chr1);if(enc3!==64)output+=String.fromCharCode(chr2);if(enc4!==64)output+=String.fromCharCode(chr3);}if(cutTailZeros){var outputLength=output.length;var nonZeroStart=-1;for(var _i7=outputLength-1;_i7>=0;_i7--){if(output.charCodeAt(_i7)!==0){nonZeroStart=_i7;break;}}if(nonZeroStart!==-1)output=output.slice(0,nonZeroStart+1);else output="";}return output;}function arrayBufferToString(buffer){var resultString="";var view=new Uint8Array(buffer);var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=view[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var element=_step5.value;resultString+=String.fromCharCode(element);}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return!=null){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}return resultString;}function stringToArrayBuffer(str){var stringLength=str.length;var resultBuffer=new ArrayBuffer(stringLength);var resultView=new Uint8Array(resultBuffer);for(var i=0;i<stringLength;i++){resultView[i]=str.charCodeAt(i);}return resultBuffer;}var log2=Math.log(2);function nearestPowerOf2(length){var base=Math.log(length)/log2;var floor=Math.floor(base);var round=Math.round(base);return floor===round?floor:round;}function clearProps(object,propsArray){var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=propsArray[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var prop=_step6.value;delete object[prop];}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return!=null){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}}var utils=/*#__PURE__*/Object.freeze({__proto__:null,getUTCDate:getUTCDate,getParametersValue:getParametersValue,bufferToHexCodes:bufferToHexCodes,checkBufferParams:checkBufferParams,utilFromBase:utilFromBase,utilToBase:utilToBase,utilConcatBuf:utilConcatBuf,utilConcatView:utilConcatView,utilDecodeTC:utilDecodeTC,utilEncodeTC:utilEncodeTC,isEqualBuffer:isEqualBuffer,padNumber:padNumber,toBase64:toBase64,fromBase64:fromBase64,arrayBufferToString:arrayBufferToString,stringToArrayBuffer:stringToArrayBuffer,nearestPowerOf2:nearestPowerOf2,clearProps:clearProps});var asn1=createCommonjsModule(function(module,exports){Object.defineProperty(exports,"__esModule",{value:true});exports.fromBER=fromBER;exports.compareSchema=compareSchema;exports.verifySchema=verifySchema;exports.fromJSON=fromJSON;exports.RawData=exports.Repeated=exports.Any=exports.Choice=exports.TIME=exports.Duration=exports.DateTime=exports.TimeOfDay=exports.DATE=exports.GeneralizedTime=exports.UTCTime=exports.CharacterString=exports.GeneralString=exports.VisibleString=exports.GraphicString=exports.IA5String=exports.VideotexString=exports.TeletexString=exports.PrintableString=exports.NumericString=exports.UniversalString=exports.BmpString=exports.RelativeObjectIdentifier=exports.Utf8String=exports.ObjectIdentifier=exports.Enumerated=exports.Integer=exports.BitString=exports.OctetString=exports.Null=exports.Set=exports.Sequence=exports.Boolean=exports.EndOfContent=exports.Constructed=exports.Primitive=exports.BaseBlock=exports.ValueBlock=exports.HexBlock=void 0;var powers2=[new Uint8Array([1])];var digitsString="0123456789";var LocalBaseBlock=/*#__PURE__*/function(){function LocalBaseBlock(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalBaseBlock);this.blockLength=(0, utils.getParametersValue)(parameters,"blockLength",0);this.error=(0, utils.getParametersValue)(parameters,"error","");this.warnings=(0, utils.getParametersValue)(parameters,"warnings",[]);if("valueBeforeDecode"in parameters)this.valueBeforeDecode=parameters.valueBeforeDecode.slice(0);else this.valueBeforeDecode=new ArrayBuffer(0);}_createClass(LocalBaseBlock,[{key:"toJSON",value:function toJSON(){return {blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:(0, utils.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)};}}],[{key:"blockName",value:function blockName(){return "baseBlock";}}]);return LocalBaseBlock;}();var HexBlock=function HexBlock(BaseClass){return(/*#__PURE__*/function(_BaseClass){_inherits(LocalHexBlockMixin,_BaseClass);function LocalHexBlockMixin(){var _this15;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalHexBlockMixin);_this15=_possibleConstructorReturn(this,_getPrototypeOf(LocalHexBlockMixin).call(this,parameters));_this15.isHexOnly=(0, utils.getParametersValue)(parameters,"isHexOnly",false);if("valueHex"in parameters)_this15.valueHex=parameters.valueHex.slice(0);else _this15.valueHex=new ArrayBuffer(0);return _this15;}_createClass(LocalHexBlockMixin,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(intBuffer.length===0){this.warnings.push("Zero buffer length");return inputOffset;}this.valueHex=inputBuffer.slice(inputOffset,inputOffset+inputLength);this.blockLength=inputLength;return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.isHexOnly!==true){this.error="Flag \"isHexOnly\" is not set, abort";return new ArrayBuffer(0);}if(sizeOnly===true)return new ArrayBuffer(this.valueHex.byteLength);return this.valueHex.slice(0);}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalHexBlockMixin.prototype),"toJSON",this).call(this);}catch(ex){}object.blockName=this.constructor.blockName();object.isHexOnly=this.isHexOnly;object.valueHex=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return object;}}],[{key:"blockName",value:function blockName(){return "hexBlock";}}]);return LocalHexBlockMixin;}(BaseClass));};exports.HexBlock=HexBlock;var LocalIdentificationBlock=/*#__PURE__*/function(_HexBlock){_inherits(LocalIdentificationBlock,_HexBlock);function LocalIdentificationBlock(){var _this16;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalIdentificationBlock);_this16=_possibleConstructorReturn(this,_getPrototypeOf(LocalIdentificationBlock).call(this));if("idBlock"in parameters){_this16.isHexOnly=(0, utils.getParametersValue)(parameters.idBlock,"isHexOnly",false);_this16.valueHex=(0, utils.getParametersValue)(parameters.idBlock,"valueHex",new ArrayBuffer(0));_this16.tagClass=(0, utils.getParametersValue)(parameters.idBlock,"tagClass",-1);_this16.tagNumber=(0, utils.getParametersValue)(parameters.idBlock,"tagNumber",-1);_this16.isConstructed=(0, utils.getParametersValue)(parameters.idBlock,"isConstructed",false);}else{_this16.tagClass=-1;_this16.tagNumber=-1;_this16.isConstructed=false;}return _this16;}_createClass(LocalIdentificationBlock,[{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var firstOctet=0;var retBuf;var retView;switch(this.tagClass){case 1:firstOctet|=0x00;break;case 2:firstOctet|=0x40;break;case 3:firstOctet|=0x80;break;case 4:firstOctet|=0xC0;break;default:this.error="Unknown tag class";return new ArrayBuffer(0);}if(this.isConstructed)firstOctet|=0x20;if(this.tagNumber<31&&!this.isHexOnly){retBuf=new ArrayBuffer(1);retView=new Uint8Array(retBuf);if(!sizeOnly){var number=this.tagNumber;number&=0x1F;firstOctet|=number;retView[0]=firstOctet;}return retBuf;}if(this.isHexOnly===false){var encodedBuf=(0, utils.utilToBase)(this.tagNumber,7);var encodedView=new Uint8Array(encodedBuf);var size=encodedBuf.byteLength;retBuf=new ArrayBuffer(size+1);retView=new Uint8Array(retBuf);retView[0]=firstOctet|0x1F;if(!sizeOnly){for(var i=0;i<size-1;i++){retView[i+1]=encodedView[i]|0x80;}retView[size]=encodedView[size-1];}return retBuf;}retBuf=new ArrayBuffer(this.valueHex.byteLength+1);retView=new Uint8Array(retBuf);retView[0]=firstOctet|0x1F;if(sizeOnly===false){var curView=new Uint8Array(this.valueHex);for(var _i8=0;_i8<curView.length-1;_i8++){retView[_i8+1]=curView[_i8]|0x80;}retView[this.valueHex.byteLength]=curView[curView.length-1];}return retBuf;}},{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(intBuffer.length===0){this.error="Zero buffer length";return -1;}var tagClassMask=intBuffer[0]&0xC0;switch(tagClassMask){case 0x00:this.tagClass=1;break;case 0x40:this.tagClass=2;break;case 0x80:this.tagClass=3;break;case 0xC0:this.tagClass=4;break;default:this.error="Unknown tag class";return -1;}this.isConstructed=(intBuffer[0]&0x20)===0x20;this.isHexOnly=false;var tagNumberMask=intBuffer[0]&0x1F;if(tagNumberMask!==0x1F){this.tagNumber=tagNumberMask;this.blockLength=1;}else{var count=1;this.valueHex=new ArrayBuffer(255);var tagNumberBufferMaxLength=255;var intTagNumberBuffer=new Uint8Array(this.valueHex);while(intBuffer[count]&0x80){intTagNumberBuffer[count-1]=intBuffer[count]&0x7F;count++;if(count>=intBuffer.length){this.error="End of input reached before message was fully decoded";return -1;}if(count===tagNumberBufferMaxLength){tagNumberBufferMaxLength+=255;var _tempBuffer=new ArrayBuffer(tagNumberBufferMaxLength);var _tempBufferView=new Uint8Array(_tempBuffer);for(var i=0;i<intTagNumberBuffer.length;i++){_tempBufferView[i]=intTagNumberBuffer[i];}this.valueHex=new ArrayBuffer(tagNumberBufferMaxLength);intTagNumberBuffer=new Uint8Array(this.valueHex);}}this.blockLength=count+1;intTagNumberBuffer[count-1]=intBuffer[count]&0x7F;var tempBuffer=new ArrayBuffer(count);var tempBufferView=new Uint8Array(tempBuffer);for(var _i9=0;_i9<count;_i9++){tempBufferView[_i9]=intTagNumberBuffer[_i9];}this.valueHex=new ArrayBuffer(count);intTagNumberBuffer=new Uint8Array(this.valueHex);intTagNumberBuffer.set(tempBufferView);if(this.blockLength<=9)this.tagNumber=(0, utils.utilFromBase)(intTagNumberBuffer,7);else{this.isHexOnly=true;this.warnings.push("Tag too long, represented as hex-coded");}}if(this.tagClass===1&&this.isConstructed){switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:this.error="Constructed encoding used for primitive type";return -1;}}return inputOffset+this.blockLength;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalIdentificationBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.blockName=this.constructor.blockName();object.tagClass=this.tagClass;object.tagNumber=this.tagNumber;object.isConstructed=this.isConstructed;return object;}}],[{key:"blockName",value:function blockName(){return "identificationBlock";}}]);return LocalIdentificationBlock;}(HexBlock(LocalBaseBlock));var LocalLengthBlock=/*#__PURE__*/function(_LocalBaseBlock){_inherits(LocalLengthBlock,_LocalBaseBlock);function LocalLengthBlock(){var _this17;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalLengthBlock);_this17=_possibleConstructorReturn(this,_getPrototypeOf(LocalLengthBlock).call(this));if("lenBlock"in parameters){_this17.isIndefiniteForm=(0, utils.getParametersValue)(parameters.lenBlock,"isIndefiniteForm",false);_this17.longFormUsed=(0, utils.getParametersValue)(parameters.lenBlock,"longFormUsed",false);_this17.length=(0, utils.getParametersValue)(parameters.lenBlock,"length",0);}else{_this17.isIndefiniteForm=false;_this17.longFormUsed=false;_this17.length=0;}return _this17;}_createClass(LocalLengthBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(intBuffer.length===0){this.error="Zero buffer length";return -1;}if(intBuffer[0]===0xFF){this.error="Length block 0xFF is reserved by standard";return -1;}this.isIndefiniteForm=intBuffer[0]===0x80;if(this.isIndefiniteForm===true){this.blockLength=1;return inputOffset+this.blockLength;}this.longFormUsed=!!(intBuffer[0]&0x80);if(this.longFormUsed===false){this.length=intBuffer[0];this.blockLength=1;return inputOffset+this.blockLength;}var count=intBuffer[0]&0x7F;if(count>8){this.error="Too big integer";return -1;}if(count+1>intBuffer.length){this.error="End of input reached before message was fully decoded";return -1;}var lengthBufferView=new Uint8Array(count);for(var i=0;i<count;i++){lengthBufferView[i]=intBuffer[i+1];}if(lengthBufferView[count-1]===0x00)this.warnings.push("Needlessly long encoded length");this.length=(0, utils.utilFromBase)(lengthBufferView,8);if(this.longFormUsed&&this.length<=127)this.warnings.push("Unneccesary usage of long length form");this.blockLength=count+1;return inputOffset+this.blockLength;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf;var retView;if(this.length>127)this.longFormUsed=true;if(this.isIndefiniteForm){retBuf=new ArrayBuffer(1);if(sizeOnly===false){retView=new Uint8Array(retBuf);retView[0]=0x80;}return retBuf;}if(this.longFormUsed===true){var encodedBuf=(0, utils.utilToBase)(this.length,8);if(encodedBuf.byteLength>127){this.error="Too big length";return new ArrayBuffer(0);}retBuf=new ArrayBuffer(encodedBuf.byteLength+1);if(sizeOnly===true)return retBuf;var encodedView=new Uint8Array(encodedBuf);retView=new Uint8Array(retBuf);retView[0]=encodedBuf.byteLength|0x80;for(var i=0;i<encodedBuf.byteLength;i++){retView[i+1]=encodedView[i];}return retBuf;}retBuf=new ArrayBuffer(1);if(sizeOnly===false){retView=new Uint8Array(retBuf);retView[0]=this.length;}return retBuf;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalLengthBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.blockName=this.constructor.blockName();object.isIndefiniteForm=this.isIndefiniteForm;object.longFormUsed=this.longFormUsed;object.length=this.length;return object;}}],[{key:"blockName",value:function blockName(){return "lengthBlock";}}]);return LocalLengthBlock;}(LocalBaseBlock);var ValueBlock=/*#__PURE__*/function(_LocalBaseBlock2){_inherits(ValueBlock,_LocalBaseBlock2);function ValueBlock(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ValueBlock);return _possibleConstructorReturn(this,_getPrototypeOf(ValueBlock).call(this,parameters));}_createClass(ValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){throw TypeError("User need to make a specific function in a class which extends \"ValueBlock\"");}},{key:"toBER",value:function toBER(){throw TypeError("User need to make a specific function in a class which extends \"ValueBlock\"");}}],[{key:"blockName",value:function blockName(){return "valueBlock";}}]);return ValueBlock;}(LocalBaseBlock);exports.ValueBlock=ValueBlock;var BaseBlock=/*#__PURE__*/function(_LocalBaseBlock3){_inherits(BaseBlock,_LocalBaseBlock3);function BaseBlock(){var _this18;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var valueBlockType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ValueBlock;_classCallCheck(this,BaseBlock);_this18=_possibleConstructorReturn(this,_getPrototypeOf(BaseBlock).call(this,parameters));if("name"in parameters)_this18.name=parameters.name;if("optional"in parameters)_this18.optional=parameters.optional;if("primitiveSchema"in parameters)_this18.primitiveSchema=parameters.primitiveSchema;_this18.idBlock=new LocalIdentificationBlock(parameters);_this18.lenBlock=new LocalLengthBlock(parameters);_this18.valueBlock=new valueBlockType(parameters);return _this18;}_createClass(BaseBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf;var idBlockBuf=this.idBlock.toBER(sizeOnly);var valueBlockSizeBuf=this.valueBlock.toBER(true);this.lenBlock.length=valueBlockSizeBuf.byteLength;var lenBlockBuf=this.lenBlock.toBER(sizeOnly);retBuf=(0, utils.utilConcatBuf)(idBlockBuf,lenBlockBuf);var valueBlockBuf;if(sizeOnly===false)valueBlockBuf=this.valueBlock.toBER(sizeOnly);else valueBlockBuf=new ArrayBuffer(this.lenBlock.length);retBuf=(0, utils.utilConcatBuf)(retBuf,valueBlockBuf);if(this.lenBlock.isIndefiniteForm===true){var indefBuf=new ArrayBuffer(2);if(sizeOnly===false){var indefView=new Uint8Array(indefBuf);indefView[0]=0x00;indefView[1]=0x00;}retBuf=(0, utils.utilConcatBuf)(retBuf,indefBuf);}return retBuf;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(BaseBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.idBlock=this.idBlock.toJSON();object.lenBlock=this.lenBlock.toJSON();object.valueBlock=this.valueBlock.toJSON();if("name"in this)object.name=this.name;if("optional"in this)object.optional=this.optional;if("primitiveSchema"in this)object.primitiveSchema=this.primitiveSchema.toJSON();return object;}}],[{key:"blockName",value:function blockName(){return "BaseBlock";}}]);return BaseBlock;}(LocalBaseBlock);exports.BaseBlock=BaseBlock;var LocalPrimitiveValueBlock=/*#__PURE__*/function(_ValueBlock){_inherits(LocalPrimitiveValueBlock,_ValueBlock);function LocalPrimitiveValueBlock(){var _this19;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalPrimitiveValueBlock);_this19=_possibleConstructorReturn(this,_getPrototypeOf(LocalPrimitiveValueBlock).call(this,parameters));if("valueHex"in parameters)_this19.valueHex=parameters.valueHex.slice(0);else _this19.valueHex=new ArrayBuffer(0);_this19.isHexOnly=(0, utils.getParametersValue)(parameters,"isHexOnly",true);return _this19;}_createClass(LocalPrimitiveValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(intBuffer.length===0){this.warnings.push("Zero buffer length");return inputOffset;}this.valueHex=new ArrayBuffer(intBuffer.length);var valueHexView=new Uint8Array(this.valueHex);for(var i=0;i<intBuffer.length;i++){valueHexView[i]=intBuffer[i];}this.blockLength=inputLength;return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){return this.valueHex.slice(0);}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalPrimitiveValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.valueHex=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);object.isHexOnly=this.isHexOnly;return object;}}],[{key:"blockName",value:function blockName(){return "PrimitiveValueBlock";}}]);return LocalPrimitiveValueBlock;}(ValueBlock);var Primitive=/*#__PURE__*/function(_BaseBlock){_inherits(Primitive,_BaseBlock);function Primitive(){var _this20;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Primitive);_this20=_possibleConstructorReturn(this,_getPrototypeOf(Primitive).call(this,parameters,LocalPrimitiveValueBlock));_this20.idBlock.isConstructed=false;return _this20;}_createClass(Primitive,null,[{key:"blockName",value:function blockName(){return "PRIMITIVE";}}]);return Primitive;}(BaseBlock);exports.Primitive=Primitive;var LocalConstructedValueBlock=/*#__PURE__*/function(_ValueBlock2){_inherits(LocalConstructedValueBlock,_ValueBlock2);function LocalConstructedValueBlock(){var _this21;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalConstructedValueBlock);_this21=_possibleConstructorReturn(this,_getPrototypeOf(LocalConstructedValueBlock).call(this,parameters));_this21.value=(0, utils.getParametersValue)(parameters,"value",[]);_this21.isIndefiniteForm=(0, utils.getParametersValue)(parameters,"isIndefiniteForm",false);return _this21;}_createClass(LocalConstructedValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var initialOffset=inputOffset;var initialLength=inputLength;if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(intBuffer.length===0){this.warnings.push("Zero buffer length");return inputOffset;}function checkLen(indefiniteLength,length){if(indefiniteLength===true)return 1;return length;}var currentOffset=inputOffset;while(checkLen(this.isIndefiniteForm,inputLength)>0){var returnObject=LocalFromBER(inputBuffer,currentOffset,inputLength);if(returnObject.offset===-1){this.error=returnObject.result.error;this.warnings.concat(returnObject.result.warnings);return -1;}currentOffset=returnObject.offset;this.blockLength+=returnObject.result.blockLength;inputLength-=returnObject.result.blockLength;this.value.push(returnObject.result);if(this.isIndefiniteForm===true&&returnObject.result.constructor.blockName()===EndOfContent.blockName())break;}if(this.isIndefiniteForm===true){if(this.value[this.value.length-1].constructor.blockName()===EndOfContent.blockName())this.value.pop();else this.warnings.push("No EndOfContent block encoded");}this.valueBeforeDecode=inputBuffer.slice(initialOffset,initialOffset+initialLength);return currentOffset;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf=new ArrayBuffer(0);for(var i=0;i<this.value.length;i++){var valueBuf=this.value[i].toBER(sizeOnly);retBuf=(0, utils.utilConcatBuf)(retBuf,valueBuf);}return retBuf;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalConstructedValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.isIndefiniteForm=this.isIndefiniteForm;object.value=[];for(var i=0;i<this.value.length;i++){object.value.push(this.value[i].toJSON());}return object;}}],[{key:"blockName",value:function blockName(){return "ConstructedValueBlock";}}]);return LocalConstructedValueBlock;}(ValueBlock);var Constructed=/*#__PURE__*/function(_BaseBlock2){_inherits(Constructed,_BaseBlock2);function Constructed(){var _this22;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Constructed);_this22=_possibleConstructorReturn(this,_getPrototypeOf(Constructed).call(this,parameters,LocalConstructedValueBlock));_this22.idBlock.isConstructed=true;return _this22;}_createClass(Constructed,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}}],[{key:"blockName",value:function blockName(){return "CONSTRUCTED";}}]);return Constructed;}(BaseBlock);exports.Constructed=Constructed;var LocalEndOfContentValueBlock=/*#__PURE__*/function(_ValueBlock3){_inherits(LocalEndOfContentValueBlock,_ValueBlock3);function LocalEndOfContentValueBlock(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalEndOfContentValueBlock);return _possibleConstructorReturn(this,_getPrototypeOf(LocalEndOfContentValueBlock).call(this,parameters));}_createClass(LocalEndOfContentValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){return inputOffset;}},{key:"toBER",value:function toBER(){return new ArrayBuffer(0);}}],[{key:"blockName",value:function blockName(){return "EndOfContentValueBlock";}}]);return LocalEndOfContentValueBlock;}(ValueBlock);var EndOfContent=/*#__PURE__*/function(_BaseBlock3){_inherits(EndOfContent,_BaseBlock3);function EndOfContent(){var _this23;var paramaters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,EndOfContent);_this23=_possibleConstructorReturn(this,_getPrototypeOf(EndOfContent).call(this,paramaters,LocalEndOfContentValueBlock));_this23.idBlock.tagClass=1;_this23.idBlock.tagNumber=0;return _this23;}_createClass(EndOfContent,null,[{key:"blockName",value:function blockName(){return "EndOfContent";}}]);return EndOfContent;}(BaseBlock);exports.EndOfContent=EndOfContent;var LocalBooleanValueBlock=/*#__PURE__*/function(_ValueBlock4){_inherits(LocalBooleanValueBlock,_ValueBlock4);function LocalBooleanValueBlock(){var _this24;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalBooleanValueBlock);_this24=_possibleConstructorReturn(this,_getPrototypeOf(LocalBooleanValueBlock).call(this,parameters));_this24.value=(0, utils.getParametersValue)(parameters,"value",false);_this24.isHexOnly=(0, utils.getParametersValue)(parameters,"isHexOnly",false);if("valueHex"in parameters)_this24.valueHex=parameters.valueHex.slice(0);else{_this24.valueHex=new ArrayBuffer(1);if(_this24.value===true){var view=new Uint8Array(_this24.valueHex);view[0]=0xFF;}}return _this24;}_createClass(LocalBooleanValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(inputLength>1)this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=true;this.valueHex=new ArrayBuffer(intBuffer.length);var view=new Uint8Array(this.valueHex);for(var i=0;i<intBuffer.length;i++){view[i]=intBuffer[i];}if(utils.utilDecodeTC.call(this)!==0)this.value=true;else this.value=false;this.blockLength=inputLength;return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){return this.valueHex;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalBooleanValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.value;object.isHexOnly=this.isHexOnly;object.valueHex=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return object;}}],[{key:"blockName",value:function blockName(){return "BooleanValueBlock";}}]);return LocalBooleanValueBlock;}(ValueBlock);var Boolean=/*#__PURE__*/function(_BaseBlock4){_inherits(Boolean,_BaseBlock4);function Boolean(){var _this25;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Boolean);_this25=_possibleConstructorReturn(this,_getPrototypeOf(Boolean).call(this,parameters,LocalBooleanValueBlock));_this25.idBlock.tagClass=1;_this25.idBlock.tagNumber=1;return _this25;}_createClass(Boolean,null,[{key:"blockName",value:function blockName(){return "Boolean";}}]);return Boolean;}(BaseBlock);exports.Boolean=Boolean;var Sequence=/*#__PURE__*/function(_Constructed){_inherits(Sequence,_Constructed);function Sequence(){var _this26;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Sequence);_this26=_possibleConstructorReturn(this,_getPrototypeOf(Sequence).call(this,parameters));_this26.idBlock.tagClass=1;_this26.idBlock.tagNumber=16;return _this26;}_createClass(Sequence,null,[{key:"blockName",value:function blockName(){return "Sequence";}}]);return Sequence;}(Constructed);exports.Sequence=Sequence;var Set=/*#__PURE__*/function(_Constructed2){_inherits(Set,_Constructed2);function Set(){var _this27;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Set);_this27=_possibleConstructorReturn(this,_getPrototypeOf(Set).call(this,parameters));_this27.idBlock.tagClass=1;_this27.idBlock.tagNumber=17;return _this27;}_createClass(Set,null,[{key:"blockName",value:function blockName(){return "Set";}}]);return Set;}(Constructed);exports.Set=Set;var Null=/*#__PURE__*/function(_BaseBlock5){_inherits(Null,_BaseBlock5);function Null(){var _this28;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Null);_this28=_possibleConstructorReturn(this,_getPrototypeOf(Null).call(this,parameters,LocalBaseBlock));_this28.idBlock.tagClass=1;_this28.idBlock.tagNumber=5;return _this28;}_createClass(Null,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if(this.lenBlock.length>0)this.warnings.push("Non-zero length of value block for Null type");if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;this.blockLength+=inputLength;if(inputOffset+inputLength>inputBuffer.byteLength){this.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return -1;}return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf=new ArrayBuffer(2);if(sizeOnly===true)return retBuf;var retView=new Uint8Array(retBuf);retView[0]=0x05;retView[1]=0x00;return retBuf;}}],[{key:"blockName",value:function blockName(){return "Null";}}]);return Null;}(BaseBlock);exports.Null=Null;var LocalOctetStringValueBlock=/*#__PURE__*/function(_HexBlock2){_inherits(LocalOctetStringValueBlock,_HexBlock2);function LocalOctetStringValueBlock(){var _this29;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalOctetStringValueBlock);_this29=_possibleConstructorReturn(this,_getPrototypeOf(LocalOctetStringValueBlock).call(this,parameters));_this29.isConstructed=(0, utils.getParametersValue)(parameters,"isConstructed",false);return _this29;}_createClass(LocalOctetStringValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=0;if(this.isConstructed===true){this.isHexOnly=false;resultOffset=LocalConstructedValueBlock.prototype.fromBER.call(this,inputBuffer,inputOffset,inputLength);if(resultOffset===-1)return resultOffset;for(var i=0;i<this.value.length;i++){var currentBlockName=this.value[i].constructor.blockName();if(currentBlockName===EndOfContent.blockName()){if(this.isIndefiniteForm===true)break;else{this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only";return -1;}}if(currentBlockName!==OctetString.blockName()){this.error="OCTET STRING may consists of OCTET STRINGs only";return -1;}}}else{this.isHexOnly=true;resultOffset=_get(_getPrototypeOf(LocalOctetStringValueBlock.prototype),"fromBER",this).call(this,inputBuffer,inputOffset,inputLength);this.blockLength=inputLength;}return resultOffset;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.isConstructed===true)return LocalConstructedValueBlock.prototype.toBER.call(this,sizeOnly);var retBuf=new ArrayBuffer(this.valueHex.byteLength);if(sizeOnly===true)return retBuf;if(this.valueHex.byteLength===0)return retBuf;retBuf=this.valueHex.slice(0);return retBuf;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalOctetStringValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.isConstructed=this.isConstructed;object.isHexOnly=this.isHexOnly;object.valueHex=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return object;}}],[{key:"blockName",value:function blockName(){return "OctetStringValueBlock";}}]);return LocalOctetStringValueBlock;}(HexBlock(LocalConstructedValueBlock));var OctetString=/*#__PURE__*/function(_BaseBlock6){_inherits(OctetString,_BaseBlock6);function OctetString(){var _this30;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,OctetString);_this30=_possibleConstructorReturn(this,_getPrototypeOf(OctetString).call(this,parameters,LocalOctetStringValueBlock));_this30.idBlock.tagClass=1;_this30.idBlock.tagNumber=4;return _this30;}_createClass(OctetString,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;if(inputLength===0){if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;return inputOffset;}return _get(_getPrototypeOf(OctetString.prototype),"fromBER",this).call(this,inputBuffer,inputOffset,inputLength);}},{key:"isEqual",value:function isEqual(octetString){if(octetString instanceof OctetString===false)return false;if(JSON.stringify(this)!==JSON.stringify(octetString))return false;return true;}}],[{key:"blockName",value:function blockName(){return "OctetString";}}]);return OctetString;}(BaseBlock);exports.OctetString=OctetString;var LocalBitStringValueBlock=/*#__PURE__*/function(_HexBlock3){_inherits(LocalBitStringValueBlock,_HexBlock3);function LocalBitStringValueBlock(){var _this31;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalBitStringValueBlock);_this31=_possibleConstructorReturn(this,_getPrototypeOf(LocalBitStringValueBlock).call(this,parameters));_this31.unusedBits=(0, utils.getParametersValue)(parameters,"unusedBits",0);_this31.isConstructed=(0, utils.getParametersValue)(parameters,"isConstructed",false);_this31.blockLength=_this31.valueHex.byteLength;return _this31;}_createClass(LocalBitStringValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if(inputLength===0)return inputOffset;var resultOffset=-1;if(this.isConstructed===true){resultOffset=LocalConstructedValueBlock.prototype.fromBER.call(this,inputBuffer,inputOffset,inputLength);if(resultOffset===-1)return resultOffset;for(var i=0;i<this.value.length;i++){var currentBlockName=this.value[i].constructor.blockName();if(currentBlockName===EndOfContent.blockName()){if(this.isIndefiniteForm===true)break;else{this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only";return -1;}}if(currentBlockName!==BitString.blockName()){this.error="BIT STRING may consists of BIT STRINGs only";return -1;}if(this.unusedBits>0&&this.value[i].valueBlock.unusedBits>0){this.error="Usign of \"unused bits\" inside constructive BIT STRING allowed for least one only";return -1;}this.unusedBits=this.value[i].valueBlock.unusedBits;if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return -1;}}return resultOffset;}if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);this.unusedBits=intBuffer[0];if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return -1;}this.valueHex=new ArrayBuffer(intBuffer.length-1);var view=new Uint8Array(this.valueHex);for(var _i10=0;_i10<inputLength-1;_i10++){view[_i10]=intBuffer[_i10+1];}this.blockLength=intBuffer.length;return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.isConstructed===true)return LocalConstructedValueBlock.prototype.toBER.call(this,sizeOnly);if(sizeOnly===true)return new ArrayBuffer(this.valueHex.byteLength+1);if(this.valueHex.byteLength===0)return new ArrayBuffer(0);var curView=new Uint8Array(this.valueHex);var retBuf=new ArrayBuffer(this.valueHex.byteLength+1);var retView=new Uint8Array(retBuf);retView[0]=this.unusedBits;for(var i=0;i<this.valueHex.byteLength;i++){retView[i+1]=curView[i];}return retBuf;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalBitStringValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.unusedBits=this.unusedBits;object.isConstructed=this.isConstructed;object.isHexOnly=this.isHexOnly;object.valueHex=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return object;}}],[{key:"blockName",value:function blockName(){return "BitStringValueBlock";}}]);return LocalBitStringValueBlock;}(HexBlock(LocalConstructedValueBlock));var BitString=/*#__PURE__*/function(_BaseBlock7){_inherits(BitString,_BaseBlock7);function BitString(){var _this32;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,BitString);_this32=_possibleConstructorReturn(this,_getPrototypeOf(BitString).call(this,parameters,LocalBitStringValueBlock));_this32.idBlock.tagClass=1;_this32.idBlock.tagNumber=3;return _this32;}_createClass(BitString,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if(inputLength===0)return inputOffset;this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return _get(_getPrototypeOf(BitString.prototype),"fromBER",this).call(this,inputBuffer,inputOffset,inputLength);}},{key:"isEqual",value:function isEqual(bitString){if(bitString instanceof BitString===false)return false;if(JSON.stringify(this)!==JSON.stringify(bitString))return false;return true;}}],[{key:"blockName",value:function blockName(){return "BitString";}}]);return BitString;}(BaseBlock);exports.BitString=BitString;var LocalIntegerValueBlock=/*#__PURE__*/function(_HexBlock4){_inherits(LocalIntegerValueBlock,_HexBlock4);function LocalIntegerValueBlock(){var _this33;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalIntegerValueBlock);_this33=_possibleConstructorReturn(this,_getPrototypeOf(LocalIntegerValueBlock).call(this,parameters));if("value"in parameters)_this33.valueDec=parameters.value;return _this33;}_createClass(LocalIntegerValueBlock,[{key:"fromDER",value:function fromDER(inputBuffer,inputOffset,inputLength){var expectedLength=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var offset=this.fromBER(inputBuffer,inputOffset,inputLength);if(offset===-1)return offset;var view=new Uint8Array(this._valueHex);if(view[0]===0x00&&(view[1]&0x80)!==0){var updatedValueHex=new ArrayBuffer(this._valueHex.byteLength-1);var updatedView=new Uint8Array(updatedValueHex);updatedView.set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1));this._valueHex=updatedValueHex.slice(0);}else{if(expectedLength!==0){if(this._valueHex.byteLength<expectedLength){if(expectedLength-this._valueHex.byteLength>1)expectedLength=this._valueHex.byteLength+1;var _updatedValueHex=new ArrayBuffer(expectedLength);var _updatedView=new Uint8Array(_updatedValueHex);_updatedView.set(view,expectedLength-this._valueHex.byteLength);this._valueHex=_updatedValueHex.slice(0);}}}return offset;}},{key:"toDER",value:function toDER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var view=new Uint8Array(this._valueHex);switch(true){case(view[0]&0x80)!==0:{var updatedValueHex=new ArrayBuffer(this._valueHex.byteLength+1);var updatedView=new Uint8Array(updatedValueHex);updatedView[0]=0x00;updatedView.set(view,1);this._valueHex=updatedValueHex.slice(0);}break;case view[0]===0x00&&(view[1]&0x80)===0:{var _updatedValueHex2=new ArrayBuffer(this._valueHex.byteLength-1);var _updatedView2=new Uint8Array(_updatedValueHex2);_updatedView2.set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1));this._valueHex=_updatedValueHex2.slice(0);}break;}return this.toBER(sizeOnly);}},{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=_get(_getPrototypeOf(LocalIntegerValueBlock.prototype),"fromBER",this).call(this,inputBuffer,inputOffset,inputLength);if(resultOffset===-1)return resultOffset;this.blockLength=inputLength;return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){return this.valueHex.slice(0);}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalIntegerValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.valueDec=this.valueDec;return object;}},{key:"toString",value:function toString(){function viewAdd(first,second){var c=new Uint8Array([0]);var firstView=new Uint8Array(first);var secondView=new Uint8Array(second);var firstViewCopy=firstView.slice(0);var firstViewCopyLength=firstViewCopy.length-1;var secondViewCopy=secondView.slice(0);var secondViewCopyLength=secondViewCopy.length-1;var value=0;var max=secondViewCopyLength<firstViewCopyLength?firstViewCopyLength:secondViewCopyLength;var counter=0;for(var i=max;i>=0;i--,counter++){switch(true){case counter<secondViewCopy.length:value=firstViewCopy[firstViewCopyLength-counter]+secondViewCopy[secondViewCopyLength-counter]+c[0];break;default:value=firstViewCopy[firstViewCopyLength-counter]+c[0];}c[0]=value/10;switch(true){case counter>=firstViewCopy.length:firstViewCopy=(0, utils.utilConcatView)(new Uint8Array([value%10]),firstViewCopy);break;default:firstViewCopy[firstViewCopyLength-counter]=value%10;}}if(c[0]>0)firstViewCopy=(0, utils.utilConcatView)(c,firstViewCopy);return firstViewCopy.slice(0);}function power2(n){if(n>=powers2.length){for(var p=powers2.length;p<=n;p++){var c=new Uint8Array([0]);var _digits=powers2[p-1].slice(0);for(var i=_digits.length-1;i>=0;i--){var newValue=new Uint8Array([(_digits[i]<<1)+c[0]]);c[0]=newValue[0]/10;_digits[i]=newValue[0]%10;}if(c[0]>0)_digits=(0, utils.utilConcatView)(c,_digits);powers2.push(_digits);}}return powers2[n];}function viewSub(first,second){var b=0;var firstView=new Uint8Array(first);var secondView=new Uint8Array(second);var firstViewCopy=firstView.slice(0);var firstViewCopyLength=firstViewCopy.length-1;var secondViewCopy=secondView.slice(0);var secondViewCopyLength=secondViewCopy.length-1;var value;var counter=0;for(var i=secondViewCopyLength;i>=0;i--,counter++){value=firstViewCopy[firstViewCopyLength-counter]-secondViewCopy[secondViewCopyLength-counter]-b;switch(true){case value<0:b=1;firstViewCopy[firstViewCopyLength-counter]=value+10;break;default:b=0;firstViewCopy[firstViewCopyLength-counter]=value;}}if(b>0){for(var _i11=firstViewCopyLength-secondViewCopyLength+1;_i11>=0;_i11--,counter++){value=firstViewCopy[firstViewCopyLength-counter]-b;if(value<0){b=1;firstViewCopy[firstViewCopyLength-counter]=value+10;}else{b=0;firstViewCopy[firstViewCopyLength-counter]=value;break;}}}return firstViewCopy.slice();}var firstBit=this._valueHex.byteLength*8-1;var digits=new Uint8Array(this._valueHex.byteLength*8/3);var bitNumber=0;var currentByte;var asn1View=new Uint8Array(this._valueHex);var result="";var flag=false;for(var byteNumber=this._valueHex.byteLength-1;byteNumber>=0;byteNumber--){currentByte=asn1View[byteNumber];for(var i=0;i<8;i++){if((currentByte&1)===1){switch(bitNumber){case firstBit:digits=viewSub(power2(bitNumber),digits);result="-";break;default:digits=viewAdd(digits,power2(bitNumber));}}bitNumber++;currentByte>>=1;}}for(var _i12=0;_i12<digits.length;_i12++){if(digits[_i12])flag=true;if(flag)result+=digitsString.charAt(digits[_i12]);}if(flag===false)result+=digitsString.charAt(0);return result;}},{key:"valueHex",set:function set(_value){this._valueHex=_value.slice(0);if(_value.byteLength>=4){this.warnings.push("Too big Integer for decoding, hex only");this.isHexOnly=true;this._valueDec=0;}else{this.isHexOnly=false;if(_value.byteLength>0)this._valueDec=utils.utilDecodeTC.call(this);}},get:function get(){return this._valueHex;}},{key:"valueDec",set:function set(_value){this._valueDec=_value;this.isHexOnly=false;this._valueHex=(0, utils.utilEncodeTC)(_value);},get:function get(){return this._valueDec;}}],[{key:"blockName",value:function blockName(){return "IntegerValueBlock";}}]);return LocalIntegerValueBlock;}(HexBlock(ValueBlock));var Integer=/*#__PURE__*/function(_BaseBlock8){_inherits(Integer,_BaseBlock8);function Integer(){var _this34;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Integer);_this34=_possibleConstructorReturn(this,_getPrototypeOf(Integer).call(this,parameters,LocalIntegerValueBlock));_this34.idBlock.tagClass=1;_this34.idBlock.tagNumber=2;return _this34;}_createClass(Integer,[{key:"isEqual",value:function isEqual(otherValue){if(otherValue instanceof Integer){if(this.valueBlock.isHexOnly&&otherValue.valueBlock.isHexOnly)return (0, utils.isEqualBuffer)(this.valueBlock.valueHex,otherValue.valueBlock.valueHex);if(this.valueBlock.isHexOnly===otherValue.valueBlock.isHexOnly)return this.valueBlock.valueDec===otherValue.valueBlock.valueDec;return false;}if(otherValue instanceof ArrayBuffer)return (0, utils.isEqualBuffer)(this.valueBlock.valueHex,otherValue);return false;}},{key:"convertToDER",value:function convertToDER(){var integer=new Integer({valueHex:this.valueBlock.valueHex});integer.valueBlock.toDER();return integer;}},{key:"convertFromDER",value:function convertFromDER(){var expectedLength=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength;var integer=new Integer({valueHex:this.valueBlock.valueHex});integer.valueBlock.fromDER(integer.valueBlock.valueHex,0,integer.valueBlock.valueHex.byteLength,expectedLength);return integer;}}],[{key:"blockName",value:function blockName(){return "Integer";}}]);return Integer;}(BaseBlock);exports.Integer=Integer;var Enumerated=/*#__PURE__*/function(_Integer){_inherits(Enumerated,_Integer);function Enumerated(){var _this35;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Enumerated);_this35=_possibleConstructorReturn(this,_getPrototypeOf(Enumerated).call(this,parameters));_this35.idBlock.tagClass=1;_this35.idBlock.tagNumber=10;return _this35;}_createClass(Enumerated,null,[{key:"blockName",value:function blockName(){return "Enumerated";}}]);return Enumerated;}(Integer);exports.Enumerated=Enumerated;var LocalSidValueBlock=/*#__PURE__*/function(_HexBlock5){_inherits(LocalSidValueBlock,_HexBlock5);function LocalSidValueBlock(){var _this36;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalSidValueBlock);_this36=_possibleConstructorReturn(this,_getPrototypeOf(LocalSidValueBlock).call(this,parameters));_this36.valueDec=(0, utils.getParametersValue)(parameters,"valueDec",-1);_this36.isFirstSid=(0, utils.getParametersValue)(parameters,"isFirstSid",false);return _this36;}_createClass(LocalSidValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if(inputLength===0)return inputOffset;if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);this.valueHex=new ArrayBuffer(inputLength);var view=new Uint8Array(this.valueHex);for(var i=0;i<inputLength;i++){view[i]=intBuffer[i]&0x7F;this.blockLength++;if((intBuffer[i]&0x80)===0x00)break;}var tempValueHex=new ArrayBuffer(this.blockLength);var tempView=new Uint8Array(tempValueHex);for(var _i13=0;_i13<this.blockLength;_i13++){tempView[_i13]=view[_i13];}this.valueHex=tempValueHex.slice(0);view=new Uint8Array(this.valueHex);if((intBuffer[this.blockLength-1]&0x80)!==0x00){this.error="End of input reached before message was fully decoded";return -1;}if(view[0]===0x00)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=(0, utils.utilFromBase)(view,7);else{this.isHexOnly=true;this.warnings.push("Too big SID for decoding, hex only");}return inputOffset+this.blockLength;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf;var retView;if(this.isHexOnly){if(sizeOnly===true)return new ArrayBuffer(this.valueHex.byteLength);var curView=new Uint8Array(this.valueHex);retBuf=new ArrayBuffer(this.blockLength);retView=new Uint8Array(retBuf);for(var i=0;i<this.blockLength-1;i++){retView[i]=curView[i]|0x80;}retView[this.blockLength-1]=curView[this.blockLength-1];return retBuf;}var encodedBuf=(0, utils.utilToBase)(this.valueDec,7);if(encodedBuf.byteLength===0){this.error="Error during encoding SID value";return new ArrayBuffer(0);}retBuf=new ArrayBuffer(encodedBuf.byteLength);if(sizeOnly===false){var encodedView=new Uint8Array(encodedBuf);retView=new Uint8Array(retBuf);for(var _i14=0;_i14<encodedBuf.byteLength-1;_i14++){retView[_i14]=encodedView[_i14]|0x80;}retView[encodedBuf.byteLength-1]=encodedView[encodedBuf.byteLength-1];}return retBuf;}},{key:"toString",value:function toString(){var result="";if(this.isHexOnly===true)result=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else{if(this.isFirstSid){var sidValue=this.valueDec;if(this.valueDec<=39)result="0.";else{if(this.valueDec<=79){result="1.";sidValue-=40;}else{result="2.";sidValue-=80;}}result+=sidValue.toString();}else result=this.valueDec.toString();}return result;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalSidValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.valueDec=this.valueDec;object.isFirstSid=this.isFirstSid;return object;}}],[{key:"blockName",value:function blockName(){return "sidBlock";}}]);return LocalSidValueBlock;}(HexBlock(LocalBaseBlock));var LocalObjectIdentifierValueBlock=/*#__PURE__*/function(_ValueBlock5){_inherits(LocalObjectIdentifierValueBlock,_ValueBlock5);function LocalObjectIdentifierValueBlock(){var _this37;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalObjectIdentifierValueBlock);_this37=_possibleConstructorReturn(this,_getPrototypeOf(LocalObjectIdentifierValueBlock).call(this,parameters));_this37.fromString((0, utils.getParametersValue)(parameters,"value",""));return _this37;}_createClass(LocalObjectIdentifierValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=inputOffset;while(inputLength>0){var sidBlock=new LocalSidValueBlock();resultOffset=sidBlock.fromBER(inputBuffer,resultOffset,inputLength);if(resultOffset===-1){this.blockLength=0;this.error=sidBlock.error;return resultOffset;}if(this.value.length===0)sidBlock.isFirstSid=true;this.blockLength+=sidBlock.blockLength;inputLength-=sidBlock.blockLength;this.value.push(sidBlock);}return resultOffset;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf=new ArrayBuffer(0);for(var i=0;i<this.value.length;i++){var valueBuf=this.value[i].toBER(sizeOnly);if(valueBuf.byteLength===0){this.error=this.value[i].error;return new ArrayBuffer(0);}retBuf=(0, utils.utilConcatBuf)(retBuf,valueBuf);}return retBuf;}},{key:"fromString",value:function fromString(string){this.value=[];var pos1=0;var pos2=0;var sid="";var flag=false;do{pos2=string.indexOf(".",pos1);if(pos2===-1)sid=string.substr(pos1);else sid=string.substr(pos1,pos2-pos1);pos1=pos2+1;if(flag){var sidBlock=this.value[0];var plus=0;switch(sidBlock.valueDec){case 0:break;case 1:plus=40;break;case 2:plus=80;break;default:this.value=[];return false;}var parsedSID=parseInt(sid,10);if(isNaN(parsedSID))return true;sidBlock.valueDec=parsedSID+plus;flag=false;}else{var _sidBlock=new LocalSidValueBlock();_sidBlock.valueDec=parseInt(sid,10);if(isNaN(_sidBlock.valueDec))return true;if(this.value.length===0){_sidBlock.isFirstSid=true;flag=true;}this.value.push(_sidBlock);}}while(pos2!==-1);return true;}},{key:"toString",value:function toString(){var result="";var isHexOnly=false;for(var i=0;i<this.value.length;i++){isHexOnly=this.value[i].isHexOnly;var sidStr=this.value[i].toString();if(i!==0)result="".concat(result,".");if(isHexOnly){sidStr="{".concat(sidStr,"}");if(this.value[i].isFirstSid)result="2.{".concat(sidStr," - 80}");else result+=sidStr;}else result+=sidStr;}return result;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalObjectIdentifierValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.toString();object.sidArray=[];for(var i=0;i<this.value.length;i++){object.sidArray.push(this.value[i].toJSON());}return object;}}],[{key:"blockName",value:function blockName(){return "ObjectIdentifierValueBlock";}}]);return LocalObjectIdentifierValueBlock;}(ValueBlock);var ObjectIdentifier=/*#__PURE__*/function(_BaseBlock9){_inherits(ObjectIdentifier,_BaseBlock9);function ObjectIdentifier(){var _this38;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ObjectIdentifier);_this38=_possibleConstructorReturn(this,_getPrototypeOf(ObjectIdentifier).call(this,parameters,LocalObjectIdentifierValueBlock));_this38.idBlock.tagClass=1;_this38.idBlock.tagNumber=6;return _this38;}_createClass(ObjectIdentifier,null,[{key:"blockName",value:function blockName(){return "ObjectIdentifier";}}]);return ObjectIdentifier;}(BaseBlock);exports.ObjectIdentifier=ObjectIdentifier;var LocalUtf8StringValueBlock=/*#__PURE__*/function(_HexBlock6){_inherits(LocalUtf8StringValueBlock,_HexBlock6);function LocalUtf8StringValueBlock(){var _this39;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalUtf8StringValueBlock);_this39=_possibleConstructorReturn(this,_getPrototypeOf(LocalUtf8StringValueBlock).call(this,parameters));_this39.isHexOnly=true;_this39.value="";return _this39;}_createClass(LocalUtf8StringValueBlock,[{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalUtf8StringValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.value;return object;}}],[{key:"blockName",value:function blockName(){return "Utf8StringValueBlock";}}]);return LocalUtf8StringValueBlock;}(HexBlock(LocalBaseBlock));var Utf8String=/*#__PURE__*/function(_BaseBlock10){_inherits(Utf8String,_BaseBlock10);function Utf8String(){var _this40;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Utf8String);_this40=_possibleConstructorReturn(this,_getPrototypeOf(Utf8String).call(this,parameters,LocalUtf8StringValueBlock));if("value"in parameters)_this40.fromString(parameters.value);_this40.idBlock.tagClass=1;_this40.idBlock.tagNumber=12;return _this40;}_createClass(Utf8String,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}this.fromBuffer(this.valueBlock.valueHex);if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"fromBuffer",value:function fromBuffer(inputBuffer){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(inputBuffer));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value));}catch(ex){this.warnings.push("Error during \"decodeURIComponent\": ".concat(ex,", using raw string"));}}},{key:"fromString",value:function fromString(inputString){var str=unescape(encodeURIComponent(inputString));var strLen=str.length;this.valueBlock.valueHex=new ArrayBuffer(strLen);var view=new Uint8Array(this.valueBlock.valueHex);for(var i=0;i<strLen;i++){view[i]=str.charCodeAt(i);}this.valueBlock.value=inputString;}}],[{key:"blockName",value:function blockName(){return "Utf8String";}}]);return Utf8String;}(BaseBlock);exports.Utf8String=Utf8String;var LocalRelativeSidValueBlock=/*#__PURE__*/function(_HexBlock7){_inherits(LocalRelativeSidValueBlock,_HexBlock7);function LocalRelativeSidValueBlock(){var _this41;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalRelativeSidValueBlock);_this41=_possibleConstructorReturn(this,_getPrototypeOf(LocalRelativeSidValueBlock).call(this,parameters));_this41.valueDec=(0, utils.getParametersValue)(parameters,"valueDec",-1);return _this41;}_createClass(LocalRelativeSidValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){if(inputLength===0)return inputOffset;if((0, utils.checkBufferParams)(this,inputBuffer,inputOffset,inputLength)===false)return -1;var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);this.valueHex=new ArrayBuffer(inputLength);var view=new Uint8Array(this.valueHex);for(var i=0;i<inputLength;i++){view[i]=intBuffer[i]&0x7F;this.blockLength++;if((intBuffer[i]&0x80)===0x00)break;}var tempValueHex=new ArrayBuffer(this.blockLength);var tempView=new Uint8Array(tempValueHex);for(var _i15=0;_i15<this.blockLength;_i15++){tempView[_i15]=view[_i15];}this.valueHex=tempValueHex.slice(0);view=new Uint8Array(this.valueHex);if((intBuffer[this.blockLength-1]&0x80)!==0x00){this.error="End of input reached before message was fully decoded";return -1;}if(view[0]===0x00)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=(0, utils.utilFromBase)(view,7);else{this.isHexOnly=true;this.warnings.push("Too big SID for decoding, hex only");}return inputOffset+this.blockLength;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf;var retView;if(this.isHexOnly){if(sizeOnly===true)return new ArrayBuffer(this.valueHex.byteLength);var curView=new Uint8Array(this.valueHex);retBuf=new ArrayBuffer(this.blockLength);retView=new Uint8Array(retBuf);for(var i=0;i<this.blockLength-1;i++){retView[i]=curView[i]|0x80;}retView[this.blockLength-1]=curView[this.blockLength-1];return retBuf;}var encodedBuf=(0, utils.utilToBase)(this.valueDec,7);if(encodedBuf.byteLength===0){this.error="Error during encoding SID value";return new ArrayBuffer(0);}retBuf=new ArrayBuffer(encodedBuf.byteLength);if(sizeOnly===false){var encodedView=new Uint8Array(encodedBuf);retView=new Uint8Array(retBuf);for(var _i16=0;_i16<encodedBuf.byteLength-1;_i16++){retView[_i16]=encodedView[_i16]|0x80;}retView[encodedBuf.byteLength-1]=encodedView[encodedBuf.byteLength-1];}return retBuf;}},{key:"toString",value:function toString(){var result="";if(this.isHexOnly===true)result=(0, utils.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else{result=this.valueDec.toString();}return result;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalRelativeSidValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.valueDec=this.valueDec;return object;}}],[{key:"blockName",value:function blockName(){return "relativeSidBlock";}}]);return LocalRelativeSidValueBlock;}(HexBlock(LocalBaseBlock));var LocalRelativeObjectIdentifierValueBlock=/*#__PURE__*/function(_ValueBlock6){_inherits(LocalRelativeObjectIdentifierValueBlock,_ValueBlock6);function LocalRelativeObjectIdentifierValueBlock(){var _this42;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalRelativeObjectIdentifierValueBlock);_this42=_possibleConstructorReturn(this,_getPrototypeOf(LocalRelativeObjectIdentifierValueBlock).call(this,parameters));_this42.fromString((0, utils.getParametersValue)(parameters,"value",""));return _this42;}_createClass(LocalRelativeObjectIdentifierValueBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=inputOffset;while(inputLength>0){var sidBlock=new LocalRelativeSidValueBlock();resultOffset=sidBlock.fromBER(inputBuffer,resultOffset,inputLength);if(resultOffset===-1){this.blockLength=0;this.error=sidBlock.error;return resultOffset;}this.blockLength+=sidBlock.blockLength;inputLength-=sidBlock.blockLength;this.value.push(sidBlock);}return resultOffset;}},{key:"toBER",value:function toBER(){var sizeOnly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var retBuf=new ArrayBuffer(0);for(var i=0;i<this.value.length;i++){var valueBuf=this.value[i].toBER(sizeOnly);if(valueBuf.byteLength===0){this.error=this.value[i].error;return new ArrayBuffer(0);}retBuf=(0, utils.utilConcatBuf)(retBuf,valueBuf);}return retBuf;}},{key:"fromString",value:function fromString(string){this.value=[];var pos1=0;var pos2=0;var sid="";do{pos2=string.indexOf(".",pos1);if(pos2===-1)sid=string.substr(pos1);else sid=string.substr(pos1,pos2-pos1);pos1=pos2+1;var sidBlock=new LocalRelativeSidValueBlock();sidBlock.valueDec=parseInt(sid,10);if(isNaN(sidBlock.valueDec))return true;this.value.push(sidBlock);}while(pos2!==-1);return true;}},{key:"toString",value:function toString(){var result="";var isHexOnly=false;for(var i=0;i<this.value.length;i++){isHexOnly=this.value[i].isHexOnly;var sidStr=this.value[i].toString();if(i!==0)result="".concat(result,".");if(isHexOnly){sidStr="{".concat(sidStr,"}");result+=sidStr;}else result+=sidStr;}return result;}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalRelativeObjectIdentifierValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.toString();object.sidArray=[];for(var i=0;i<this.value.length;i++){object.sidArray.push(this.value[i].toJSON());}return object;}}],[{key:"blockName",value:function blockName(){return "RelativeObjectIdentifierValueBlock";}}]);return LocalRelativeObjectIdentifierValueBlock;}(ValueBlock);var RelativeObjectIdentifier=/*#__PURE__*/function(_BaseBlock11){_inherits(RelativeObjectIdentifier,_BaseBlock11);function RelativeObjectIdentifier(){var _this43;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,RelativeObjectIdentifier);_this43=_possibleConstructorReturn(this,_getPrototypeOf(RelativeObjectIdentifier).call(this,parameters,LocalRelativeObjectIdentifierValueBlock));_this43.idBlock.tagClass=1;_this43.idBlock.tagNumber=13;return _this43;}_createClass(RelativeObjectIdentifier,null,[{key:"blockName",value:function blockName(){return "RelativeObjectIdentifier";}}]);return RelativeObjectIdentifier;}(BaseBlock);exports.RelativeObjectIdentifier=RelativeObjectIdentifier;var LocalBmpStringValueBlock=/*#__PURE__*/function(_HexBlock8){_inherits(LocalBmpStringValueBlock,_HexBlock8);function LocalBmpStringValueBlock(){var _this44;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalBmpStringValueBlock);_this44=_possibleConstructorReturn(this,_getPrototypeOf(LocalBmpStringValueBlock).call(this,parameters));_this44.isHexOnly=true;_this44.value="";return _this44;}_createClass(LocalBmpStringValueBlock,[{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalBmpStringValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.value;return object;}}],[{key:"blockName",value:function blockName(){return "BmpStringValueBlock";}}]);return LocalBmpStringValueBlock;}(HexBlock(LocalBaseBlock));var BmpString=/*#__PURE__*/function(_BaseBlock12){_inherits(BmpString,_BaseBlock12);function BmpString(){var _this45;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,BmpString);_this45=_possibleConstructorReturn(this,_getPrototypeOf(BmpString).call(this,parameters,LocalBmpStringValueBlock));if("value"in parameters)_this45.fromString(parameters.value);_this45.idBlock.tagClass=1;_this45.idBlock.tagNumber=30;return _this45;}_createClass(BmpString,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}this.fromBuffer(this.valueBlock.valueHex);if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"fromBuffer",value:function fromBuffer(inputBuffer){var copyBuffer=inputBuffer.slice(0);var valueView=new Uint8Array(copyBuffer);for(var i=0;i<valueView.length;i+=2){var temp=valueView[i];valueView[i]=valueView[i+1];valueView[i+1]=temp;}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(copyBuffer));}},{key:"fromString",value:function fromString(inputString){var strLength=inputString.length;this.valueBlock.valueHex=new ArrayBuffer(strLength*2);var valueHexView=new Uint8Array(this.valueBlock.valueHex);for(var i=0;i<strLength;i++){var codeBuf=(0, utils.utilToBase)(inputString.charCodeAt(i),8);var codeView=new Uint8Array(codeBuf);if(codeView.length>2)continue;var dif=2-codeView.length;for(var j=codeView.length-1;j>=0;j--){valueHexView[i*2+j+dif]=codeView[j];}}this.valueBlock.value=inputString;}}],[{key:"blockName",value:function blockName(){return "BmpString";}}]);return BmpString;}(BaseBlock);exports.BmpString=BmpString;var LocalUniversalStringValueBlock=/*#__PURE__*/function(_HexBlock9){_inherits(LocalUniversalStringValueBlock,_HexBlock9);function LocalUniversalStringValueBlock(){var _this46;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalUniversalStringValueBlock);_this46=_possibleConstructorReturn(this,_getPrototypeOf(LocalUniversalStringValueBlock).call(this,parameters));_this46.isHexOnly=true;_this46.value="";return _this46;}_createClass(LocalUniversalStringValueBlock,[{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalUniversalStringValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.value;return object;}}],[{key:"blockName",value:function blockName(){return "UniversalStringValueBlock";}}]);return LocalUniversalStringValueBlock;}(HexBlock(LocalBaseBlock));var UniversalString=/*#__PURE__*/function(_BaseBlock13){_inherits(UniversalString,_BaseBlock13);function UniversalString(){var _this47;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,UniversalString);_this47=_possibleConstructorReturn(this,_getPrototypeOf(UniversalString).call(this,parameters,LocalUniversalStringValueBlock));if("value"in parameters)_this47.fromString(parameters.value);_this47.idBlock.tagClass=1;_this47.idBlock.tagNumber=28;return _this47;}_createClass(UniversalString,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}this.fromBuffer(this.valueBlock.valueHex);if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"fromBuffer",value:function fromBuffer(inputBuffer){var copyBuffer=inputBuffer.slice(0);var valueView=new Uint8Array(copyBuffer);for(var i=0;i<valueView.length;i+=4){valueView[i]=valueView[i+3];valueView[i+1]=valueView[i+2];valueView[i+2]=0x00;valueView[i+3]=0x00;}this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(copyBuffer));}},{key:"fromString",value:function fromString(inputString){var strLength=inputString.length;this.valueBlock.valueHex=new ArrayBuffer(strLength*4);var valueHexView=new Uint8Array(this.valueBlock.valueHex);for(var i=0;i<strLength;i++){var codeBuf=(0, utils.utilToBase)(inputString.charCodeAt(i),8);var codeView=new Uint8Array(codeBuf);if(codeView.length>4)continue;var dif=4-codeView.length;for(var j=codeView.length-1;j>=0;j--){valueHexView[i*4+j+dif]=codeView[j];}}this.valueBlock.value=inputString;}}],[{key:"blockName",value:function blockName(){return "UniversalString";}}]);return UniversalString;}(BaseBlock);exports.UniversalString=UniversalString;var LocalSimpleStringValueBlock=/*#__PURE__*/function(_HexBlock10){_inherits(LocalSimpleStringValueBlock,_HexBlock10);function LocalSimpleStringValueBlock(){var _this48;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalSimpleStringValueBlock);_this48=_possibleConstructorReturn(this,_getPrototypeOf(LocalSimpleStringValueBlock).call(this,parameters));_this48.value="";_this48.isHexOnly=true;return _this48;}_createClass(LocalSimpleStringValueBlock,[{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(LocalSimpleStringValueBlock.prototype),"toJSON",this).call(this);}catch(ex){}object.value=this.value;return object;}}],[{key:"blockName",value:function blockName(){return "SimpleStringValueBlock";}}]);return LocalSimpleStringValueBlock;}(HexBlock(LocalBaseBlock));var LocalSimpleStringBlock=/*#__PURE__*/function(_BaseBlock14){_inherits(LocalSimpleStringBlock,_BaseBlock14);function LocalSimpleStringBlock(){var _this49;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LocalSimpleStringBlock);_this49=_possibleConstructorReturn(this,_getPrototypeOf(LocalSimpleStringBlock).call(this,parameters,LocalSimpleStringValueBlock));if("value"in parameters)_this49.fromString(parameters.value);return _this49;}_createClass(LocalSimpleStringBlock,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}this.fromBuffer(this.valueBlock.valueHex);if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"fromBuffer",value:function fromBuffer(inputBuffer){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(inputBuffer));}},{key:"fromString",value:function fromString(inputString){var strLen=inputString.length;this.valueBlock.valueHex=new ArrayBuffer(strLen);var view=new Uint8Array(this.valueBlock.valueHex);for(var i=0;i<strLen;i++){view[i]=inputString.charCodeAt(i);}this.valueBlock.value=inputString;}}],[{key:"blockName",value:function blockName(){return "SIMPLESTRING";}}]);return LocalSimpleStringBlock;}(BaseBlock);var NumericString=/*#__PURE__*/function(_LocalSimpleStringBlo){_inherits(NumericString,_LocalSimpleStringBlo);function NumericString(){var _this50;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,NumericString);_this50=_possibleConstructorReturn(this,_getPrototypeOf(NumericString).call(this,parameters));_this50.idBlock.tagClass=1;_this50.idBlock.tagNumber=18;return _this50;}_createClass(NumericString,null,[{key:"blockName",value:function blockName(){return "NumericString";}}]);return NumericString;}(LocalSimpleStringBlock);exports.NumericString=NumericString;var PrintableString=/*#__PURE__*/function(_LocalSimpleStringBlo2){_inherits(PrintableString,_LocalSimpleStringBlo2);function PrintableString(){var _this51;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,PrintableString);_this51=_possibleConstructorReturn(this,_getPrototypeOf(PrintableString).call(this,parameters));_this51.idBlock.tagClass=1;_this51.idBlock.tagNumber=19;return _this51;}_createClass(PrintableString,null,[{key:"blockName",value:function blockName(){return "PrintableString";}}]);return PrintableString;}(LocalSimpleStringBlock);exports.PrintableString=PrintableString;var TeletexString=/*#__PURE__*/function(_LocalSimpleStringBlo3){_inherits(TeletexString,_LocalSimpleStringBlo3);function TeletexString(){var _this52;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,TeletexString);_this52=_possibleConstructorReturn(this,_getPrototypeOf(TeletexString).call(this,parameters));_this52.idBlock.tagClass=1;_this52.idBlock.tagNumber=20;return _this52;}_createClass(TeletexString,null,[{key:"blockName",value:function blockName(){return "TeletexString";}}]);return TeletexString;}(LocalSimpleStringBlock);exports.TeletexString=TeletexString;var VideotexString=/*#__PURE__*/function(_LocalSimpleStringBlo4){_inherits(VideotexString,_LocalSimpleStringBlo4);function VideotexString(){var _this53;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,VideotexString);_this53=_possibleConstructorReturn(this,_getPrototypeOf(VideotexString).call(this,parameters));_this53.idBlock.tagClass=1;_this53.idBlock.tagNumber=21;return _this53;}_createClass(VideotexString,null,[{key:"blockName",value:function blockName(){return "VideotexString";}}]);return VideotexString;}(LocalSimpleStringBlock);exports.VideotexString=VideotexString;var IA5String=/*#__PURE__*/function(_LocalSimpleStringBlo5){_inherits(IA5String,_LocalSimpleStringBlo5);function IA5String(){var _this54;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,IA5String);_this54=_possibleConstructorReturn(this,_getPrototypeOf(IA5String).call(this,parameters));_this54.idBlock.tagClass=1;_this54.idBlock.tagNumber=22;return _this54;}_createClass(IA5String,null,[{key:"blockName",value:function blockName(){return "IA5String";}}]);return IA5String;}(LocalSimpleStringBlock);exports.IA5String=IA5String;var GraphicString=/*#__PURE__*/function(_LocalSimpleStringBlo6){_inherits(GraphicString,_LocalSimpleStringBlo6);function GraphicString(){var _this55;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,GraphicString);_this55=_possibleConstructorReturn(this,_getPrototypeOf(GraphicString).call(this,parameters));_this55.idBlock.tagClass=1;_this55.idBlock.tagNumber=25;return _this55;}_createClass(GraphicString,null,[{key:"blockName",value:function blockName(){return "GraphicString";}}]);return GraphicString;}(LocalSimpleStringBlock);exports.GraphicString=GraphicString;var VisibleString=/*#__PURE__*/function(_LocalSimpleStringBlo7){_inherits(VisibleString,_LocalSimpleStringBlo7);function VisibleString(){var _this56;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,VisibleString);_this56=_possibleConstructorReturn(this,_getPrototypeOf(VisibleString).call(this,parameters));_this56.idBlock.tagClass=1;_this56.idBlock.tagNumber=26;return _this56;}_createClass(VisibleString,null,[{key:"blockName",value:function blockName(){return "VisibleString";}}]);return VisibleString;}(LocalSimpleStringBlock);exports.VisibleString=VisibleString;var GeneralString=/*#__PURE__*/function(_LocalSimpleStringBlo8){_inherits(GeneralString,_LocalSimpleStringBlo8);function GeneralString(){var _this57;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,GeneralString);_this57=_possibleConstructorReturn(this,_getPrototypeOf(GeneralString).call(this,parameters));_this57.idBlock.tagClass=1;_this57.idBlock.tagNumber=27;return _this57;}_createClass(GeneralString,null,[{key:"blockName",value:function blockName(){return "GeneralString";}}]);return GeneralString;}(LocalSimpleStringBlock);exports.GeneralString=GeneralString;var CharacterString=/*#__PURE__*/function(_LocalSimpleStringBlo9){_inherits(CharacterString,_LocalSimpleStringBlo9);function CharacterString(){var _this58;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,CharacterString);_this58=_possibleConstructorReturn(this,_getPrototypeOf(CharacterString).call(this,parameters));_this58.idBlock.tagClass=1;_this58.idBlock.tagNumber=29;return _this58;}_createClass(CharacterString,null,[{key:"blockName",value:function blockName(){return "CharacterString";}}]);return CharacterString;}(LocalSimpleStringBlock);exports.CharacterString=CharacterString;var UTCTime=/*#__PURE__*/function(_VisibleString){_inherits(UTCTime,_VisibleString);function UTCTime(){var _this59;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,UTCTime);_this59=_possibleConstructorReturn(this,_getPrototypeOf(UTCTime).call(this,parameters));_this59.year=0;_this59.month=0;_this59.day=0;_this59.hour=0;_this59.minute=0;_this59.second=0;if("value"in parameters){_this59.fromString(parameters.value);_this59.valueBlock.valueHex=new ArrayBuffer(parameters.value.length);var view=new Uint8Array(_this59.valueBlock.valueHex);for(var i=0;i<parameters.value.length;i++){view[i]=parameters.value.charCodeAt(i);}}if("valueDate"in parameters){_this59.fromDate(parameters.valueDate);_this59.valueBlock.valueHex=_this59.toBuffer();}_this59.idBlock.tagClass=1;_this59.idBlock.tagNumber=23;return _this59;}_createClass(UTCTime,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}this.fromBuffer(this.valueBlock.valueHex);if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"fromBuffer",value:function fromBuffer(inputBuffer){this.fromString(String.fromCharCode.apply(null,new Uint8Array(inputBuffer)));}},{key:"toBuffer",value:function toBuffer(){var str=this.toString();var buffer=new ArrayBuffer(str.length);var view=new Uint8Array(buffer);for(var i=0;i<str.length;i++){view[i]=str.charCodeAt(i);}return buffer;}},{key:"fromDate",value:function fromDate(inputDate){this.year=inputDate.getUTCFullYear();this.month=inputDate.getUTCMonth()+1;this.day=inputDate.getUTCDate();this.hour=inputDate.getUTCHours();this.minute=inputDate.getUTCMinutes();this.second=inputDate.getUTCSeconds();}},{key:"toDate",value:function toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second));}},{key:"fromString",value:function fromString(inputString){var parser=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig;var parserArray=parser.exec(inputString);if(parserArray===null){this.error="Wrong input string for convertion";return;}var year=parseInt(parserArray[1],10);if(year>=50)this.year=1900+year;else this.year=2000+year;this.month=parseInt(parserArray[2],10);this.day=parseInt(parserArray[3],10);this.hour=parseInt(parserArray[4],10);this.minute=parseInt(parserArray[5],10);this.second=parseInt(parserArray[6],10);}},{key:"toString",value:function toString(){var outputArray=new Array(7);outputArray[0]=(0, utils.padNumber)(this.year<2000?this.year-1900:this.year-2000,2);outputArray[1]=(0, utils.padNumber)(this.month,2);outputArray[2]=(0, utils.padNumber)(this.day,2);outputArray[3]=(0, utils.padNumber)(this.hour,2);outputArray[4]=(0, utils.padNumber)(this.minute,2);outputArray[5]=(0, utils.padNumber)(this.second,2);outputArray[6]="Z";return outputArray.join("");}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(UTCTime.prototype),"toJSON",this).call(this);}catch(ex){}object.year=this.year;object.month=this.month;object.day=this.day;object.hour=this.hour;object.minute=this.minute;object.second=this.second;return object;}}],[{key:"blockName",value:function blockName(){return "UTCTime";}}]);return UTCTime;}(VisibleString);exports.UTCTime=UTCTime;var GeneralizedTime=/*#__PURE__*/function(_VisibleString2){_inherits(GeneralizedTime,_VisibleString2);function GeneralizedTime(){var _this60;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,GeneralizedTime);_this60=_possibleConstructorReturn(this,_getPrototypeOf(GeneralizedTime).call(this,parameters));_this60.year=0;_this60.month=0;_this60.day=0;_this60.hour=0;_this60.minute=0;_this60.second=0;_this60.millisecond=0;if("value"in parameters){_this60.fromString(parameters.value);_this60.valueBlock.valueHex=new ArrayBuffer(parameters.value.length);var view=new Uint8Array(_this60.valueBlock.valueHex);for(var i=0;i<parameters.value.length;i++){view[i]=parameters.value.charCodeAt(i);}}if("valueDate"in parameters){_this60.fromDate(parameters.valueDate);_this60.valueBlock.valueHex=_this60.toBuffer();}_this60.idBlock.tagClass=1;_this60.idBlock.tagNumber=24;return _this60;}_createClass(GeneralizedTime,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){var resultOffset=this.valueBlock.fromBER(inputBuffer,inputOffset,this.lenBlock.isIndefiniteForm===true?inputLength:this.lenBlock.length);if(resultOffset===-1){this.error=this.valueBlock.error;return resultOffset;}this.fromBuffer(this.valueBlock.valueHex);if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;if(this.valueBlock.error.length===0)this.blockLength+=this.valueBlock.blockLength;return resultOffset;}},{key:"fromBuffer",value:function fromBuffer(inputBuffer){this.fromString(String.fromCharCode.apply(null,new Uint8Array(inputBuffer)));}},{key:"toBuffer",value:function toBuffer(){var str=this.toString();var buffer=new ArrayBuffer(str.length);var view=new Uint8Array(buffer);for(var i=0;i<str.length;i++){view[i]=str.charCodeAt(i);}return buffer;}},{key:"fromDate",value:function fromDate(inputDate){this.year=inputDate.getUTCFullYear();this.month=inputDate.getUTCMonth()+1;this.day=inputDate.getUTCDate();this.hour=inputDate.getUTCHours();this.minute=inputDate.getUTCMinutes();this.second=inputDate.getUTCSeconds();this.millisecond=inputDate.getUTCMilliseconds();}},{key:"toDate",value:function toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond));}},{key:"fromString",value:function fromString(inputString){var isUTC=false;var timeString="";var dateTimeString="";var fractionPart=0;var parser;var hourDifference=0;var minuteDifference=0;if(inputString[inputString.length-1]==="Z"){timeString=inputString.substr(0,inputString.length-1);isUTC=true;}else{var number=new Number(inputString[inputString.length-1]);if(isNaN(number.valueOf()))throw new Error("Wrong input string for convertion");timeString=inputString;}if(isUTC){if(timeString.indexOf("+")!==-1)throw new Error("Wrong input string for convertion");if(timeString.indexOf("-")!==-1)throw new Error("Wrong input string for convertion");}else{var multiplier=1;var differencePosition=timeString.indexOf("+");var differenceString="";if(differencePosition===-1){differencePosition=timeString.indexOf("-");multiplier=-1;}if(differencePosition!==-1){differenceString=timeString.substr(differencePosition+1);timeString=timeString.substr(0,differencePosition);if(differenceString.length!==2&&differenceString.length!==4)throw new Error("Wrong input string for convertion");var _number=new Number(differenceString.substr(0,2));if(isNaN(_number.valueOf()))throw new Error("Wrong input string for convertion");hourDifference=multiplier*_number;if(differenceString.length===4){_number=new Number(differenceString.substr(2,2));if(isNaN(_number.valueOf()))throw new Error("Wrong input string for convertion");minuteDifference=multiplier*_number;}}}var fractionPointPosition=timeString.indexOf(".");if(fractionPointPosition===-1)fractionPointPosition=timeString.indexOf(",");if(fractionPointPosition!==-1){var fractionPartCheck=new Number("0".concat(timeString.substr(fractionPointPosition)));if(isNaN(fractionPartCheck.valueOf()))throw new Error("Wrong input string for convertion");fractionPart=fractionPartCheck.valueOf();dateTimeString=timeString.substr(0,fractionPointPosition);}else dateTimeString=timeString;switch(true){case dateTimeString.length===8:parser=/(\d{4})(\d{2})(\d{2})/ig;if(fractionPointPosition!==-1)throw new Error("Wrong input string for convertion");break;case dateTimeString.length===10:parser=/(\d{4})(\d{2})(\d{2})(\d{2})/ig;if(fractionPointPosition!==-1){var fractionResult=60*fractionPart;this.minute=Math.floor(fractionResult);fractionResult=60*(fractionResult-this.minute);this.second=Math.floor(fractionResult);fractionResult=1000*(fractionResult-this.second);this.millisecond=Math.floor(fractionResult);}break;case dateTimeString.length===12:parser=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig;if(fractionPointPosition!==-1){var _fractionResult=60*fractionPart;this.second=Math.floor(_fractionResult);_fractionResult=1000*(_fractionResult-this.second);this.millisecond=Math.floor(_fractionResult);}break;case dateTimeString.length===14:parser=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig;if(fractionPointPosition!==-1){var _fractionResult2=1000*fractionPart;this.millisecond=Math.floor(_fractionResult2);}break;default:throw new Error("Wrong input string for convertion");}var parserArray=parser.exec(dateTimeString);if(parserArray===null)throw new Error("Wrong input string for convertion");for(var j=1;j<parserArray.length;j++){switch(j){case 1:this.year=parseInt(parserArray[j],10);break;case 2:this.month=parseInt(parserArray[j],10);break;case 3:this.day=parseInt(parserArray[j],10);break;case 4:this.hour=parseInt(parserArray[j],10)+hourDifference;break;case 5:this.minute=parseInt(parserArray[j],10)+minuteDifference;break;case 6:this.second=parseInt(parserArray[j],10);break;default:throw new Error("Wrong input string for convertion");}}if(isUTC===false){var tempDate=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=tempDate.getUTCFullYear();this.month=tempDate.getUTCMonth();this.day=tempDate.getUTCDay();this.hour=tempDate.getUTCHours();this.minute=tempDate.getUTCMinutes();this.second=tempDate.getUTCSeconds();this.millisecond=tempDate.getUTCMilliseconds();}}},{key:"toString",value:function toString(){var outputArray=[];outputArray.push((0, utils.padNumber)(this.year,4));outputArray.push((0, utils.padNumber)(this.month,2));outputArray.push((0, utils.padNumber)(this.day,2));outputArray.push((0, utils.padNumber)(this.hour,2));outputArray.push((0, utils.padNumber)(this.minute,2));outputArray.push((0, utils.padNumber)(this.second,2));if(this.millisecond!==0){outputArray.push(".");outputArray.push((0, utils.padNumber)(this.millisecond,3));}outputArray.push("Z");return outputArray.join("");}},{key:"toJSON",value:function toJSON(){var object={};try{object=_get(_getPrototypeOf(GeneralizedTime.prototype),"toJSON",this).call(this);}catch(ex){}object.year=this.year;object.month=this.month;object.day=this.day;object.hour=this.hour;object.minute=this.minute;object.second=this.second;object.millisecond=this.millisecond;return object;}}],[{key:"blockName",value:function blockName(){return "GeneralizedTime";}}]);return GeneralizedTime;}(VisibleString);exports.GeneralizedTime=GeneralizedTime;var DATE=/*#__PURE__*/function(_Utf8String){_inherits(DATE,_Utf8String);function DATE(){var _this61;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,DATE);_this61=_possibleConstructorReturn(this,_getPrototypeOf(DATE).call(this,parameters));_this61.idBlock.tagClass=1;_this61.idBlock.tagNumber=31;return _this61;}_createClass(DATE,null,[{key:"blockName",value:function blockName(){return "DATE";}}]);return DATE;}(Utf8String);exports.DATE=DATE;var TimeOfDay=/*#__PURE__*/function(_Utf8String2){_inherits(TimeOfDay,_Utf8String2);function TimeOfDay(){var _this62;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,TimeOfDay);_this62=_possibleConstructorReturn(this,_getPrototypeOf(TimeOfDay).call(this,parameters));_this62.idBlock.tagClass=1;_this62.idBlock.tagNumber=32;return _this62;}_createClass(TimeOfDay,null,[{key:"blockName",value:function blockName(){return "TimeOfDay";}}]);return TimeOfDay;}(Utf8String);exports.TimeOfDay=TimeOfDay;var DateTime=/*#__PURE__*/function(_Utf8String3){_inherits(DateTime,_Utf8String3);function DateTime(){var _this63;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,DateTime);_this63=_possibleConstructorReturn(this,_getPrototypeOf(DateTime).call(this,parameters));_this63.idBlock.tagClass=1;_this63.idBlock.tagNumber=33;return _this63;}_createClass(DateTime,null,[{key:"blockName",value:function blockName(){return "DateTime";}}]);return DateTime;}(Utf8String);exports.DateTime=DateTime;var Duration=/*#__PURE__*/function(_Utf8String4){_inherits(Duration,_Utf8String4);function Duration(){var _this64;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Duration);_this64=_possibleConstructorReturn(this,_getPrototypeOf(Duration).call(this,parameters));_this64.idBlock.tagClass=1;_this64.idBlock.tagNumber=34;return _this64;}_createClass(Duration,null,[{key:"blockName",value:function blockName(){return "Duration";}}]);return Duration;}(Utf8String);exports.Duration=Duration;var TIME=/*#__PURE__*/function(_Utf8String5){_inherits(TIME,_Utf8String5);function TIME(){var _this65;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,TIME);_this65=_possibleConstructorReturn(this,_getPrototypeOf(TIME).call(this,parameters));_this65.idBlock.tagClass=1;_this65.idBlock.tagNumber=14;return _this65;}_createClass(TIME,null,[{key:"blockName",value:function blockName(){return "TIME";}}]);return TIME;}(Utf8String);exports.TIME=TIME;var Choice=function Choice(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Choice);this.value=(0, utils.getParametersValue)(parameters,"value",[]);this.optional=(0, utils.getParametersValue)(parameters,"optional",false);};exports.Choice=Choice;var Any=function Any(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Any);this.name=(0, utils.getParametersValue)(parameters,"name","");this.optional=(0, utils.getParametersValue)(parameters,"optional",false);};exports.Any=Any;var Repeated=function Repeated(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Repeated);this.name=(0, utils.getParametersValue)(parameters,"name","");this.optional=(0, utils.getParametersValue)(parameters,"optional",false);this.value=(0, utils.getParametersValue)(parameters,"value",new Any());this.local=(0, utils.getParametersValue)(parameters,"local",false);};exports.Repeated=Repeated;var RawData=/*#__PURE__*/function(){function RawData(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,RawData);this.data=(0, utils.getParametersValue)(parameters,"data",new ArrayBuffer(0));}_createClass(RawData,[{key:"fromBER",value:function fromBER(inputBuffer,inputOffset,inputLength){this.data=inputBuffer.slice(inputOffset,inputLength);return inputOffset+inputLength;}},{key:"toBER",value:function toBER(){return this.data;}}]);return RawData;}();exports.RawData=RawData;function LocalFromBER(inputBuffer,inputOffset,inputLength){var incomingOffset=inputOffset;function localChangeType(inputObject,newType){if(inputObject instanceof newType)return inputObject;var newObject=new newType();newObject.idBlock=inputObject.idBlock;newObject.lenBlock=inputObject.lenBlock;newObject.warnings=inputObject.warnings;newObject.valueBeforeDecode=inputObject.valueBeforeDecode.slice(0);return newObject;}var returnObject=new BaseBlock({},Object);var baseBlock=new LocalBaseBlock();if((0, utils.checkBufferParams)(baseBlock,inputBuffer,inputOffset,inputLength)===false){returnObject.error=baseBlock.error;return {offset:-1,result:returnObject};}var intBuffer=new Uint8Array(inputBuffer,inputOffset,inputLength);if(intBuffer.length===0){this.error="Zero buffer length";return {offset:-1,result:returnObject};}var resultOffset=returnObject.idBlock.fromBER(inputBuffer,inputOffset,inputLength);returnObject.warnings.concat(returnObject.idBlock.warnings);if(resultOffset===-1){returnObject.error=returnObject.idBlock.error;return {offset:-1,result:returnObject};}inputOffset=resultOffset;inputLength-=returnObject.idBlock.blockLength;resultOffset=returnObject.lenBlock.fromBER(inputBuffer,inputOffset,inputLength);returnObject.warnings.concat(returnObject.lenBlock.warnings);if(resultOffset===-1){returnObject.error=returnObject.lenBlock.error;return {offset:-1,result:returnObject};}inputOffset=resultOffset;inputLength-=returnObject.lenBlock.blockLength;if(returnObject.idBlock.isConstructed===false&&returnObject.lenBlock.isIndefiniteForm===true){returnObject.error="Indefinite length form used for primitive encoding form";return {offset:-1,result:returnObject};}var newASN1Type=BaseBlock;switch(returnObject.idBlock.tagClass){case 1:if(returnObject.idBlock.tagNumber>=37&&returnObject.idBlock.isHexOnly===false){returnObject.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";return {offset:-1,result:returnObject};}switch(returnObject.idBlock.tagNumber){case 0:if(returnObject.idBlock.isConstructed===true&&returnObject.lenBlock.length>0){returnObject.error="Type [UNIVERSAL 0] is reserved";return {offset:-1,result:returnObject};}newASN1Type=EndOfContent;break;case 1:newASN1Type=Boolean;break;case 2:newASN1Type=Integer;break;case 3:newASN1Type=BitString;break;case 4:newASN1Type=OctetString;break;case 5:newASN1Type=Null;break;case 6:newASN1Type=ObjectIdentifier;break;case 10:newASN1Type=Enumerated;break;case 12:newASN1Type=Utf8String;break;case 13:newASN1Type=RelativeObjectIdentifier;break;case 14:newASN1Type=TIME;break;case 15:returnObject.error="[UNIVERSAL 15] is reserved by ASN.1 standard";return {offset:-1,result:returnObject};case 16:newASN1Type=Sequence;break;case 17:newASN1Type=Set;break;case 18:newASN1Type=NumericString;break;case 19:newASN1Type=PrintableString;break;case 20:newASN1Type=TeletexString;break;case 21:newASN1Type=VideotexString;break;case 22:newASN1Type=IA5String;break;case 23:newASN1Type=UTCTime;break;case 24:newASN1Type=GeneralizedTime;break;case 25:newASN1Type=GraphicString;break;case 26:newASN1Type=VisibleString;break;case 27:newASN1Type=GeneralString;break;case 28:newASN1Type=UniversalString;break;case 29:newASN1Type=CharacterString;break;case 30:newASN1Type=BmpString;break;case 31:newASN1Type=DATE;break;case 32:newASN1Type=TimeOfDay;break;case 33:newASN1Type=DateTime;break;case 34:newASN1Type=Duration;break;default:{var newObject;if(returnObject.idBlock.isConstructed===true)newObject=new Constructed();else newObject=new Primitive();newObject.idBlock=returnObject.idBlock;newObject.lenBlock=returnObject.lenBlock;newObject.warnings=returnObject.warnings;returnObject=newObject;resultOffset=returnObject.fromBER(inputBuffer,inputOffset,inputLength);}}break;case 2:case 3:case 4:default:{if(returnObject.idBlock.isConstructed===true)newASN1Type=Constructed;else newASN1Type=Primitive;}}returnObject=localChangeType(returnObject,newASN1Type);resultOffset=returnObject.fromBER(inputBuffer,inputOffset,returnObject.lenBlock.isIndefiniteForm===true?inputLength:returnObject.lenBlock.length);returnObject.valueBeforeDecode=inputBuffer.slice(incomingOffset,incomingOffset+returnObject.blockLength);return {offset:resultOffset,result:returnObject};}function fromBER(inputBuffer){if(inputBuffer.byteLength===0){var result=new BaseBlock({},Object);result.error="Input buffer has zero length";return {offset:-1,result:result};}return LocalFromBER(inputBuffer,0,inputBuffer.byteLength);}function compareSchema(root,inputData,inputSchema){if(inputSchema instanceof Choice){for(var j=0;j<inputSchema.value.length;j++){var result=compareSchema(root,inputData,inputSchema.value[j]);if(result.verified===true){return {verified:true,result:root};}}{var _result={verified:false,result:{error:"Wrong values for Choice type"}};if(inputSchema.hasOwnProperty("name"))_result.name=inputSchema.name;return _result;}}if(inputSchema instanceof Any){if(inputSchema.hasOwnProperty("name"))root[inputSchema.name]=inputData;return {verified:true,result:root};}if(root instanceof Object===false){return {verified:false,result:{error:"Wrong root object"}};}if(inputData instanceof Object===false){return {verified:false,result:{error:"Wrong ASN.1 data"}};}if(inputSchema instanceof Object===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if("idBlock"in inputSchema===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if("fromBER"in inputSchema.idBlock===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if("toBER"in inputSchema.idBlock===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}var encodedId=inputSchema.idBlock.toBER(false);if(encodedId.byteLength===0){return {verified:false,result:{error:"Error encoding idBlock for ASN.1 schema"}};}var decodedOffset=inputSchema.idBlock.fromBER(encodedId,0,encodedId.byteLength);if(decodedOffset===-1){return {verified:false,result:{error:"Error decoding idBlock for ASN.1 schema"}};}if(inputSchema.idBlock.hasOwnProperty("tagClass")===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if(inputSchema.idBlock.tagClass!==inputData.idBlock.tagClass){return {verified:false,result:root};}if(inputSchema.idBlock.hasOwnProperty("tagNumber")===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if(inputSchema.idBlock.tagNumber!==inputData.idBlock.tagNumber){return {verified:false,result:root};}if(inputSchema.idBlock.hasOwnProperty("isConstructed")===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if(inputSchema.idBlock.isConstructed!==inputData.idBlock.isConstructed){return {verified:false,result:root};}if("isHexOnly"in inputSchema.idBlock===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}if(inputSchema.idBlock.isHexOnly!==inputData.idBlock.isHexOnly){return {verified:false,result:root};}if(inputSchema.idBlock.isHexOnly===true){if("valueHex"in inputSchema.idBlock===false){return {verified:false,result:{error:"Wrong ASN.1 schema"}};}var schemaView=new Uint8Array(inputSchema.idBlock.valueHex);var asn1View=new Uint8Array(inputData.idBlock.valueHex);if(schemaView.length!==asn1View.length){return {verified:false,result:root};}for(var i=0;i<schemaView.length;i++){if(schemaView[i]!==asn1View[1]){return {verified:false,result:root};}}}if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!=="")root[inputSchema.name]=inputData;}if(inputSchema.idBlock.isConstructed===true){var admission=0;var _result2={verified:false};var maxLength=inputSchema.valueBlock.value.length;if(maxLength>0){if(inputSchema.valueBlock.value[0]instanceof Repeated)maxLength=inputData.valueBlock.value.length;}if(maxLength===0){return {verified:true,result:root};}if(inputData.valueBlock.value.length===0&&inputSchema.valueBlock.value.length!==0){var _optional=true;for(var _i17=0;_i17<inputSchema.valueBlock.value.length;_i17++){_optional=_optional&&(inputSchema.valueBlock.value[_i17].optional||false);}if(_optional===true){return {verified:true,result:root};}if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!=="")delete root[inputSchema.name];}root.error="Inconsistent object length";return {verified:false,result:root};}for(var _i18=0;_i18<maxLength;_i18++){if(_i18-admission>=inputData.valueBlock.value.length){if(inputSchema.valueBlock.value[_i18].optional===false){var _result3={verified:false,result:root};root.error="Inconsistent length between ASN.1 data and schema";if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!==""){delete root[inputSchema.name];_result3.name=inputSchema.name;}}return _result3;}}else{if(inputSchema.valueBlock.value[0]instanceof Repeated){_result2=compareSchema(root,inputData.valueBlock.value[_i18],inputSchema.valueBlock.value[0].value);if(_result2.verified===false){if(inputSchema.valueBlock.value[0].optional===true)admission++;else{if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!=="")delete root[inputSchema.name];}return _result2;}}if("name"in inputSchema.valueBlock.value[0]&&inputSchema.valueBlock.value[0].name.length>0){var arrayRoot={};if("local"in inputSchema.valueBlock.value[0]&&inputSchema.valueBlock.value[0].local===true)arrayRoot=inputData;else arrayRoot=root;if(typeof arrayRoot[inputSchema.valueBlock.value[0].name]==="undefined")arrayRoot[inputSchema.valueBlock.value[0].name]=[];arrayRoot[inputSchema.valueBlock.value[0].name].push(inputData.valueBlock.value[_i18]);}}else{_result2=compareSchema(root,inputData.valueBlock.value[_i18-admission],inputSchema.valueBlock.value[_i18]);if(_result2.verified===false){if(inputSchema.valueBlock.value[_i18].optional===true)admission++;else{if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!=="")delete root[inputSchema.name];}return _result2;}}}}}if(_result2.verified===false){var _result4={verified:false,result:root};if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!==""){delete root[inputSchema.name];_result4.name=inputSchema.name;}}return _result4;}return {verified:true,result:root};}if("primitiveSchema"in inputSchema&&"valueHex"in inputData.valueBlock){var _asn=fromBER(inputData.valueBlock.valueHex);if(_asn.offset===-1){var _result5={verified:false,result:_asn.result};if(inputSchema.hasOwnProperty("name")){inputSchema.name=inputSchema.name.replace(/^\s+|\s+$/g,"");if(inputSchema.name!==""){delete root[inputSchema.name];_result5.name=inputSchema.name;}}return _result5;}return compareSchema(root,_asn.result,inputSchema.primitiveSchema);}return {verified:true,result:root};}function verifySchema(inputBuffer,inputSchema){if(inputSchema instanceof Object===false){return {verified:false,result:{error:"Wrong ASN.1 schema type"}};}var asn1=fromBER(inputBuffer);if(asn1.offset===-1){return {verified:false,result:asn1.result};}return compareSchema(asn1.result,asn1.result,inputSchema);}function fromJSON(json){}});var asn1$1=unwrapExports(asn1);var asn1_1=asn1.fromBER;var asn1_2=asn1.compareSchema;var asn1_3=asn1.verifySchema;var asn1_4=asn1.fromJSON;var asn1_5=asn1.RawData;var asn1_6=asn1.Repeated;var asn1_7=asn1.Any;var asn1_8=asn1.Choice;var asn1_9=asn1.TIME;var asn1_10=asn1.Duration;var asn1_11=asn1.DateTime;var asn1_12=asn1.TimeOfDay;var asn1_13=asn1.DATE;var asn1_14=asn1.GeneralizedTime;var asn1_15=asn1.UTCTime;var asn1_16=asn1.CharacterString;var asn1_17=asn1.GeneralString;var asn1_18=asn1.VisibleString;var asn1_19=asn1.GraphicString;var asn1_20=asn1.IA5String;var asn1_21=asn1.VideotexString;var asn1_22=asn1.TeletexString;var asn1_23=asn1.PrintableString;var asn1_24=asn1.NumericString;var asn1_25=asn1.UniversalString;var asn1_26=asn1.BmpString;var asn1_27=asn1.RelativeObjectIdentifier;var asn1_28=asn1.Utf8String;var asn1_29=asn1.ObjectIdentifier;var asn1_30=asn1.Enumerated;var asn1_31=asn1.Integer;var asn1_32=asn1.BitString;var asn1_33=asn1.OctetString;var asn1_34=asn1.Null;var asn1_35=asn1.Set;var asn1_36=asn1.Sequence;var asn1_37=asn1.Boolean;var asn1_38=asn1.EndOfContent;var asn1_39=asn1.Constructed;var asn1_40=asn1.Primitive;var asn1_41=asn1.BaseBlock;var asn1_42=asn1.ValueBlock;var asn1_43=asn1.HexBlock;var asn1$2=/*#__PURE__*/Object.freeze({__proto__:null,'default':asn1$1,__moduleExports:asn1,fromBER:asn1_1,compareSchema:asn1_2,verifySchema:asn1_3,fromJSON:asn1_4,RawData:asn1_5,Repeated:asn1_6,Any:asn1_7,Choice:asn1_8,TIME:asn1_9,Duration:asn1_10,DateTime:asn1_11,TimeOfDay:asn1_12,DATE:asn1_13,GeneralizedTime:asn1_14,UTCTime:asn1_15,CharacterString:asn1_16,GeneralString:asn1_17,VisibleString:asn1_18,GraphicString:asn1_19,IA5String:asn1_20,VideotexString:asn1_21,TeletexString:asn1_22,PrintableString:asn1_23,NumericString:asn1_24,UniversalString:asn1_25,BmpString:asn1_26,RelativeObjectIdentifier:asn1_27,Utf8String:asn1_28,ObjectIdentifier:asn1_29,Enumerated:asn1_30,Integer:asn1_31,BitString:asn1_32,OctetString:asn1_33,Null:asn1_34,Set:asn1_35,Sequence:asn1_36,Boolean:asn1_37,EndOfContent:asn1_38,Constructed:asn1_39,Primitive:asn1_40,BaseBlock:asn1_41,ValueBlock:asn1_42,HexBlock:asn1_43});var AsnAnyConverter={fromASN:function fromASN(value){return value instanceof asn1_34?null:value.valueBeforeDecode;},toASN:function toASN(value){if(value===null){return new asn1_34();}var schema=asn1_1(value);if(schema.result.error){throw new Error(schema.result.error);}return schema.result;}};var AsnIntegerConverter={fromASN:function fromASN(value){return !value.valueBlock.valueDec&&value.valueBlock.valueHex.byteLength>0?value.valueBlock.toString():value.valueBlock.valueDec;},toASN:function toASN(value){return new asn1_31({value:value});}};var AsnEnumeratedConverter={fromASN:function fromASN(value){return value.valueBlock.valueDec;},toASN:function toASN(value){return new asn1_30({value:value});}};var AsnIntegerArrayBufferConverter={fromASN:function fromASN(value){return value.valueBlock.valueHex;},toASN:function toASN(value){return new asn1_31({valueHex:value});}};var AsnBitStringConverter={fromASN:function fromASN(value){return value.valueBlock.valueHex;},toASN:function toASN(value){return new asn1_32({valueHex:value});}};var AsnObjectIdentifierConverter={fromASN:function fromASN(value){return value.valueBlock.toString();},toASN:function toASN(value){return new asn1_29({value:value});}};var AsnBooleanConverter={fromASN:function fromASN(value){return value.valueBlock.value;},toASN:function toASN(value){return new asn1_37({value:value});}};var AsnOctetStringConverter={fromASN:function fromASN(value){return value.valueBlock.valueHex;},toASN:function toASN(value){return new asn1_33({valueHex:value});}};function createStringConverter(Asn1Type){return {fromASN:function fromASN(value){return value.valueBlock.value;},toASN:function toASN(value){return new Asn1Type({value:value});}};}var AsnUtf8StringConverter=createStringConverter(asn1_28);var AsnBmpStringConverter=createStringConverter(asn1_26);var AsnUniversalStringConverter=createStringConverter(asn1_25);var AsnNumericStringConverter=createStringConverter(asn1_24);var AsnPrintableStringConverter=createStringConverter(asn1_23);var AsnTeletexStringConverter=createStringConverter(asn1_22);var AsnVideotexStringConverter=createStringConverter(asn1_21);var AsnIA5StringConverter=createStringConverter(asn1_20);var AsnGraphicStringConverter=createStringConverter(asn1_19);var AsnVisibleStringConverter=createStringConverter(asn1_18);var AsnGeneralStringConverter=createStringConverter(asn1_17);var AsnCharacterStringConverter=createStringConverter(asn1_16);var AsnUTCTimeConverter={fromASN:function fromASN(value){return value.toDate();},toASN:function toASN(value){return new asn1_15({valueDate:value});}};var AsnGeneralizedTimeConverter={fromASN:function fromASN(value){return value.toDate();},toASN:function toASN(value){return new asn1_14({valueDate:value});}};var defaultConverters=Object.freeze({AsnAnyConverter:AsnAnyConverter,AsnIntegerConverter:AsnIntegerConverter,AsnEnumeratedConverter:AsnEnumeratedConverter,AsnIntegerArrayBufferConverter:AsnIntegerArrayBufferConverter,AsnBitStringConverter:AsnBitStringConverter,AsnObjectIdentifierConverter:AsnObjectIdentifierConverter,AsnBooleanConverter:AsnBooleanConverter,AsnOctetStringConverter:AsnOctetStringConverter,AsnUtf8StringConverter:AsnUtf8StringConverter,AsnBmpStringConverter:AsnBmpStringConverter,AsnUniversalStringConverter:AsnUniversalStringConverter,AsnNumericStringConverter:AsnNumericStringConverter,AsnPrintableStringConverter:AsnPrintableStringConverter,AsnTeletexStringConverter:AsnTeletexStringConverter,AsnVideotexStringConverter:AsnVideotexStringConverter,AsnIA5StringConverter:AsnIA5StringConverter,AsnGraphicStringConverter:AsnGraphicStringConverter,AsnVisibleStringConverter:AsnVisibleStringConverter,AsnGeneralStringConverter:AsnGeneralStringConverter,AsnCharacterStringConverter:AsnCharacterStringConverter,AsnUTCTimeConverter:AsnUTCTimeConverter,AsnGeneralizedTimeConverter:AsnGeneralizedTimeConverter});var AsnTypeTypes;(function(AsnTypeTypes){AsnTypeTypes[AsnTypeTypes["Sequence"]=0]="Sequence";AsnTypeTypes[AsnTypeTypes["Set"]=1]="Set";AsnTypeTypes[AsnTypeTypes["Choice"]=2]="Choice";})(AsnTypeTypes||(AsnTypeTypes={}));var AsnPropTypes;(function(AsnPropTypes){AsnPropTypes[AsnPropTypes["Any"]=0]="Any";AsnPropTypes[AsnPropTypes["Boolean"]=1]="Boolean";AsnPropTypes[AsnPropTypes["OctetString"]=2]="OctetString";AsnPropTypes[AsnPropTypes["BitString"]=3]="BitString";AsnPropTypes[AsnPropTypes["Integer"]=4]="Integer";AsnPropTypes[AsnPropTypes["Enumerated"]=5]="Enumerated";AsnPropTypes[AsnPropTypes["ObjectIdentifier"]=6]="ObjectIdentifier";AsnPropTypes[AsnPropTypes["Utf8String"]=7]="Utf8String";AsnPropTypes[AsnPropTypes["BmpString"]=8]="BmpString";AsnPropTypes[AsnPropTypes["UniversalString"]=9]="UniversalString";AsnPropTypes[AsnPropTypes["NumericString"]=10]="NumericString";AsnPropTypes[AsnPropTypes["PrintableString"]=11]="PrintableString";AsnPropTypes[AsnPropTypes["TeletexString"]=12]="TeletexString";AsnPropTypes[AsnPropTypes["VideotexString"]=13]="VideotexString";AsnPropTypes[AsnPropTypes["IA5String"]=14]="IA5String";AsnPropTypes[AsnPropTypes["GraphicString"]=15]="GraphicString";AsnPropTypes[AsnPropTypes["VisibleString"]=16]="VisibleString";AsnPropTypes[AsnPropTypes["GeneralString"]=17]="GeneralString";AsnPropTypes[AsnPropTypes["CharacterString"]=18]="CharacterString";AsnPropTypes[AsnPropTypes["UTCTime"]=19]="UTCTime";AsnPropTypes[AsnPropTypes["GeneralizedTime"]=20]="GeneralizedTime";AsnPropTypes[AsnPropTypes["DATE"]=21]="DATE";AsnPropTypes[AsnPropTypes["TimeOfDay"]=22]="TimeOfDay";AsnPropTypes[AsnPropTypes["DateTime"]=23]="DateTime";AsnPropTypes[AsnPropTypes["Duration"]=24]="Duration";AsnPropTypes[AsnPropTypes["TIME"]=25]="TIME";AsnPropTypes[AsnPropTypes["Null"]=26]="Null";})(AsnPropTypes||(AsnPropTypes={}));var AsnSchemaStorage=/*#__PURE__*/function(){function AsnSchemaStorage(){_classCallCheck(this,AsnSchemaStorage);this.items=new Map();}_createClass(AsnSchemaStorage,[{key:"has",value:function has(target){return this.items.has(target);}},{key:"get",value:function get(target){var schema=this.items.get(target);if(!schema){throw new Error("Cannot get schema for current target");}return schema;}},{key:"cache",value:function cache(target){var schema=this.get(target);if(!schema.schema){schema.schema=this.create(target,true);}}},{key:"createDefault",value:function createDefault(target){var schema={type:AsnTypeTypes.Sequence,items:{}};var parentSchema=this.findParentSchema(target);if(parentSchema){Object.assign(schema,parentSchema);schema.items=Object.assign({},schema.items,parentSchema.items);}return schema;}},{key:"create",value:function create(target,useNames){var schema=this.items.get(target)||this.createDefault(target);var asn1Value=[];for(var _key4 in schema.items){var item=schema.items[_key4];var _name=useNames?_key4:"";var asn1Item=void 0;if(typeof item.type==="number"){var Asn1TypeName=AsnPropTypes[item.type];var Asn1Type=asn1$2[Asn1TypeName];if(!Asn1Type){throw new Error("Cannot get ASN1 class by name '".concat(Asn1TypeName,"'"));}asn1Item=new Asn1Type({name:_name});}else{asn1Item=new asn1_7({name:_name});}var optional=!!item.optional||item.defaultValue!==undefined;if(item.repeated){asn1Item.name="";asn1Item=new asn1_6({name:_name,value:asn1Item});}if(item.context!==null&&item.context!==undefined){if(item.implicit){if(typeof item.type==="number"){asn1Value.push(new asn1_40({name:_name,optional:optional,idBlock:{tagClass:3,tagNumber:item.context}}));}else{this.cache(item.type);var value=this.get(item.type).schema.valueBlock.value;asn1Value.push(new asn1_39({name:_name,optional:optional,idBlock:{tagClass:3,tagNumber:item.context},value:value}));}}else{asn1Value.push(new asn1_39({optional:optional,idBlock:{tagClass:3,tagNumber:item.context},value:[asn1Item]}));}}else{asn1Item.optional=optional;asn1Value.push(asn1Item);}}switch(schema.type){case AsnTypeTypes.Sequence:return new asn1_36({value:asn1Value,name:""});case AsnTypeTypes.Set:return new asn1_35({value:asn1Value,name:""});case AsnTypeTypes.Choice:return new asn1_8({value:asn1Value,name:""});default:throw new Error("Unsupported ASN1 type in use");}}},{key:"set",value:function set(target,schema){this.items.set(target,schema);return this;}},{key:"findParentSchema",value:function findParentSchema(target){var parent=target.__proto__;if(parent){var schema=this.items.get(parent);return schema||this.findParentSchema(parent);}return null;}}]);return AsnSchemaStorage;}();var schemaStorage=new AsnSchemaStorage();var AsnType=function AsnType(options){return function(target){var schema=schemaStorage.get(target);Object.assign(schema,options);};};var AsnProp=function AsnProp(options){return function(target,propertyKey){var schema;if(!schemaStorage.has(target.constructor)){schema=schemaStorage.createDefault(target.constructor);schemaStorage.set(target.constructor,schema);}else{schema=schemaStorage.get(target.constructor);}var copyOptions=Object.assign({},options);if(typeof copyOptions.type==="number"&&!copyOptions.converter){var converterName="Asn".concat(AsnPropTypes[options.type],"Converter");var defaultConverter=defaultConverters[converterName];if(!defaultConverter){throw new Error("Cannot get '".concat(converterName,"' for property '").concat(propertyKey,"' of ").concat(target.constructor.name));}copyOptions.converter=defaultConverter;}schema.items[propertyKey]=copyOptions;};};function isConvertible(target){if(target&&target.prototype){if(target.prototype.toASN&&target.prototype.fromASN){return true;}else{return isConvertible(target.prototype);}}else{return !!(target&&target.toASN&&target.fromASN);}}var AsnParser=/*#__PURE__*/function(){function AsnParser(){_classCallCheck(this,AsnParser);}_createClass(AsnParser,null,[{key:"parse",value:function parse(data,target){var buf;if(data instanceof ArrayBuffer){buf=data;}else if((typeof Buffer==="undefined"?"undefined":_typeof(Buffer))!==undefined&&Buffer.isBuffer(data)){buf=new Uint8Array(data).buffer;}else if(ArrayBuffer.isView(data)){buf=data.buffer;}else{throw new TypeError("Wrong type of 'data' argument");}var asn1Parsed=asn1_1(buf);if(asn1Parsed.result.error){throw new Error(asn1Parsed.result.error);}var res=this.fromASN(asn1Parsed.result,target);return res;}},{key:"fromASN",value:function fromASN(asn1Schema,target){var _this66=this;if(isConvertible(target)){var value=new target();return value.fromASN(asn1Schema);}var schema=schemaStorage.get(target);schemaStorage.cache(target);var targetSchema=schema.schema;if(asn1Schema.constructor===asn1_39&&schema.type!==AsnTypeTypes.Choice){targetSchema=new asn1_39({idBlock:{tagClass:3,tagNumber:asn1Schema.idBlock.tagNumber},value:schema.schema.valueBlock.value});for(var _key5 in schema.items){delete asn1Schema[_key5];}}var asn1ComparedSchema=asn1_2(asn1Schema,asn1Schema,targetSchema);if(!asn1ComparedSchema.verified){throw new Error("Data does not match to ".concat(target.name," ASN1 schema. ").concat(asn1ComparedSchema.result.error));}var res=new target();var _loop=function _loop(_key6){if(!asn1Schema[_key6]){return "continue";}var schemaItem=schema.items[_key6];if(typeof schemaItem.type==="number"){var converter=schemaItem.converter;if(!converter){throw new Error("Converter is empty");}if(schemaItem.repeated){res[_key6]=Array.from(asn1Schema[_key6],function(element){return converter.fromASN(element);});}else{var _value2=asn1Schema[_key6];if(schemaItem.implicit){var Asn1TypeName=AsnPropTypes[schemaItem.type];var Asn1Type=asn1$2[Asn1TypeName];if(!Asn1Type){throw new Error("Cannot get '".concat(Asn1TypeName,"' class from asn1js module"));}var newItem=new Asn1Type();newItem.valueBlock=_value2.valueBlock;_value2=asn1_1(newItem.toBER(false)).result;}res[_key6]=converter.fromASN(_value2);}}else{if(schemaItem.repeated){res[_key6]=Array.from(asn1Schema[_key6],function(element){return _this66.fromASN(element,schemaItem.type);});}else{res[_key6]=_this66.fromASN(asn1Schema[_key6],schemaItem.type);}}};for(var _key6 in schema.items){var _ret=_loop(_key6);if(_ret==="continue")continue;}res._cache={asn1:asn1Schema};return res;}}]);return AsnParser;}();var AsnSerializer=/*#__PURE__*/function(){function AsnSerializer(){_classCallCheck(this,AsnSerializer);}_createClass(AsnSerializer,null,[{key:"serialize",value:function serialize(obj){return this.toASN(obj).toBER(false);}},{key:"toASN",value:function toASN(obj){var _this67=this;if(obj&&isConvertible(obj.constructor)){return obj.toASN();}var target=obj.constructor;var schema=schemaStorage.get(target);schemaStorage.cache(target);var asn1Value=[];for(var _key7 in schema.items){var item=schema.items[_key7];var objProp=obj[_key7];if(objProp===undefined||item.defaultValue===objProp){continue;}var asn1Item=void 0;if(typeof item.type==="number"){(function(){var converter=item.converter;if(!converter){throw new Error("Property '".concat(_key7,"' doesn't have converter for type ").concat(AsnPropTypes[item.type]," in schema '").concat(target.name,"'"));}if(item.repeated){asn1Item=Array.from(objProp,function(element){return converter.toASN(element);});}else{asn1Item=converter.toASN(objProp);}})();}else{if(item.repeated){asn1Item=Array.from(objProp,function(element){return _this67.toASN(element);});}else{asn1Item=this.toASN(objProp);}}if(item.context!==null&&item.context!==undefined){if(item.implicit){if(typeof item.type==="number"){var value={};value.valueHex=asn1Item.valueBlock.toBER();asn1Value.push(new asn1_40(Object.assign({optional:item.optional,idBlock:{tagClass:3,tagNumber:item.context}},value)));}else{asn1Value.push(new asn1_39({optional:item.optional,idBlock:{tagClass:3,tagNumber:item.context},value:asn1Item.valueBlock.value}));}}else{asn1Value.push(new asn1_39({optional:item.optional,idBlock:{tagClass:3,tagNumber:item.context},value:[asn1Item]}));}}else if(item.repeated){asn1Value=asn1Value.concat(asn1Item);}else{asn1Value.push(asn1Item);}}var asnSchema;switch(schema.type){case AsnTypeTypes.Sequence:asnSchema=new asn1_36({value:asn1Value});break;case AsnTypeTypes.Set:asnSchema=new asn1_35({value:asn1Value});break;case AsnTypeTypes.Choice:if(!asn1Value[0]){throw new Error("Schema '".concat(target.name,"' has wrong data. Choice cannot be empty."));}asnSchema=asn1Value[0];break;}return asnSchema;}}]);return AsnSerializer;}();var build=createCommonjsModule(function(module,exports){Object.defineProperty(exports,'__esModule',{value:true});var JsonError=/*#__PURE__*/function(_Error2){_inherits(JsonError,_Error2);function JsonError(message,innerError){var _this68;_classCallCheck(this,JsonError);_this68=_possibleConstructorReturn(this,_getPrototypeOf(JsonError).call(this,innerError?"".concat(message,". See the inner exception for more details."):message));_this68.message=message;_this68.innerError=innerError;return _this68;}return JsonError;}(_wrapNativeSuper(Error));var TransformError=/*#__PURE__*/function(_JsonError){_inherits(TransformError,_JsonError);function TransformError(schema,message,innerError){var _this69;_classCallCheck(this,TransformError);_this69=_possibleConstructorReturn(this,_getPrototypeOf(TransformError).call(this,message,innerError));_this69.schema=schema;return _this69;}return TransformError;}(JsonError);var ParserError=/*#__PURE__*/function(_TransformError){_inherits(ParserError,_TransformError);function ParserError(schema,message,innerError){_classCallCheck(this,ParserError);return _possibleConstructorReturn(this,_getPrototypeOf(ParserError).call(this,schema,"JSON doesn't match to '".concat(schema.target.name,"' schema. ").concat(message),innerError));}return ParserError;}(TransformError);var ValidationError=/*#__PURE__*/function(_JsonError2){_inherits(ValidationError,_JsonError2);function ValidationError(){_classCallCheck(this,ValidationError);return _possibleConstructorReturn(this,_getPrototypeOf(ValidationError).apply(this,arguments));}return ValidationError;}(JsonError);var SerializerError=/*#__PURE__*/function(_JsonError3){_inherits(SerializerError,_JsonError3);function SerializerError(schemaName,message,innerError){var _this70;_classCallCheck(this,SerializerError);_this70=_possibleConstructorReturn(this,_getPrototypeOf(SerializerError).call(this,"Cannot serialize by '".concat(schemaName,"' schema. ").concat(message),innerError));_this70.schemaName=schemaName;return _this70;}return SerializerError;}(JsonError);var KeyError=/*#__PURE__*/function(_ParserError){_inherits(KeyError,_ParserError);function KeyError(schema,keys){var _this71;var errors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,KeyError);_this71=_possibleConstructorReturn(this,_getPrototypeOf(KeyError).call(this,schema,"Some keys doesn't match to schema"));_this71.keys=keys;_this71.errors=errors;return _this71;}return KeyError;}(ParserError);(function(JsonPropTypes){JsonPropTypes[JsonPropTypes["Any"]=0]="Any";JsonPropTypes[JsonPropTypes["Boolean"]=1]="Boolean";JsonPropTypes[JsonPropTypes["Number"]=2]="Number";JsonPropTypes[JsonPropTypes["String"]=3]="String";})(exports.JsonPropTypes||(exports.JsonPropTypes={}));function checkType(value,type){switch(type){case exports.JsonPropTypes.Boolean:return typeof value==="boolean";case exports.JsonPropTypes.Number:return typeof value==="number";case exports.JsonPropTypes.String:return typeof value==="string";}return true;}function throwIfTypeIsWrong(value,type){if(!checkType(value,type)){throw new TypeError("Value must be ".concat(exports.JsonPropTypes[type]));}}function isConvertible(target){if(target&&target.prototype){if(target.prototype.toJSON&&target.prototype.fromJSON){return true;}else{return isConvertible(target.prototype);}}else{return !!(target&&target.toJSON&&target.fromJSON);}}var JsonSchemaStorage=/*#__PURE__*/function(){function JsonSchemaStorage(){_classCallCheck(this,JsonSchemaStorage);this.items=new Map();}_createClass(JsonSchemaStorage,[{key:"has",value:function has(target){return this.items.has(target)||!!this.findParentSchema(target);}},{key:"get",value:function get(target){var schema=this.items.get(target)||this.findParentSchema(target);if(!schema){throw new Error("Cannot get schema for current target");}return schema;}},{key:"create",value:function create(target){var schema={names:{}};var parentSchema=this.findParentSchema(target);if(parentSchema){Object.assign(schema,parentSchema);schema.names={};for(var _name2 in parentSchema.names){schema.names[_name2]=Object.assign({},parentSchema.names[_name2]);}}schema.target=target;return schema;}},{key:"set",value:function set(target,schema){this.items.set(target,schema);return this;}},{key:"findParentSchema",value:function findParentSchema(target){var parent=target.__proto__;if(parent){var schema=this.items.get(parent);return schema||this.findParentSchema(parent);}return null;}}]);return JsonSchemaStorage;}();var DEFAULT_SCHEMA="default";var schemaStorage=new JsonSchemaStorage();var PatternValidation=/*#__PURE__*/function(){function PatternValidation(pattern){_classCallCheck(this,PatternValidation);this.pattern=new RegExp(pattern);}_createClass(PatternValidation,[{key:"validate",value:function validate(value){var pattern=new RegExp(this.pattern.source,this.pattern.flags);if(typeof value!=="string"){throw new ValidationError("Incoming value must be string");}if(!pattern.exec(value)){throw new ValidationError("Value doesn't match to pattern '".concat(pattern.toString(),"'"));}}}]);return PatternValidation;}();var InclusiveValidation=/*#__PURE__*/function(){function InclusiveValidation(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Number.MIN_VALUE;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;_classCallCheck(this,InclusiveValidation);this.min=min;this.max=max;}_createClass(InclusiveValidation,[{key:"validate",value:function validate(value){throwIfTypeIsWrong(value,exports.JsonPropTypes.Number);if(!(this.min<=value&&value<=this.max)){var min=this.min===Number.MIN_VALUE?"MIN":this.min;var max=this.max===Number.MAX_VALUE?"MAX":this.max;throw new ValidationError("Value doesn't match to diapason [".concat(min,",").concat(max,"]"));}}}]);return InclusiveValidation;}();var ExclusiveValidation=/*#__PURE__*/function(){function ExclusiveValidation(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Number.MIN_VALUE;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;_classCallCheck(this,ExclusiveValidation);this.min=min;this.max=max;}_createClass(ExclusiveValidation,[{key:"validate",value:function validate(value){throwIfTypeIsWrong(value,exports.JsonPropTypes.Number);if(!(this.min<value&&value<this.max)){var min=this.min===Number.MIN_VALUE?"MIN":this.min;var max=this.max===Number.MAX_VALUE?"MAX":this.max;throw new ValidationError("Value doesn't match to diapason (".concat(min,",").concat(max,")"));}}}]);return ExclusiveValidation;}();var LengthValidation=/*#__PURE__*/function(){function LengthValidation(length,minLength,maxLength){_classCallCheck(this,LengthValidation);this.length=length;this.minLength=minLength;this.maxLength=maxLength;}_createClass(LengthValidation,[{key:"validate",value:function validate(value){if(this.length!==undefined){if(value.length!==this.length){throw new ValidationError("Value length must be exactly ".concat(this.length,"."));}return;}if(this.minLength!==undefined){if(value.length<this.minLength){throw new ValidationError("Value length must be more than ".concat(this.minLength,"."));}}if(this.maxLength!==undefined){if(value.length>this.maxLength){throw new ValidationError("Value length must be less than ".concat(this.maxLength,"."));}}}}]);return LengthValidation;}();var EnumerationValidation=/*#__PURE__*/function(){function EnumerationValidation(enumeration){_classCallCheck(this,EnumerationValidation);this.enumeration=enumeration;}_createClass(EnumerationValidation,[{key:"validate",value:function validate(value){throwIfTypeIsWrong(value,exports.JsonPropTypes.String);if(!this.enumeration.includes(value)){throw new ValidationError("Value must be one of ".concat(this.enumeration.map(function(v){return "'".concat(v,"'");}).join(", ")));}}}]);return EnumerationValidation;}();var JsonTransform=/*#__PURE__*/function(){function JsonTransform(){_classCallCheck(this,JsonTransform);}_createClass(JsonTransform,null,[{key:"checkValues",value:function checkValues(data,schemaItem){var values=Array.isArray(data)?data:[data];var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=values[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var value=_step7.value;var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=schemaItem.validations[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var validation=_step8.value;if(validation instanceof LengthValidation&&schemaItem.repeated){validation.validate(data);}else{validation.validate(value);}}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return!=null){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return!=null){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}}},{key:"checkTypes",value:function checkTypes(value,schemaItem){if(schemaItem.repeated&&!Array.isArray(value)){throw new TypeError("Value must be Array");}if(typeof schemaItem.type==="number"){var values=Array.isArray(value)?value:[value];var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=values[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var v=_step9.value;throwIfTypeIsWrong(v,schemaItem.type);}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return!=null){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}}}},{key:"getSchemaByName",value:function getSchemaByName(schema){var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DEFAULT_SCHEMA;return _objectSpread2({},schema.names[DEFAULT_SCHEMA],{},schema.names[name]);}}]);return JsonTransform;}();var JsonSerializer=/*#__PURE__*/function(_JsonTransform){_inherits(JsonSerializer,_JsonTransform);function JsonSerializer(){_classCallCheck(this,JsonSerializer);return _possibleConstructorReturn(this,_getPrototypeOf(JsonSerializer).apply(this,arguments));}_createClass(JsonSerializer,null,[{key:"serialize",value:function serialize(obj,options,replacer,space){var json=this.toJSON(obj,options);return JSON.stringify(json,replacer,space);}},{key:"toJSON",value:function toJSON(obj){var _this72=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var res;var targetSchema=options.targetSchema;var schemaName=options.schemaName||DEFAULT_SCHEMA;if(isConvertible(obj)){return obj.toJSON();}if(Array.isArray(obj)){res=[];var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=obj[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var item=_step10.value;res.push(this.toJSON(item,options));}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return!=null){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}}else if(_typeof(obj)==="object"){if(targetSchema&&!schemaStorage.has(targetSchema)){throw new JsonError("Cannot get schema for `targetSchema` param");}targetSchema=targetSchema||obj.constructor;if(schemaStorage.has(targetSchema)){var schema=schemaStorage.get(targetSchema);res={};var namedSchema=this.getSchemaByName(schema,schemaName);for(var _key8 in namedSchema){try{var _ret2=function(){var item=namedSchema[_key8];var objItem=obj[_key8];var value=void 0;if(item.optional&&objItem===undefined||item.defaultValue!==undefined&&objItem===item.defaultValue){return "continue";}if(!item.optional&&objItem===undefined){throw new SerializerError(targetSchema.name,"Property '".concat(_key8,"' is required."));}if(typeof item.type==="number"){if(item.converter){if(item.repeated){value=objItem.map(function(el){return item.converter.toJSON(el,obj);});}else{value=item.converter.toJSON(objItem,obj);}}else{value=objItem;}}else{if(item.repeated){value=objItem.map(function(el){return _this72.toJSON(el,{schemaName:schemaName});});}else{value=_this72.toJSON(objItem,{schemaName:schemaName});}}_this72.checkTypes(value,item);_this72.checkValues(value,item);res[item.name||_key8]=value;}();if(_ret2==="continue")continue;}catch(e){if(e instanceof SerializerError){throw e;}else{throw new SerializerError(schema.target.name,"Property '".concat(_key8,"' is wrong. ").concat(e.message),e);}}}}else{res={};for(var _key9 in obj){res[_key9]=this.toJSON(obj[_key9],{schemaName:schemaName});}}}else{res=obj;}return res;}}]);return JsonSerializer;}(JsonTransform);var JsonParser=/*#__PURE__*/function(_JsonTransform2){_inherits(JsonParser,_JsonTransform2);function JsonParser(){_classCallCheck(this,JsonParser);return _possibleConstructorReturn(this,_getPrototypeOf(JsonParser).apply(this,arguments));}_createClass(JsonParser,null,[{key:"parse",value:function parse(data,options){var obj=JSON.parse(data);return this.fromJSON(obj,options);}},{key:"fromJSON",value:function fromJSON(target,options){var _this73=this;var targetSchema=options.targetSchema;var schemaName=options.schemaName||DEFAULT_SCHEMA;var obj=new targetSchema();if(isConvertible(obj)){return obj.fromJSON(target);}var schema=schemaStorage.get(targetSchema);var namedSchema=this.getSchemaByName(schema,schemaName);var keyErrors={};if(options.strictProperty&&!Array.isArray(target)){JsonParser.checkStrictProperty(target,namedSchema,schema);}for(var _key10 in namedSchema){try{var _ret3=function(){var item=namedSchema[_key10];var name=item.name||_key10;var value=target[name];if(value===undefined&&(item.optional||item.defaultValue!==undefined)){return "continue";}if(!item.optional&&value===undefined){throw new ParserError(schema,"Property '".concat(name,"' is required."));}_this73.checkTypes(value,item);_this73.checkValues(value,item);if(typeof item.type==="number"){if(item.converter){if(item.repeated){obj[_key10]=value.map(function(el){return item.converter.fromJSON(el,obj);});}else{obj[_key10]=item.converter.fromJSON(value,obj);}}else{obj[_key10]=value;}}else{var newOptions=_objectSpread2({},options,{targetSchema:item.type,schemaName:schemaName});if(item.repeated){obj[_key10]=value.map(function(el){return _this73.fromJSON(el,newOptions);});}else{obj[_key10]=_this73.fromJSON(value,newOptions);}}}();if(_ret3==="continue")continue;}catch(e){if(!(e instanceof ParserError)){e=new ParserError(schema,"Property '".concat(_key10,"' is wrong. ").concat(e.message),e);}if(options.strictAllKeys){keyErrors[_key10]=e;}else{throw e;}}}var keys=Object.keys(keyErrors);if(keys.length){throw new KeyError(schema,keys,keyErrors);}return obj;}},{key:"checkStrictProperty",value:function checkStrictProperty(target,namedSchema,schema){var jsonProps=Object.keys(target);var schemaProps=Object.keys(namedSchema);var keys=[];for(var _i19=0,_jsonProps=jsonProps;_i19<_jsonProps.length;_i19++){var _key11=_jsonProps[_i19];if(schemaProps.indexOf(_key11)===-1){keys.push(_key11);}}if(keys.length){throw new KeyError(schema,keys);}}}]);return JsonParser;}(JsonTransform);function getValidations(item){var validations=[];if(item.pattern){validations.push(new PatternValidation(item.pattern));}if(item.type===exports.JsonPropTypes.Number||item.type===exports.JsonPropTypes.Any){if(item.minInclusive!==undefined||item.maxInclusive!==undefined){validations.push(new InclusiveValidation(item.minInclusive,item.maxInclusive));}if(item.minExclusive!==undefined||item.maxExclusive!==undefined){validations.push(new ExclusiveValidation(item.minExclusive,item.maxExclusive));}if(item.enumeration!==undefined){validations.push(new EnumerationValidation(item.enumeration));}}if(item.type===exports.JsonPropTypes.String||item.repeated||item.type===exports.JsonPropTypes.Any){if(item.length!==undefined||item.minLength!==undefined||item.maxLength!==undefined){validations.push(new LengthValidation(item.length,item.minLength,item.maxLength));}}return validations;}var JsonProp=function JsonProp(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(target,propertyKey){var errorMessage="Cannot set type for ".concat(propertyKey," property of ").concat(target.constructor.name," schema");var schema;if(!schemaStorage.has(target.constructor)){schema=schemaStorage.create(target.constructor);schemaStorage.set(target.constructor,schema);}else{schema=schemaStorage.get(target.constructor);if(schema.target!==target.constructor){schema=schemaStorage.create(target.constructor);schemaStorage.set(target.constructor,schema);}}var defaultSchema={type:exports.JsonPropTypes.Any,validations:[]};var copyOptions=Object.assign(defaultSchema,options);copyOptions.validations=getValidations(copyOptions);if(typeof copyOptions.type!=="number"){if(!schemaStorage.has(copyOptions.type)&&!isConvertible(copyOptions.type)){throw new Error("".concat(errorMessage,". Assigning type doesn't have schema."));}}var schemaNames;if(Array.isArray(options.schema)){schemaNames=options.schema;}else{schemaNames=[options.schema||DEFAULT_SCHEMA];}var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=schemaNames[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var schemaName=_step11.value;if(!schema.names[schemaName]){schema.names[schemaName]={};}var namedSchema=schema.names[schemaName];namedSchema[propertyKey]=copyOptions;}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return!=null){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}};};exports.JsonParser=JsonParser;exports.JsonProp=JsonProp;exports.JsonSerializer=JsonSerializer;});unwrapExports(build);var build_1=build.JsonPropTypes;var build_2=build.JsonParser;var build_3=build.JsonProp;var build_4=build.JsonSerializer;var ObjectIdentifier=function ObjectIdentifier(value){_classCallCheck(this,ObjectIdentifier);if(value){this.value=value;}};__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ObjectIdentifier.prototype,"value",void 0);ObjectIdentifier=__decorate([AsnType({type:AsnTypeTypes.Choice})],ObjectIdentifier);var AlgorithmIdentifier=function AlgorithmIdentifier(params){_classCallCheck(this,AlgorithmIdentifier);Object.assign(this,params);};__decorate([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AlgorithmIdentifier.prototype,"algorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],AlgorithmIdentifier.prototype,"parameters",void 0);var PrivateKeyInfo=function PrivateKeyInfo(){_classCallCheck(this,PrivateKeyInfo);this.version=0;this.privateKeyAlgorithm=new AlgorithmIdentifier();this.privateKey=new ArrayBuffer(0);};__decorate([AsnProp({type:AsnPropTypes.Integer})],PrivateKeyInfo.prototype,"version",void 0);__decorate([AsnProp({type:AlgorithmIdentifier})],PrivateKeyInfo.prototype,"privateKeyAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.OctetString})],PrivateKeyInfo.prototype,"privateKey",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],PrivateKeyInfo.prototype,"attributes",void 0);var PublicKeyInfo=function PublicKeyInfo(){_classCallCheck(this,PublicKeyInfo);this.publicKeyAlgorithm=new AlgorithmIdentifier();this.publicKey=new ArrayBuffer(0);};__decorate([AsnProp({type:AlgorithmIdentifier})],PublicKeyInfo.prototype,"publicKeyAlgorithm",void 0);__decorate([AsnProp({type:AsnPropTypes.BitString})],PublicKeyInfo.prototype,"publicKey",void 0);var JsonBase64UrlArrayBufferConverter={fromJSON:function fromJSON(value){return Convert.FromBase64Url(value);},toJSON:function toJSON(value){return Convert.ToBase64Url(new Uint8Array(value));}};var Browser;(function(Browser){Browser["Unknown"]="Unknown";Browser["IE"]="Internet Explorer";Browser["Safari"]="Safari";Browser["Edge"]="Edge";Browser["Chrome"]="Chrome";Browser["Firefox"]="Firefox Mozilla";Browser["Mobile"]="Mobile";})(Browser||(Browser={}));function BrowserInfo(){var res={name:Browser.Unknown,version:"0"};if(typeof self==="undefined"){return res;}var userAgent=self.navigator.userAgent;var reg;if(reg=/edge\/([\d\.]+)/i.exec(userAgent)){res.name=Browser.Edge;res.version=reg[1];}else if(/msie/i.test(userAgent)){res.name=Browser.IE;res.version=/msie ([\d\.]+)/i.exec(userAgent)[1];}else if(/Trident/i.test(userAgent)){res.name=Browser.IE;res.version=/rv:([\d\.]+)/i.exec(userAgent)[1];}else if(/chrome/i.test(userAgent)){res.name=Browser.Chrome;res.version=/chrome\/([\d\.]+)/i.exec(userAgent)[1];}else if(/firefox/i.test(userAgent)){res.name=Browser.Firefox;res.version=/firefox\/([\d\.]+)/i.exec(userAgent)[1];}else if(/mobile/i.test(userAgent)){res.name=Browser.Mobile;res.version=/mobile\/([\w]+)/i.exec(userAgent)[1];}else if(/safari/i.test(userAgent)){res.name=Browser.Safari;res.version=/version\/([\d\.]+)/i.exec(userAgent)[1];}return res;}function concat(){for(var _len3=arguments.length,buf=new Array(_len3),_key12=0;_key12<_len3;_key12++){buf[_key12]=arguments[_key12];}var res=new Uint8Array(buf.map(function(item){return item.length;}).reduce(function(prev,cur){return prev+cur;}));var offset=0;buf.forEach(function(item,index){for(var i=0;i<item.length;i++){res[offset+i]=item[i];}offset+=item.length;});return res;}var AsnIntegerArrayBufferConverter$1={fromASN:function fromASN(value){var valueHex=value.valueBlock.valueHex;return !new Uint8Array(valueHex)[0]?value.valueBlock.valueHex.slice(1):value.valueBlock.valueHex;},toASN:function toASN(value){var valueHex=new Uint8Array(value)[0]>127?concat(new Uint8Array([0]),new Uint8Array(value)):new Uint8Array(value);return new asn1_31({valueHex:new Uint8Array(valueHex).buffer});}};var RsaPrivateKey=function RsaPrivateKey(){_classCallCheck(this,RsaPrivateKey);this.version=0;this.modulus=new ArrayBuffer(0);this.publicExponent=new ArrayBuffer(0);this.privateExponent=new ArrayBuffer(0);this.prime1=new ArrayBuffer(0);this.prime2=new ArrayBuffer(0);this.exponent1=new ArrayBuffer(0);this.exponent2=new ArrayBuffer(0);this.coefficient=new ArrayBuffer(0);};__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerConverter})],RsaPrivateKey.prototype,"version",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"n",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"modulus",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"e",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"publicExponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"d",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"privateExponent",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"p",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"prime1",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"q",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"prime2",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"dp",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"exponent1",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"dq",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"exponent2",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"qi",converter:JsonBase64UrlArrayBufferConverter})],RsaPrivateKey.prototype,"coefficient",void 0);__decorate([AsnProp({type:AsnPropTypes.Any,optional:true})],RsaPrivateKey.prototype,"otherPrimeInfos",void 0);var RsaPublicKey=function RsaPublicKey(){_classCallCheck(this,RsaPublicKey);this.modulus=new ArrayBuffer(0);this.publicExponent=new ArrayBuffer(0);};__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"n",converter:JsonBase64UrlArrayBufferConverter})],RsaPublicKey.prototype,"modulus",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter$1}),build_3({name:"e",converter:JsonBase64UrlArrayBufferConverter})],RsaPublicKey.prototype,"publicExponent",void 0);var EcPublicKey=/*#__PURE__*/function(){function EcPublicKey(value){_classCallCheck(this,EcPublicKey);this.value=new ArrayBuffer(0);if(value){this.value=value;}}_createClass(EcPublicKey,[{key:"toJSON",value:function toJSON(){var bytes=new Uint8Array(this.value);if(bytes[0]!==0x04){throw new CryptoError("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");}bytes=new Uint8Array(this.value.slice(1));var size=bytes.length/2;var offset=0;var json={x:Convert.ToBase64Url(bytes.buffer.slice(offset,offset+size)),y:Convert.ToBase64Url(bytes.buffer.slice(offset+size,offset+size+size))};return json;}},{key:"fromJSON",value:function fromJSON(json){if(!("x"in json)){throw new Error("x: Missing required property");}if(!("y"in json)){throw new Error("y: Missing required property");}var x=Convert.FromBase64Url(json.x);var y=Convert.FromBase64Url(json.y);var value=concat(new Uint8Array([0x04]),new Uint8Array(x),new Uint8Array(y));this.value=new Uint8Array(value).buffer;return this;}}]);return EcPublicKey;}();__decorate([AsnProp({type:AsnPropTypes.OctetString})],EcPublicKey.prototype,"value",void 0);EcPublicKey=__decorate([AsnType({type:AsnTypeTypes.Choice})],EcPublicKey);var EcPrivateKey=/*#__PURE__*/function(){function EcPrivateKey(){_classCallCheck(this,EcPrivateKey);this.version=1;this.privateKey=new ArrayBuffer(0);}_createClass(EcPrivateKey,[{key:"fromJSON",value:function fromJSON(json){if(!("d"in json)){throw new Error("d: Missing required property");}this.privateKey=Convert.FromBase64Url(json.d);if("x"in json){var publicKey=new EcPublicKey();publicKey.fromJSON(json);this.publicKey=AsnSerializer.toASN(publicKey).valueBlock.valueHex;}return this;}},{key:"toJSON",value:function toJSON(){var jwk={};jwk.d=Convert.ToBase64Url(this.privateKey);if(this.publicKey){Object.assign(jwk,new EcPublicKey(this.publicKey).toJSON());}return jwk;}}]);return EcPrivateKey;}();__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerConverter})],EcPrivateKey.prototype,"version",void 0);__decorate([AsnProp({type:AsnPropTypes.OctetString})],EcPrivateKey.prototype,"privateKey",void 0);__decorate([AsnProp({context:0,type:AsnPropTypes.Any,optional:true})],EcPrivateKey.prototype,"parameters",void 0);__decorate([AsnProp({context:1,type:AsnPropTypes.BitString,optional:true})],EcPrivateKey.prototype,"publicKey",void 0);var AsnIntegerWithoutPaddingConverter={fromASN:function fromASN(value){var bytes=new Uint8Array(value.valueBlock.valueHex);return bytes[0]===0?bytes.buffer.slice(1):bytes.buffer;},toASN:function toASN(value){var bytes=new Uint8Array(value);if(bytes[0]>127){var newValue=new Uint8Array(bytes.length+1);newValue.set(bytes,1);return new asn1_31({valueHex:newValue});}return new asn1_31({valueHex:value});}};var EcDsaSignature=function EcDsaSignature(){_classCallCheck(this,EcDsaSignature);this.r=new ArrayBuffer(0);this.s=new ArrayBuffer(0);};__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerWithoutPaddingConverter})],EcDsaSignature.prototype,"r",void 0);__decorate([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerWithoutPaddingConverter})],EcDsaSignature.prototype,"s",void 0);var Debug=/*#__PURE__*/function(){function Debug(){_classCallCheck(this,Debug);}_createClass(Debug,null,[{key:"log",value:function log(message){for(var _len4=arguments.length,optionalParams=new Array(_len4>1?_len4-1:0),_key13=1;_key13<_len4;_key13++){optionalParams[_key13-1]=arguments[_key13];}if(this.enabled){console.log.apply(console,arguments);}}},{key:"error",value:function error(message){for(var _len5=arguments.length,optionalParams=new Array(_len5>1?_len5-1:0),_key14=1;_key14<_len5;_key14++){optionalParams[_key14-1]=arguments[_key14];}if(this.enabled){console.error.apply(console,arguments);}}},{key:"info",value:function info(message){for(var _len6=arguments.length,optionalParams=new Array(_len6>1?_len6-1:0),_key15=1;_key15<_len6;_key15++){optionalParams[_key15-1]=arguments[_key15];}if(this.enabled){console.info.apply(console,arguments);}}},{key:"warn",value:function warn(message){for(var _len7=arguments.length,optionalParams=new Array(_len7>1?_len7-1:0),_key16=1;_key16<_len7;_key16++){optionalParams[_key16-1]=arguments[_key16];}if(this.enabled){console.warn.apply(console,arguments);}}},{key:"trace",value:function trace(message){for(var _len8=arguments.length,optionalParams=new Array(_len8>1?_len8-1:0),_key17=1;_key17<_len8;_key17++){optionalParams[_key17-1]=arguments[_key17];}if(this.enabled){console.trace.apply(console,arguments);}}},{key:"enabled",get:function get(){return typeof self!=="undefined"&&self.PV_WEBCRYPTO_LINER_LOG;}}]);return Debug;}();var CryptoKey$1=/*#__PURE__*/function(_CryptoKey){_inherits(CryptoKey$1,_CryptoKey);function CryptoKey$1(algorithm,extractable,type,usages){var _this74;_classCallCheck(this,CryptoKey$1);_this74=_possibleConstructorReturn(this,_getPrototypeOf(CryptoKey$1).call(this));_this74.extractable=extractable;_this74.type=type;_this74.usages=usages;_this74.algorithm=Object.assign({},algorithm);return _this74;}return CryptoKey$1;}(CryptoKey);function string_to_bytes(str){var utf8=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var len=str.length,bytes=new Uint8Array(utf8?4*len:len);for(var i=0,j=0;i<len;i++){var c=str.charCodeAt(i);if(utf8&&0xd800<=c&&c<=0xdbff){if(++i>=len)throw new Error('Malformed string, low surrogate expected at position '+i);c=(c^0xd800)<<10|0x10000|str.charCodeAt(i)^0xdc00;}else if(!utf8&&c>>>8){throw new Error('Wide characters are not allowed.');}if(!utf8||c<=0x7f){bytes[j++]=c;}else if(c<=0x7ff){bytes[j++]=0xc0|c>>6;bytes[j++]=0x80|c&0x3f;}else if(c<=0xffff){bytes[j++]=0xe0|c>>12;bytes[j++]=0x80|c>>6&0x3f;bytes[j++]=0x80|c&0x3f;}else{bytes[j++]=0xf0|c>>18;bytes[j++]=0x80|c>>12&0x3f;bytes[j++]=0x80|c>>6&0x3f;bytes[j++]=0x80|c&0x3f;}}return bytes.subarray(0,j);}function is_bytes(a){return a instanceof Uint8Array;}function _heap_init(heap,heapSize){var size=heap?heap.byteLength:heapSize||65536;if(size&0xfff||size<=0)throw new Error('heap size must be a positive integer and a multiple of 4096');heap=heap||new Uint8Array(new ArrayBuffer(size));return heap;}function _heap_write(heap,hpos,data,dpos,dlen){var hlen=heap.length-hpos;var wlen=hlen<dlen?hlen:dlen;heap.set(data.subarray(dpos,dpos+wlen),hpos);return wlen;}function joinBytes(){for(var _len9=arguments.length,arg=new Array(_len9),_key18=0;_key18<_len9;_key18++){arg[_key18]=arguments[_key18];}var totalLenght=arg.reduce(function(sum,curr){return sum+curr.length;},0);var ret=new Uint8Array(totalLenght);var cursor=0;for(var i=0;i<arg.length;i++){ret.set(arg[i],cursor);cursor+=arg[i].length;}return ret;}var IllegalStateError=/*#__PURE__*/function(_Error3){_inherits(IllegalStateError,_Error3);function IllegalStateError(){var _getPrototypeOf2;_classCallCheck(this,IllegalStateError);for(var _len10=arguments.length,args=new Array(_len10),_key19=0;_key19<_len10;_key19++){args[_key19]=arguments[_key19];}return _possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(IllegalStateError)).call.apply(_getPrototypeOf2,[this].concat(args)));}return IllegalStateError;}(_wrapNativeSuper(Error));var IllegalArgumentError=/*#__PURE__*/function(_Error4){_inherits(IllegalArgumentError,_Error4);function IllegalArgumentError(){var _getPrototypeOf3;_classCallCheck(this,IllegalArgumentError);for(var _len11=arguments.length,args=new Array(_len11),_key20=0;_key20<_len11;_key20++){args[_key20]=arguments[_key20];}return _possibleConstructorReturn(this,(_getPrototypeOf3=_getPrototypeOf(IllegalArgumentError)).call.apply(_getPrototypeOf3,[this].concat(args)));}return IllegalArgumentError;}(_wrapNativeSuper(Error));var SecurityError=/*#__PURE__*/function(_Error5){_inherits(SecurityError,_Error5);function SecurityError(){var _getPrototypeOf4;_classCallCheck(this,SecurityError);for(var _len12=arguments.length,args=new Array(_len12),_key21=0;_key21<_len12;_key21++){args[_key21]=arguments[_key21];}return _possibleConstructorReturn(this,(_getPrototypeOf4=_getPrototypeOf(SecurityError)).call.apply(_getPrototypeOf4,[this].concat(args)));}return SecurityError;}(_wrapNativeSuper(Error));/**
   * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
   * @author Artem S Vybornov <vybornov@gmail.com>
   * @license MIT
   */var AES_asm=function(){var ginit_done=false;var gexp3,glog3;function ginit(){gexp3=[],glog3=[];var a=1,c,d;for(c=0;c<255;c++){gexp3[c]=a;d=a&0x80,a<<=1,a&=255;if(d===0x80)a^=0x1b;a^=gexp3[c];glog3[gexp3[c]]=c;}gexp3[255]=gexp3[0];glog3[0]=0;ginit_done=true;}function gmul(a,b){var c=gexp3[(glog3[a]+glog3[b])%255];if(a===0||b===0)c=0;return c;}function ginv(a){var i=gexp3[255-glog3[a]];if(a===0)i=0;return i;}var aes_init_done=false;var aes_sbox;var aes_sinv;var aes_enc;var aes_dec;function aes_init(){if(!ginit_done)ginit();function _s(a){var c,s,x;s=x=ginv(a);for(c=0;c<4;c++){s=(s<<1|s>>>7)&255;x^=s;}x^=99;return x;}aes_sbox=[],aes_sinv=[],aes_enc=[[],[],[],[]],aes_dec=[[],[],[],[]];for(var i=0;i<256;i++){var s=_s(i);aes_sbox[i]=s;aes_sinv[s]=i;aes_enc[0][i]=gmul(2,s)<<24|s<<16|s<<8|gmul(3,s);aes_dec[0][s]=gmul(14,i)<<24|gmul(9,i)<<16|gmul(13,i)<<8|gmul(11,i);for(var t=1;t<4;t++){aes_enc[t][i]=aes_enc[t-1][i]>>>8|aes_enc[t-1][i]<<24;aes_dec[t][s]=aes_dec[t-1][s]>>>8|aes_dec[t-1][s]<<24;}}aes_init_done=true;}var wrapper=function wrapper(foreign,buffer){if(!aes_init_done)aes_init();var heap=new Uint32Array(buffer);heap.set(aes_sbox,0x0800>>2);heap.set(aes_sinv,0x0c00>>2);for(var i=0;i<4;i++){heap.set(aes_enc[i],0x1000+0x400*i>>2);heap.set(aes_dec[i],0x2000+0x400*i>>2);}function set_key(ks,k0,k1,k2,k3,k4,k5,k6,k7){var ekeys=heap.subarray(0x000,60),dkeys=heap.subarray(0x100,0x100+60);ekeys.set([k0,k1,k2,k3,k4,k5,k6,k7]);for(var i=ks,rcon=1;i<4*ks+28;i++){var k=ekeys[i-1];if(i%ks===0||ks===8&&i%ks===4){k=aes_sbox[k>>>24]<<24^aes_sbox[k>>>16&255]<<16^aes_sbox[k>>>8&255]<<8^aes_sbox[k&255];}if(i%ks===0){k=k<<8^k>>>24^rcon<<24;rcon=rcon<<1^(rcon&0x80?0x1b:0);}ekeys[i]=ekeys[i-ks]^k;}for(var j=0;j<i;j+=4){for(var jj=0;jj<4;jj++){var k=ekeys[i-(4+j)+(4-jj)%4];if(j<4||j>=i-4){dkeys[j+jj]=k;}else{dkeys[j+jj]=aes_dec[0][aes_sbox[k>>>24]]^aes_dec[1][aes_sbox[k>>>16&255]]^aes_dec[2][aes_sbox[k>>>8&255]]^aes_dec[3][aes_sbox[k&255]];}}}asm.set_rounds(ks+5);}var stdlib={Uint8Array:Uint8Array,Uint32Array:Uint32Array};var asm=function(stdlib,foreign,buffer){"use asm";var S0=0,S1=0,S2=0,S3=0,I0=0,I1=0,I2=0,I3=0,N0=0,N1=0,N2=0,N3=0,M0=0,M1=0,M2=0,M3=0,H0=0,H1=0,H2=0,H3=0,R=0;var HEAP=new stdlib.Uint32Array(buffer),DATA=new stdlib.Uint8Array(buffer);function _core(k,s,t,r,x0,x1,x2,x3){k=k|0;s=s|0;t=t|0;r=r|0;x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;var t1=0,t2=0,t3=0,y0=0,y1=0,y2=0,y3=0,i=0;t1=t|0x400,t2=t|0x800,t3=t|0xc00;x0=x0^HEAP[(k|0)>>2],x1=x1^HEAP[(k|4)>>2],x2=x2^HEAP[(k|8)>>2],x3=x3^HEAP[(k|12)>>2];for(i=16;(i|0)<=r<<4;i=i+16|0){y0=HEAP[(t|x0>>22&1020)>>2]^HEAP[(t1|x1>>14&1020)>>2]^HEAP[(t2|x2>>6&1020)>>2]^HEAP[(t3|x3<<2&1020)>>2]^HEAP[(k|i|0)>>2],y1=HEAP[(t|x1>>22&1020)>>2]^HEAP[(t1|x2>>14&1020)>>2]^HEAP[(t2|x3>>6&1020)>>2]^HEAP[(t3|x0<<2&1020)>>2]^HEAP[(k|i|4)>>2],y2=HEAP[(t|x2>>22&1020)>>2]^HEAP[(t1|x3>>14&1020)>>2]^HEAP[(t2|x0>>6&1020)>>2]^HEAP[(t3|x1<<2&1020)>>2]^HEAP[(k|i|8)>>2],y3=HEAP[(t|x3>>22&1020)>>2]^HEAP[(t1|x0>>14&1020)>>2]^HEAP[(t2|x1>>6&1020)>>2]^HEAP[(t3|x2<<2&1020)>>2]^HEAP[(k|i|12)>>2];x0=y0,x1=y1,x2=y2,x3=y3;}S0=HEAP[(s|x0>>22&1020)>>2]<<24^HEAP[(s|x1>>14&1020)>>2]<<16^HEAP[(s|x2>>6&1020)>>2]<<8^HEAP[(s|x3<<2&1020)>>2]^HEAP[(k|i|0)>>2],S1=HEAP[(s|x1>>22&1020)>>2]<<24^HEAP[(s|x2>>14&1020)>>2]<<16^HEAP[(s|x3>>6&1020)>>2]<<8^HEAP[(s|x0<<2&1020)>>2]^HEAP[(k|i|4)>>2],S2=HEAP[(s|x2>>22&1020)>>2]<<24^HEAP[(s|x3>>14&1020)>>2]<<16^HEAP[(s|x0>>6&1020)>>2]<<8^HEAP[(s|x1<<2&1020)>>2]^HEAP[(k|i|8)>>2],S3=HEAP[(s|x3>>22&1020)>>2]<<24^HEAP[(s|x0>>14&1020)>>2]<<16^HEAP[(s|x1>>6&1020)>>2]<<8^HEAP[(s|x2<<2&1020)>>2]^HEAP[(k|i|12)>>2];}function _ecb_enc(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;_core(0x0000,0x0800,0x1000,R,x0,x1,x2,x3);}function _ecb_dec(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;var t=0;_core(0x0400,0x0c00,0x2000,R,x0,x3,x2,x1);t=S1,S1=S3,S3=t;}function _cbc_enc(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;_core(0x0000,0x0800,0x1000,R,I0^x0,I1^x1,I2^x2,I3^x3);I0=S0,I1=S1,I2=S2,I3=S3;}function _cbc_dec(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;var t=0;_core(0x0400,0x0c00,0x2000,R,x0,x3,x2,x1);t=S1,S1=S3,S3=t;S0=S0^I0,S1=S1^I1,S2=S2^I2,S3=S3^I3;I0=x0,I1=x1,I2=x2,I3=x3;}function _cfb_enc(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;_core(0x0000,0x0800,0x1000,R,I0,I1,I2,I3);I0=S0=S0^x0,I1=S1=S1^x1,I2=S2=S2^x2,I3=S3=S3^x3;}function _cfb_dec(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;_core(0x0000,0x0800,0x1000,R,I0,I1,I2,I3);S0=S0^x0,S1=S1^x1,S2=S2^x2,S3=S3^x3;I0=x0,I1=x1,I2=x2,I3=x3;}function _ofb(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;_core(0x0000,0x0800,0x1000,R,I0,I1,I2,I3);I0=S0,I1=S1,I2=S2,I3=S3;S0=S0^x0,S1=S1^x1,S2=S2^x2,S3=S3^x3;}function _ctr(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;_core(0x0000,0x0800,0x1000,R,N0,N1,N2,N3);N3=~M3&N3|M3&N3+1;N2=~M2&N2|M2&N2+((N3|0)==0);N1=~M1&N1|M1&N1+((N2|0)==0);N0=~M0&N0|M0&N0+((N1|0)==0);S0=S0^x0;S1=S1^x1;S2=S2^x2;S3=S3^x3;}function _gcm_mac(x0,x1,x2,x3){x0=x0|0;x1=x1|0;x2=x2|0;x3=x3|0;var y0=0,y1=0,y2=0,y3=0,z0=0,z1=0,z2=0,z3=0,i=0,c=0;x0=x0^I0,x1=x1^I1,x2=x2^I2,x3=x3^I3;y0=H0|0,y1=H1|0,y2=H2|0,y3=H3|0;for(;(i|0)<128;i=i+1|0){if(y0>>>31){z0=z0^x0,z1=z1^x1,z2=z2^x2,z3=z3^x3;}y0=y0<<1|y1>>>31,y1=y1<<1|y2>>>31,y2=y2<<1|y3>>>31,y3=y3<<1;c=x3&1;x3=x3>>>1|x2<<31,x2=x2>>>1|x1<<31,x1=x1>>>1|x0<<31,x0=x0>>>1;if(c)x0=x0^0xe1000000;}I0=z0,I1=z1,I2=z2,I3=z3;}function set_rounds(r){r=r|0;R=r;}function set_state(s0,s1,s2,s3){s0=s0|0;s1=s1|0;s2=s2|0;s3=s3|0;S0=s0,S1=s1,S2=s2,S3=s3;}function set_iv(i0,i1,i2,i3){i0=i0|0;i1=i1|0;i2=i2|0;i3=i3|0;I0=i0,I1=i1,I2=i2,I3=i3;}function set_nonce(n0,n1,n2,n3){n0=n0|0;n1=n1|0;n2=n2|0;n3=n3|0;N0=n0,N1=n1,N2=n2,N3=n3;}function set_mask(m0,m1,m2,m3){m0=m0|0;m1=m1|0;m2=m2|0;m3=m3|0;M0=m0,M1=m1,M2=m2,M3=m3;}function set_counter(c0,c1,c2,c3){c0=c0|0;c1=c1|0;c2=c2|0;c3=c3|0;N3=~M3&N3|M3&c3,N2=~M2&N2|M2&c2,N1=~M1&N1|M1&c1,N0=~M0&N0|M0&c0;}function get_state(pos){pos=pos|0;if(pos&15)return -1;DATA[pos|0]=S0>>>24,DATA[pos|1]=S0>>>16&255,DATA[pos|2]=S0>>>8&255,DATA[pos|3]=S0&255,DATA[pos|4]=S1>>>24,DATA[pos|5]=S1>>>16&255,DATA[pos|6]=S1>>>8&255,DATA[pos|7]=S1&255,DATA[pos|8]=S2>>>24,DATA[pos|9]=S2>>>16&255,DATA[pos|10]=S2>>>8&255,DATA[pos|11]=S2&255,DATA[pos|12]=S3>>>24,DATA[pos|13]=S3>>>16&255,DATA[pos|14]=S3>>>8&255,DATA[pos|15]=S3&255;return 16;}function get_iv(pos){pos=pos|0;if(pos&15)return -1;DATA[pos|0]=I0>>>24,DATA[pos|1]=I0>>>16&255,DATA[pos|2]=I0>>>8&255,DATA[pos|3]=I0&255,DATA[pos|4]=I1>>>24,DATA[pos|5]=I1>>>16&255,DATA[pos|6]=I1>>>8&255,DATA[pos|7]=I1&255,DATA[pos|8]=I2>>>24,DATA[pos|9]=I2>>>16&255,DATA[pos|10]=I2>>>8&255,DATA[pos|11]=I2&255,DATA[pos|12]=I3>>>24,DATA[pos|13]=I3>>>16&255,DATA[pos|14]=I3>>>8&255,DATA[pos|15]=I3&255;return 16;}function gcm_init(){_ecb_enc(0,0,0,0);H0=S0,H1=S1,H2=S2,H3=S3;}function cipher(mode,pos,len){mode=mode|0;pos=pos|0;len=len|0;var ret=0;if(pos&15)return -1;while((len|0)>=16){_cipher_modes[mode&7](DATA[pos|0]<<24|DATA[pos|1]<<16|DATA[pos|2]<<8|DATA[pos|3],DATA[pos|4]<<24|DATA[pos|5]<<16|DATA[pos|6]<<8|DATA[pos|7],DATA[pos|8]<<24|DATA[pos|9]<<16|DATA[pos|10]<<8|DATA[pos|11],DATA[pos|12]<<24|DATA[pos|13]<<16|DATA[pos|14]<<8|DATA[pos|15]);DATA[pos|0]=S0>>>24,DATA[pos|1]=S0>>>16&255,DATA[pos|2]=S0>>>8&255,DATA[pos|3]=S0&255,DATA[pos|4]=S1>>>24,DATA[pos|5]=S1>>>16&255,DATA[pos|6]=S1>>>8&255,DATA[pos|7]=S1&255,DATA[pos|8]=S2>>>24,DATA[pos|9]=S2>>>16&255,DATA[pos|10]=S2>>>8&255,DATA[pos|11]=S2&255,DATA[pos|12]=S3>>>24,DATA[pos|13]=S3>>>16&255,DATA[pos|14]=S3>>>8&255,DATA[pos|15]=S3&255;ret=ret+16|0,pos=pos+16|0,len=len-16|0;}return ret|0;}function mac(mode,pos,len){mode=mode|0;pos=pos|0;len=len|0;var ret=0;if(pos&15)return -1;while((len|0)>=16){_mac_modes[mode&1](DATA[pos|0]<<24|DATA[pos|1]<<16|DATA[pos|2]<<8|DATA[pos|3],DATA[pos|4]<<24|DATA[pos|5]<<16|DATA[pos|6]<<8|DATA[pos|7],DATA[pos|8]<<24|DATA[pos|9]<<16|DATA[pos|10]<<8|DATA[pos|11],DATA[pos|12]<<24|DATA[pos|13]<<16|DATA[pos|14]<<8|DATA[pos|15]);ret=ret+16|0,pos=pos+16|0,len=len-16|0;}return ret|0;}var _cipher_modes=[_ecb_enc,_ecb_dec,_cbc_enc,_cbc_dec,_cfb_enc,_cfb_dec,_ofb,_ctr];var _mac_modes=[_cbc_enc,_gcm_mac];return {set_rounds:set_rounds,set_state:set_state,set_iv:set_iv,set_nonce:set_nonce,set_mask:set_mask,set_counter:set_counter,get_state:get_state,get_iv:get_iv,gcm_init:gcm_init,cipher:cipher,mac:mac};}(stdlib,foreign,buffer);asm.set_key=set_key;return asm;};wrapper.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},wrapper.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},wrapper.MAC={CBC:0,GCM:1};wrapper.HEAP_DATA=0x4000;return wrapper;}();var AES=/*#__PURE__*/function(){function AES(key,iv){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var mode=arguments.length>3?arguments[3]:undefined;_classCallCheck(this,AES);this.pos=0;this.len=0;this.mode=mode;this.heap=_heap_init().subarray(AES_asm.HEAP_DATA);this.asm=new AES_asm(null,this.heap.buffer);this.pos=0;this.len=0;var keylen=key.length;if(keylen!==16&&keylen!==24&&keylen!==32)throw new IllegalArgumentError('illegal key size');var keyview=new DataView(key.buffer,key.byteOffset,key.byteLength);this.asm.set_key(keylen>>2,keyview.getUint32(0),keyview.getUint32(4),keyview.getUint32(8),keyview.getUint32(12),keylen>16?keyview.getUint32(16):0,keylen>16?keyview.getUint32(20):0,keylen>24?keyview.getUint32(24):0,keylen>24?keyview.getUint32(28):0);if(iv!==undefined){if(iv.length!==16)throw new IllegalArgumentError('illegal iv size');var ivview=new DataView(iv.buffer,iv.byteOffset,iv.byteLength);this.asm.set_iv(ivview.getUint32(0),ivview.getUint32(4),ivview.getUint32(8),ivview.getUint32(12));}else{this.asm.set_iv(0,0,0,0);}this.padding=padding;}_createClass(AES,[{key:"AES_Encrypt_process",value:function AES_Encrypt_process(data){if(!is_bytes(data))throw new TypeError("data isn't of expected type");var asm=this.asm;var heap=this.heap;var amode=AES_asm.ENC[this.mode];var hpos=AES_asm.HEAP_DATA;var pos=this.pos;var len=this.len;var dpos=0;var dlen=data.length||0;var rpos=0;var rlen=len+dlen&-16;var wlen=0;var result=new Uint8Array(rlen);while(dlen>0){wlen=_heap_write(heap,pos+len,data,dpos,dlen);len+=wlen;dpos+=wlen;dlen-=wlen;wlen=asm.cipher(amode,hpos+pos,len);if(wlen)result.set(heap.subarray(pos,pos+wlen),rpos);rpos+=wlen;if(wlen<len){pos+=wlen;len-=wlen;}else{pos=0;len=0;}}this.pos=pos;this.len=len;return result;}},{key:"AES_Encrypt_finish",value:function AES_Encrypt_finish(){var asm=this.asm;var heap=this.heap;var amode=AES_asm.ENC[this.mode];var hpos=AES_asm.HEAP_DATA;var pos=this.pos;var len=this.len;var plen=16-len%16;var rlen=len;if(this.hasOwnProperty('padding')){if(this.padding){for(var p=0;p<plen;++p){heap[pos+len+p]=plen;}len+=plen;rlen=len;}else if(len%16){throw new IllegalArgumentError('data length must be a multiple of the block size');}}else{len+=plen;}var result=new Uint8Array(rlen);if(len)asm.cipher(amode,hpos+pos,len);if(rlen)result.set(heap.subarray(pos,pos+rlen));this.pos=0;this.len=0;return result;}},{key:"AES_Decrypt_process",value:function AES_Decrypt_process(data){if(!is_bytes(data))throw new TypeError("data isn't of expected type");var asm=this.asm;var heap=this.heap;var amode=AES_asm.DEC[this.mode];var hpos=AES_asm.HEAP_DATA;var pos=this.pos;var len=this.len;var dpos=0;var dlen=data.length||0;var rpos=0;var rlen=len+dlen&-16;var plen=0;var wlen=0;if(this.padding){plen=len+dlen-rlen||16;rlen-=plen;}var result=new Uint8Array(rlen);while(dlen>0){wlen=_heap_write(heap,pos+len,data,dpos,dlen);len+=wlen;dpos+=wlen;dlen-=wlen;wlen=asm.cipher(amode,hpos+pos,len-(!dlen?plen:0));if(wlen)result.set(heap.subarray(pos,pos+wlen),rpos);rpos+=wlen;if(wlen<len){pos+=wlen;len-=wlen;}else{pos=0;len=0;}}this.pos=pos;this.len=len;return result;}},{key:"AES_Decrypt_finish",value:function AES_Decrypt_finish(){var asm=this.asm;var heap=this.heap;var amode=AES_asm.DEC[this.mode];var hpos=AES_asm.HEAP_DATA;var pos=this.pos;var len=this.len;var rlen=len;if(len>0){if(len%16){if(this.hasOwnProperty('padding')){throw new IllegalArgumentError('data length must be a multiple of the block size');}else{len+=16-len%16;}}asm.cipher(amode,hpos+pos,len);if(this.hasOwnProperty('padding')&&this.padding){var _pad2=heap[pos+rlen-1];if(_pad2<1||_pad2>16||_pad2>rlen)throw new SecurityError('bad padding');var pcheck=0;for(var i=_pad2;i>1;i--){pcheck|=_pad2^heap[pos+rlen-i];}if(pcheck)throw new SecurityError('bad padding');rlen-=_pad2;}}var result=new Uint8Array(rlen);if(rlen>0){result.set(heap.subarray(pos,pos+rlen));}this.pos=0;this.len=0;return result;}}]);return AES;}();var AES_CBC=/*#__PURE__*/function(_AES){_inherits(AES_CBC,_AES);_createClass(AES_CBC,null,[{key:"encrypt",value:function encrypt(data,key){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var iv=arguments.length>3?arguments[3]:undefined;return new AES_CBC(key,iv,padding).encrypt(data);}},{key:"decrypt",value:function decrypt(data,key){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var iv=arguments.length>3?arguments[3]:undefined;return new AES_CBC(key,iv,padding).decrypt(data);}}]);function AES_CBC(key,iv){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;_classCallCheck(this,AES_CBC);return _possibleConstructorReturn(this,_getPrototypeOf(AES_CBC).call(this,key,iv,padding,'CBC'));}_createClass(AES_CBC,[{key:"encrypt",value:function encrypt(data){var r1=this.AES_Encrypt_process(data);var r2=this.AES_Encrypt_finish();return joinBytes(r1,r2);}},{key:"decrypt",value:function decrypt(data){var r1=this.AES_Decrypt_process(data);var r2=this.AES_Decrypt_finish();return joinBytes(r1,r2);}}]);return AES_CBC;}(AES);var AES_ECB=/*#__PURE__*/function(_AES2){_inherits(AES_ECB,_AES2);_createClass(AES_ECB,null,[{key:"encrypt",value:function encrypt(data,key){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new AES_ECB(key,padding).encrypt(data);}},{key:"decrypt",value:function decrypt(data,key){var padding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new AES_ECB(key,padding).decrypt(data);}}]);function AES_ECB(key){var padding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,AES_ECB);return _possibleConstructorReturn(this,_getPrototypeOf(AES_ECB).call(this,key,undefined,padding,'ECB'));}_createClass(AES_ECB,[{key:"encrypt",value:function encrypt(data){var r1=this.AES_Encrypt_process(data);var r2=this.AES_Encrypt_finish();return joinBytes(r1,r2);}},{key:"decrypt",value:function decrypt(data){var r1=this.AES_Decrypt_process(data);var r2=this.AES_Decrypt_finish();return joinBytes(r1,r2);}}]);return AES_ECB;}(AES);var AES_CTR=/*#__PURE__*/function(_AES3){_inherits(AES_CTR,_AES3);_createClass(AES_CTR,null,[{key:"encrypt",value:function encrypt(data,key,nonce){return new AES_CTR(key,nonce).encrypt(data);}},{key:"decrypt",value:function decrypt(data,key,nonce){return new AES_CTR(key,nonce).encrypt(data);}}]);function AES_CTR(key,nonce){var _this75;_classCallCheck(this,AES_CTR);_this75=_possibleConstructorReturn(this,_getPrototypeOf(AES_CTR).call(this,key,undefined,false,'CTR'));delete _this75.padding;_this75.AES_CTR_set_options(nonce);return _this75;}_createClass(AES_CTR,[{key:"encrypt",value:function encrypt(data){var r1=this.AES_Encrypt_process(data);var r2=this.AES_Encrypt_finish();return joinBytes(r1,r2);}},{key:"decrypt",value:function decrypt(data){var r1=this.AES_Encrypt_process(data);var r2=this.AES_Encrypt_finish();return joinBytes(r1,r2);}},{key:"AES_CTR_set_options",value:function AES_CTR_set_options(nonce,counter,size){if(size!==undefined){if(size<8||size>48)throw new IllegalArgumentError('illegal counter size');var mask=Math.pow(2,size)-1;this.asm.set_mask(0,0,mask/0x100000000|0,mask|0);}else{size=48;this.asm.set_mask(0,0,0xffff,0xffffffff);}if(nonce!==undefined){var len=nonce.length;if(!len||len>16)throw new IllegalArgumentError('illegal nonce size');var view=new DataView(new ArrayBuffer(16));new Uint8Array(view.buffer).set(nonce);this.asm.set_nonce(view.getUint32(0),view.getUint32(4),view.getUint32(8),view.getUint32(12));}else{throw new Error('nonce is required');}if(counter!==undefined){if(counter<0||counter>=Math.pow(2,size))throw new IllegalArgumentError('illegal counter value');this.asm.set_counter(0,0,counter/0x100000000|0,counter|0);}}}]);return AES_CTR;}(AES);var _AES_GCM_data_maxLength=68719476704;var AES_GCM=/*#__PURE__*/function(_AES4){_inherits(AES_GCM,_AES4);function AES_GCM(key,nonce,adata){var _this76;var tagSize=arguments.length>3&&arguments[3]!==undefined?arguments[3]:16;_classCallCheck(this,AES_GCM);_this76=_possibleConstructorReturn(this,_getPrototypeOf(AES_GCM).call(this,key,undefined,false,'CTR'));_this76.tagSize=tagSize;_this76.gamma0=0;_this76.counter=1;_this76.asm.gcm_init();if(_this76.tagSize<4||_this76.tagSize>16)throw new IllegalArgumentError('illegal tagSize value');var noncelen=nonce.length||0;var noncebuf=new Uint8Array(16);if(noncelen!==12){_this76._gcm_mac_process(nonce);_this76.heap[0]=0;_this76.heap[1]=0;_this76.heap[2]=0;_this76.heap[3]=0;_this76.heap[4]=0;_this76.heap[5]=0;_this76.heap[6]=0;_this76.heap[7]=0;_this76.heap[8]=0;_this76.heap[9]=0;_this76.heap[10]=0;_this76.heap[11]=noncelen>>>29;_this76.heap[12]=noncelen>>>21&255;_this76.heap[13]=noncelen>>>13&255;_this76.heap[14]=noncelen>>>5&255;_this76.heap[15]=noncelen<<3&255;_this76.asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,16);_this76.asm.get_iv(AES_asm.HEAP_DATA);_this76.asm.set_iv(0,0,0,0);noncebuf.set(_this76.heap.subarray(0,16));}else{noncebuf.set(nonce);noncebuf[15]=1;}var nonceview=new DataView(noncebuf.buffer);_this76.gamma0=nonceview.getUint32(12);_this76.asm.set_nonce(nonceview.getUint32(0),nonceview.getUint32(4),nonceview.getUint32(8),0);_this76.asm.set_mask(0,0,0,0xffffffff);if(adata!==undefined){if(adata.length>_AES_GCM_data_maxLength)throw new IllegalArgumentError('illegal adata length');if(adata.length){_this76.adata=adata;_this76._gcm_mac_process(adata);}else{_this76.adata=undefined;}}else{_this76.adata=undefined;}if(_this76.counter<1||_this76.counter>0xffffffff)throw new RangeError('counter must be a positive 32-bit integer');_this76.asm.set_counter(0,0,0,_this76.gamma0+_this76.counter|0);return _this76;}_createClass(AES_GCM,[{key:"encrypt",value:function encrypt(data){return this.AES_GCM_encrypt(data);}},{key:"decrypt",value:function decrypt(data){return this.AES_GCM_decrypt(data);}},{key:"AES_GCM_Encrypt_process",value:function AES_GCM_Encrypt_process(data){var dpos=0;var dlen=data.length||0;var asm=this.asm;var heap=this.heap;var counter=this.counter;var pos=this.pos;var len=this.len;var rpos=0;var rlen=len+dlen&-16;var wlen=0;if((counter-1<<4)+len+dlen>_AES_GCM_data_maxLength)throw new RangeError('counter overflow');var result=new Uint8Array(rlen);while(dlen>0){wlen=_heap_write(heap,pos+len,data,dpos,dlen);len+=wlen;dpos+=wlen;dlen-=wlen;wlen=asm.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA+pos,len);wlen=asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+pos,wlen);if(wlen)result.set(heap.subarray(pos,pos+wlen),rpos);counter+=wlen>>>4;rpos+=wlen;if(wlen<len){pos+=wlen;len-=wlen;}else{pos=0;len=0;}}this.counter=counter;this.pos=pos;this.len=len;return result;}},{key:"AES_GCM_Encrypt_finish",value:function AES_GCM_Encrypt_finish(){var asm=this.asm;var heap=this.heap;var counter=this.counter;var tagSize=this.tagSize;var adata=this.adata;var pos=this.pos;var len=this.len;var result=new Uint8Array(len+tagSize);asm.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA+pos,len+15&-16);if(len)result.set(heap.subarray(pos,pos+len));var i=len;for(;i&15;i++){heap[pos+i]=0;}asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+pos,i);var alen=adata!==undefined?adata.length:0;var clen=(counter-1<<4)+len;heap[0]=0;heap[1]=0;heap[2]=0;heap[3]=alen>>>29;heap[4]=alen>>>21;heap[5]=alen>>>13&255;heap[6]=alen>>>5&255;heap[7]=alen<<3&255;heap[8]=heap[9]=heap[10]=0;heap[11]=clen>>>29;heap[12]=clen>>>21&255;heap[13]=clen>>>13&255;heap[14]=clen>>>5&255;heap[15]=clen<<3&255;asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,16);asm.get_iv(AES_asm.HEAP_DATA);asm.set_counter(0,0,0,this.gamma0);asm.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA,16);result.set(heap.subarray(0,tagSize),len);this.counter=1;this.pos=0;this.len=0;return result;}},{key:"AES_GCM_Decrypt_process",value:function AES_GCM_Decrypt_process(data){var dpos=0;var dlen=data.length||0;var asm=this.asm;var heap=this.heap;var counter=this.counter;var tagSize=this.tagSize;var pos=this.pos;var len=this.len;var rpos=0;var rlen=len+dlen>tagSize?len+dlen-tagSize&-16:0;var tlen=len+dlen-rlen;var wlen=0;if((counter-1<<4)+len+dlen>_AES_GCM_data_maxLength)throw new RangeError('counter overflow');var result=new Uint8Array(rlen);while(dlen>tlen){wlen=_heap_write(heap,pos+len,data,dpos,dlen-tlen);len+=wlen;dpos+=wlen;dlen-=wlen;wlen=asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+pos,wlen);wlen=asm.cipher(AES_asm.DEC.CTR,AES_asm.HEAP_DATA+pos,wlen);if(wlen)result.set(heap.subarray(pos,pos+wlen),rpos);counter+=wlen>>>4;rpos+=wlen;pos=0;len=0;}if(dlen>0){len+=_heap_write(heap,0,data,dpos,dlen);}this.counter=counter;this.pos=pos;this.len=len;return result;}},{key:"AES_GCM_Decrypt_finish",value:function AES_GCM_Decrypt_finish(){var asm=this.asm;var heap=this.heap;var tagSize=this.tagSize;var adata=this.adata;var counter=this.counter;var pos=this.pos;var len=this.len;var rlen=len-tagSize;if(len<tagSize)throw new IllegalStateError('authentication tag not found');var result=new Uint8Array(rlen);var atag=new Uint8Array(heap.subarray(pos+rlen,pos+len));var i=rlen;for(;i&15;i++){heap[pos+i]=0;}asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA+pos,i);asm.cipher(AES_asm.DEC.CTR,AES_asm.HEAP_DATA+pos,i);if(rlen)result.set(heap.subarray(pos,pos+rlen));var alen=adata!==undefined?adata.length:0;var clen=(counter-1<<4)+len-tagSize;heap[0]=0;heap[1]=0;heap[2]=0;heap[3]=alen>>>29;heap[4]=alen>>>21;heap[5]=alen>>>13&255;heap[6]=alen>>>5&255;heap[7]=alen<<3&255;heap[8]=heap[9]=heap[10]=0;heap[11]=clen>>>29;heap[12]=clen>>>21&255;heap[13]=clen>>>13&255;heap[14]=clen>>>5&255;heap[15]=clen<<3&255;asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,16);asm.get_iv(AES_asm.HEAP_DATA);asm.set_counter(0,0,0,this.gamma0);asm.cipher(AES_asm.ENC.CTR,AES_asm.HEAP_DATA,16);var acheck=0;for(var _i20=0;_i20<tagSize;++_i20){acheck|=atag[_i20]^heap[_i20];}if(acheck)throw new SecurityError('data integrity check failed');this.counter=1;this.pos=0;this.len=0;return result;}},{key:"AES_GCM_decrypt",value:function AES_GCM_decrypt(data){var result1=this.AES_GCM_Decrypt_process(data);var result2=this.AES_GCM_Decrypt_finish();var result=new Uint8Array(result1.length+result2.length);if(result1.length)result.set(result1);if(result2.length)result.set(result2,result1.length);return result;}},{key:"AES_GCM_encrypt",value:function AES_GCM_encrypt(data){var result1=this.AES_GCM_Encrypt_process(data);var result2=this.AES_GCM_Encrypt_finish();var result=new Uint8Array(result1.length+result2.length);if(result1.length)result.set(result1);if(result2.length)result.set(result2,result1.length);return result;}},{key:"_gcm_mac_process",value:function _gcm_mac_process(data){var heap=this.heap;var asm=this.asm;var dpos=0;var dlen=data.length||0;var wlen=0;while(dlen>0){wlen=_heap_write(heap,0,data,dpos,dlen);dpos+=wlen;dlen-=wlen;while(wlen&15){heap[wlen++]=0;}asm.mac(AES_asm.MAC.GCM,AES_asm.HEAP_DATA,wlen);}}}],[{key:"encrypt",value:function encrypt(cleartext,key,nonce,adata,tagsize){return new AES_GCM(key,nonce,adata,tagsize).encrypt(cleartext);}},{key:"decrypt",value:function decrypt(ciphertext,key,nonce,adata,tagsize){return new AES_GCM(key,nonce,adata,tagsize).decrypt(ciphertext);}}]);return AES_GCM;}(AES);var bigint_asm=function bigint_asm(stdlib,foreign,buffer){"use asm";var SP=0;var HEAP32=new stdlib.Uint32Array(buffer);var imul=stdlib.Math.imul;function sreset(p){p=p|0;SP=p=p+31&-32;return p|0;}function salloc(l){l=l|0;var p=0;p=SP;SP=p+(l+31&-32)|0;return p|0;}function sfree(l){l=l|0;SP=SP-(l+31&-32)|0;}function cp(l,A,B){l=l|0;A=A|0;B=B|0;var i=0;if((A|0)>(B|0)){for(;(i|0)<(l|0);i=i+4|0){HEAP32[B+i>>2]=HEAP32[A+i>>2];}}else{for(i=l-4|0;(i|0)>=0;i=i-4|0){HEAP32[B+i>>2]=HEAP32[A+i>>2];}}}function z(l,z,A){l=l|0;z=z|0;A=A|0;var i=0;for(;(i|0)<(l|0);i=i+4|0){HEAP32[A+i>>2]=z;}}function neg(A,lA,R,lR){A=A|0;lA=lA|0;R=R|0;lR=lR|0;var a=0,c=0,t=0,r=0,i=0;if((lR|0)<=0)lR=lA;if((lR|0)<(lA|0))lA=lR;c=1;for(;(i|0)<(lA|0);i=i+4|0){a=~HEAP32[A+i>>2];t=(a&0xffff)+c|0;r=(a>>>16)+(t>>>16)|0;HEAP32[R+i>>2]=r<<16|t&0xffff;c=r>>>16;}for(;(i|0)<(lR|0);i=i+4|0){HEAP32[R+i>>2]=c-1|0;}return c|0;}function cmp(A,lA,B,lB){A=A|0;lA=lA|0;B=B|0;lB=lB|0;var a=0,b=0,i=0;if((lA|0)>(lB|0)){for(i=lA-4|0;(i|0)>=(lB|0);i=i-4|0){if(HEAP32[A+i>>2]|0)return 1;}}else{for(i=lB-4|0;(i|0)>=(lA|0);i=i-4|0){if(HEAP32[B+i>>2]|0)return -1;}}for(;(i|0)>=0;i=i-4|0){a=HEAP32[A+i>>2]|0,b=HEAP32[B+i>>2]|0;if(a>>>0<b>>>0)return -1;if(a>>>0>b>>>0)return 1;}return 0;}function tst(A,lA){A=A|0;lA=lA|0;var i=0;for(i=lA-4|0;(i|0)>=0;i=i-4|0){if(HEAP32[A+i>>2]|0)return i+4|0;}return 0;}function add(A,lA,B,lB,R,lR){A=A|0;lA=lA|0;B=B|0;lB=lB|0;R=R|0;lR=lR|0;var a=0,b=0,c=0,t=0,r=0,i=0;if((lA|0)<(lB|0)){t=A,A=B,B=t;t=lA,lA=lB,lB=t;}if((lR|0)<=0)lR=lA+4|0;if((lR|0)<(lB|0))lA=lB=lR;for(;(i|0)<(lB|0);i=i+4|0){a=HEAP32[A+i>>2]|0;b=HEAP32[B+i>>2]|0;t=((a&0xffff)+(b&0xffff)|0)+c|0;r=((a>>>16)+(b>>>16)|0)+(t>>>16)|0;HEAP32[R+i>>2]=t&0xffff|r<<16;c=r>>>16;}for(;(i|0)<(lA|0);i=i+4|0){a=HEAP32[A+i>>2]|0;t=(a&0xffff)+c|0;r=(a>>>16)+(t>>>16)|0;HEAP32[R+i>>2]=t&0xffff|r<<16;c=r>>>16;}for(;(i|0)<(lR|0);i=i+4|0){HEAP32[R+i>>2]=c|0;c=0;}return c|0;}function sub(A,lA,B,lB,R,lR){A=A|0;lA=lA|0;B=B|0;lB=lB|0;R=R|0;lR=lR|0;var a=0,b=0,c=0,t=0,r=0,i=0;if((lR|0)<=0)lR=(lA|0)>(lB|0)?lA+4|0:lB+4|0;if((lR|0)<(lA|0))lA=lR;if((lR|0)<(lB|0))lB=lR;if((lA|0)<(lB|0)){for(;(i|0)<(lA|0);i=i+4|0){a=HEAP32[A+i>>2]|0;b=HEAP32[B+i>>2]|0;t=((a&0xffff)-(b&0xffff)|0)+c|0;r=((a>>>16)-(b>>>16)|0)+(t>>16)|0;HEAP32[R+i>>2]=t&0xffff|r<<16;c=r>>16;}for(;(i|0)<(lB|0);i=i+4|0){b=HEAP32[B+i>>2]|0;t=c-(b&0xffff)|0;r=(t>>16)-(b>>>16)|0;HEAP32[R+i>>2]=t&0xffff|r<<16;c=r>>16;}}else{for(;(i|0)<(lB|0);i=i+4|0){a=HEAP32[A+i>>2]|0;b=HEAP32[B+i>>2]|0;t=((a&0xffff)-(b&0xffff)|0)+c|0;r=((a>>>16)-(b>>>16)|0)+(t>>16)|0;HEAP32[R+i>>2]=t&0xffff|r<<16;c=r>>16;}for(;(i|0)<(lA|0);i=i+4|0){a=HEAP32[A+i>>2]|0;t=(a&0xffff)+c|0;r=(a>>>16)+(t>>16)|0;HEAP32[R+i>>2]=t&0xffff|r<<16;c=r>>16;}}for(;(i|0)<(lR|0);i=i+4|0){HEAP32[R+i>>2]=c|0;}return c|0;}function mul(A,lA,B,lB,R,lR){A=A|0;lA=lA|0;B=B|0;lB=lB|0;R=R|0;lR=lR|0;var al0=0,al1=0,al2=0,al3=0,al4=0,al5=0,al6=0,al7=0,ah0=0,ah1=0,ah2=0,ah3=0,ah4=0,ah5=0,ah6=0,ah7=0,bl0=0,bl1=0,bl2=0,bl3=0,bl4=0,bl5=0,bl6=0,bl7=0,bh0=0,bh1=0,bh2=0,bh3=0,bh4=0,bh5=0,bh6=0,bh7=0,r0=0,r1=0,r2=0,r3=0,r4=0,r5=0,r6=0,r7=0,r8=0,r9=0,r10=0,r11=0,r12=0,r13=0,r14=0,r15=0,u=0,v=0,w=0,m=0,i=0,Ai=0,j=0,Bj=0,Rk=0;if((lA|0)>(lB|0)){u=A,v=lA;A=B,lA=lB;B=u,lB=v;}m=lA+lB|0;if((lR|0)>(m|0)|(lR|0)<=0)lR=m;if((lR|0)<(lA|0))lA=lR;if((lR|0)<(lB|0))lB=lR;for(;(i|0)<(lA|0);i=i+32|0){Ai=A+i|0;ah0=HEAP32[(Ai|0)>>2]|0,ah1=HEAP32[(Ai|4)>>2]|0,ah2=HEAP32[(Ai|8)>>2]|0,ah3=HEAP32[(Ai|12)>>2]|0,ah4=HEAP32[(Ai|16)>>2]|0,ah5=HEAP32[(Ai|20)>>2]|0,ah6=HEAP32[(Ai|24)>>2]|0,ah7=HEAP32[(Ai|28)>>2]|0,al0=ah0&0xffff,al1=ah1&0xffff,al2=ah2&0xffff,al3=ah3&0xffff,al4=ah4&0xffff,al5=ah5&0xffff,al6=ah6&0xffff,al7=ah7&0xffff,ah0=ah0>>>16,ah1=ah1>>>16,ah2=ah2>>>16,ah3=ah3>>>16,ah4=ah4>>>16,ah5=ah5>>>16,ah6=ah6>>>16,ah7=ah7>>>16;r8=r9=r10=r11=r12=r13=r14=r15=0;for(j=0;(j|0)<(lB|0);j=j+32|0){Bj=B+j|0;Rk=R+(i+j|0)|0;bh0=HEAP32[(Bj|0)>>2]|0,bh1=HEAP32[(Bj|4)>>2]|0,bh2=HEAP32[(Bj|8)>>2]|0,bh3=HEAP32[(Bj|12)>>2]|0,bh4=HEAP32[(Bj|16)>>2]|0,bh5=HEAP32[(Bj|20)>>2]|0,bh6=HEAP32[(Bj|24)>>2]|0,bh7=HEAP32[(Bj|28)>>2]|0,bl0=bh0&0xffff,bl1=bh1&0xffff,bl2=bh2&0xffff,bl3=bh3&0xffff,bl4=bh4&0xffff,bl5=bh5&0xffff,bl6=bh6&0xffff,bl7=bh7&0xffff,bh0=bh0>>>16,bh1=bh1>>>16,bh2=bh2>>>16,bh3=bh3>>>16,bh4=bh4>>>16,bh5=bh5>>>16,bh6=bh6>>>16,bh7=bh7>>>16;r0=HEAP32[(Rk|0)>>2]|0,r1=HEAP32[(Rk|4)>>2]|0,r2=HEAP32[(Rk|8)>>2]|0,r3=HEAP32[(Rk|12)>>2]|0,r4=HEAP32[(Rk|16)>>2]|0,r5=HEAP32[(Rk|20)>>2]|0,r6=HEAP32[(Rk|24)>>2]|0,r7=HEAP32[(Rk|28)>>2]|0;u=((imul(al0,bl0)|0)+(r8&0xffff)|0)+(r0&0xffff)|0;v=((imul(ah0,bl0)|0)+(r8>>>16)|0)+(r0>>>16)|0;w=((imul(al0,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r0=w<<16|u&0xffff;u=((imul(al0,bl1)|0)+(m&0xffff)|0)+(r1&0xffff)|0;v=((imul(ah0,bl1)|0)+(m>>>16)|0)+(r1>>>16)|0;w=((imul(al0,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=((imul(al0,bl2)|0)+(m&0xffff)|0)+(r2&0xffff)|0;v=((imul(ah0,bl2)|0)+(m>>>16)|0)+(r2>>>16)|0;w=((imul(al0,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al0,bl3)|0)+(m&0xffff)|0)+(r3&0xffff)|0;v=((imul(ah0,bl3)|0)+(m>>>16)|0)+(r3>>>16)|0;w=((imul(al0,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al0,bl4)|0)+(m&0xffff)|0)+(r4&0xffff)|0;v=((imul(ah0,bl4)|0)+(m>>>16)|0)+(r4>>>16)|0;w=((imul(al0,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al0,bl5)|0)+(m&0xffff)|0)+(r5&0xffff)|0;v=((imul(ah0,bl5)|0)+(m>>>16)|0)+(r5>>>16)|0;w=((imul(al0,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al0,bl6)|0)+(m&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah0,bl6)|0)+(m>>>16)|0)+(r6>>>16)|0;w=((imul(al0,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al0,bl7)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah0,bl7)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al0,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;r8=m;u=((imul(al1,bl0)|0)+(r9&0xffff)|0)+(r1&0xffff)|0;v=((imul(ah1,bl0)|0)+(r9>>>16)|0)+(r1>>>16)|0;w=((imul(al1,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=((imul(al1,bl1)|0)+(m&0xffff)|0)+(r2&0xffff)|0;v=((imul(ah1,bl1)|0)+(m>>>16)|0)+(r2>>>16)|0;w=((imul(al1,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al1,bl2)|0)+(m&0xffff)|0)+(r3&0xffff)|0;v=((imul(ah1,bl2)|0)+(m>>>16)|0)+(r3>>>16)|0;w=((imul(al1,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al1,bl3)|0)+(m&0xffff)|0)+(r4&0xffff)|0;v=((imul(ah1,bl3)|0)+(m>>>16)|0)+(r4>>>16)|0;w=((imul(al1,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al1,bl4)|0)+(m&0xffff)|0)+(r5&0xffff)|0;v=((imul(ah1,bl4)|0)+(m>>>16)|0)+(r5>>>16)|0;w=((imul(al1,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al1,bl5)|0)+(m&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah1,bl5)|0)+(m>>>16)|0)+(r6>>>16)|0;w=((imul(al1,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al1,bl6)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah1,bl6)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al1,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al1,bl7)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah1,bl7)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al1,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;r9=m;u=((imul(al2,bl0)|0)+(r10&0xffff)|0)+(r2&0xffff)|0;v=((imul(ah2,bl0)|0)+(r10>>>16)|0)+(r2>>>16)|0;w=((imul(al2,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al2,bl1)|0)+(m&0xffff)|0)+(r3&0xffff)|0;v=((imul(ah2,bl1)|0)+(m>>>16)|0)+(r3>>>16)|0;w=((imul(al2,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al2,bl2)|0)+(m&0xffff)|0)+(r4&0xffff)|0;v=((imul(ah2,bl2)|0)+(m>>>16)|0)+(r4>>>16)|0;w=((imul(al2,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al2,bl3)|0)+(m&0xffff)|0)+(r5&0xffff)|0;v=((imul(ah2,bl3)|0)+(m>>>16)|0)+(r5>>>16)|0;w=((imul(al2,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al2,bl4)|0)+(m&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah2,bl4)|0)+(m>>>16)|0)+(r6>>>16)|0;w=((imul(al2,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al2,bl5)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah2,bl5)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al2,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al2,bl6)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah2,bl6)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al2,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al2,bl7)|0)+(m&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah2,bl7)|0)+(m>>>16)|0)+(r9>>>16)|0;w=((imul(al2,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;r10=m;u=((imul(al3,bl0)|0)+(r11&0xffff)|0)+(r3&0xffff)|0;v=((imul(ah3,bl0)|0)+(r11>>>16)|0)+(r3>>>16)|0;w=((imul(al3,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al3,bl1)|0)+(m&0xffff)|0)+(r4&0xffff)|0;v=((imul(ah3,bl1)|0)+(m>>>16)|0)+(r4>>>16)|0;w=((imul(al3,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al3,bl2)|0)+(m&0xffff)|0)+(r5&0xffff)|0;v=((imul(ah3,bl2)|0)+(m>>>16)|0)+(r5>>>16)|0;w=((imul(al3,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al3,bl3)|0)+(m&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah3,bl3)|0)+(m>>>16)|0)+(r6>>>16)|0;w=((imul(al3,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al3,bl4)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah3,bl4)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al3,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al3,bl5)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah3,bl5)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al3,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al3,bl6)|0)+(m&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah3,bl6)|0)+(m>>>16)|0)+(r9>>>16)|0;w=((imul(al3,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al3,bl7)|0)+(m&0xffff)|0)+(r10&0xffff)|0;v=((imul(ah3,bl7)|0)+(m>>>16)|0)+(r10>>>16)|0;w=((imul(al3,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;r11=m;u=((imul(al4,bl0)|0)+(r12&0xffff)|0)+(r4&0xffff)|0;v=((imul(ah4,bl0)|0)+(r12>>>16)|0)+(r4>>>16)|0;w=((imul(al4,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al4,bl1)|0)+(m&0xffff)|0)+(r5&0xffff)|0;v=((imul(ah4,bl1)|0)+(m>>>16)|0)+(r5>>>16)|0;w=((imul(al4,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al4,bl2)|0)+(m&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah4,bl2)|0)+(m>>>16)|0)+(r6>>>16)|0;w=((imul(al4,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al4,bl3)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah4,bl3)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al4,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al4,bl4)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah4,bl4)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al4,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al4,bl5)|0)+(m&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah4,bl5)|0)+(m>>>16)|0)+(r9>>>16)|0;w=((imul(al4,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al4,bl6)|0)+(m&0xffff)|0)+(r10&0xffff)|0;v=((imul(ah4,bl6)|0)+(m>>>16)|0)+(r10>>>16)|0;w=((imul(al4,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al4,bl7)|0)+(m&0xffff)|0)+(r11&0xffff)|0;v=((imul(ah4,bl7)|0)+(m>>>16)|0)+(r11>>>16)|0;w=((imul(al4,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;r12=m;u=((imul(al5,bl0)|0)+(r13&0xffff)|0)+(r5&0xffff)|0;v=((imul(ah5,bl0)|0)+(r13>>>16)|0)+(r5>>>16)|0;w=((imul(al5,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al5,bl1)|0)+(m&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah5,bl1)|0)+(m>>>16)|0)+(r6>>>16)|0;w=((imul(al5,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al5,bl2)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah5,bl2)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al5,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al5,bl3)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah5,bl3)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al5,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al5,bl4)|0)+(m&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah5,bl4)|0)+(m>>>16)|0)+(r9>>>16)|0;w=((imul(al5,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al5,bl5)|0)+(m&0xffff)|0)+(r10&0xffff)|0;v=((imul(ah5,bl5)|0)+(m>>>16)|0)+(r10>>>16)|0;w=((imul(al5,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al5,bl6)|0)+(m&0xffff)|0)+(r11&0xffff)|0;v=((imul(ah5,bl6)|0)+(m>>>16)|0)+(r11>>>16)|0;w=((imul(al5,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;u=((imul(al5,bl7)|0)+(m&0xffff)|0)+(r12&0xffff)|0;v=((imul(ah5,bl7)|0)+(m>>>16)|0)+(r12>>>16)|0;w=((imul(al5,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r12=w<<16|u&0xffff;r13=m;u=((imul(al6,bl0)|0)+(r14&0xffff)|0)+(r6&0xffff)|0;v=((imul(ah6,bl0)|0)+(r14>>>16)|0)+(r6>>>16)|0;w=((imul(al6,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al6,bl1)|0)+(m&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah6,bl1)|0)+(m>>>16)|0)+(r7>>>16)|0;w=((imul(al6,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al6,bl2)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah6,bl2)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al6,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al6,bl3)|0)+(m&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah6,bl3)|0)+(m>>>16)|0)+(r9>>>16)|0;w=((imul(al6,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al6,bl4)|0)+(m&0xffff)|0)+(r10&0xffff)|0;v=((imul(ah6,bl4)|0)+(m>>>16)|0)+(r10>>>16)|0;w=((imul(al6,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al6,bl5)|0)+(m&0xffff)|0)+(r11&0xffff)|0;v=((imul(ah6,bl5)|0)+(m>>>16)|0)+(r11>>>16)|0;w=((imul(al6,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;u=((imul(al6,bl6)|0)+(m&0xffff)|0)+(r12&0xffff)|0;v=((imul(ah6,bl6)|0)+(m>>>16)|0)+(r12>>>16)|0;w=((imul(al6,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r12=w<<16|u&0xffff;u=((imul(al6,bl7)|0)+(m&0xffff)|0)+(r13&0xffff)|0;v=((imul(ah6,bl7)|0)+(m>>>16)|0)+(r13>>>16)|0;w=((imul(al6,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r13=w<<16|u&0xffff;r14=m;u=((imul(al7,bl0)|0)+(r15&0xffff)|0)+(r7&0xffff)|0;v=((imul(ah7,bl0)|0)+(r15>>>16)|0)+(r7>>>16)|0;w=((imul(al7,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al7,bl1)|0)+(m&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah7,bl1)|0)+(m>>>16)|0)+(r8>>>16)|0;w=((imul(al7,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al7,bl2)|0)+(m&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah7,bl2)|0)+(m>>>16)|0)+(r9>>>16)|0;w=((imul(al7,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al7,bl3)|0)+(m&0xffff)|0)+(r10&0xffff)|0;v=((imul(ah7,bl3)|0)+(m>>>16)|0)+(r10>>>16)|0;w=((imul(al7,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al7,bl4)|0)+(m&0xffff)|0)+(r11&0xffff)|0;v=((imul(ah7,bl4)|0)+(m>>>16)|0)+(r11>>>16)|0;w=((imul(al7,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;u=((imul(al7,bl5)|0)+(m&0xffff)|0)+(r12&0xffff)|0;v=((imul(ah7,bl5)|0)+(m>>>16)|0)+(r12>>>16)|0;w=((imul(al7,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r12=w<<16|u&0xffff;u=((imul(al7,bl6)|0)+(m&0xffff)|0)+(r13&0xffff)|0;v=((imul(ah7,bl6)|0)+(m>>>16)|0)+(r13>>>16)|0;w=((imul(al7,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r13=w<<16|u&0xffff;u=((imul(al7,bl7)|0)+(m&0xffff)|0)+(r14&0xffff)|0;v=((imul(ah7,bl7)|0)+(m>>>16)|0)+(r14>>>16)|0;w=((imul(al7,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r14=w<<16|u&0xffff;r15=m;HEAP32[(Rk|0)>>2]=r0,HEAP32[(Rk|4)>>2]=r1,HEAP32[(Rk|8)>>2]=r2,HEAP32[(Rk|12)>>2]=r3,HEAP32[(Rk|16)>>2]=r4,HEAP32[(Rk|20)>>2]=r5,HEAP32[(Rk|24)>>2]=r6,HEAP32[(Rk|28)>>2]=r7;}Rk=R+(i+j|0)|0;HEAP32[(Rk|0)>>2]=r8,HEAP32[(Rk|4)>>2]=r9,HEAP32[(Rk|8)>>2]=r10,HEAP32[(Rk|12)>>2]=r11,HEAP32[(Rk|16)>>2]=r12,HEAP32[(Rk|20)>>2]=r13,HEAP32[(Rk|24)>>2]=r14,HEAP32[(Rk|28)>>2]=r15;}}function sqr(A,lA,R){A=A|0;lA=lA|0;R=R|0;var al0=0,al1=0,al2=0,al3=0,al4=0,al5=0,al6=0,al7=0,ah0=0,ah1=0,ah2=0,ah3=0,ah4=0,ah5=0,ah6=0,ah7=0,bl0=0,bl1=0,bl2=0,bl3=0,bl4=0,bl5=0,bl6=0,bl7=0,bh0=0,bh1=0,bh2=0,bh3=0,bh4=0,bh5=0,bh6=0,bh7=0,r0=0,r1=0,r2=0,r3=0,r4=0,r5=0,r6=0,r7=0,r8=0,r9=0,r10=0,r11=0,r12=0,r13=0,r14=0,r15=0,u=0,v=0,w=0,c=0,h=0,m=0,r=0,d=0,dd=0,p=0,i=0,j=0,k=0,Ai=0,Aj=0,Rk=0;for(;(i|0)<(lA|0);i=i+4|0){Rk=R+(i<<1)|0;ah0=HEAP32[A+i>>2]|0,al0=ah0&0xffff,ah0=ah0>>>16;u=imul(al0,al0)|0;v=(imul(al0,ah0)|0)+(u>>>17)|0;w=(imul(ah0,ah0)|0)+(v>>>15)|0;HEAP32[Rk>>2]=v<<17|u&0x1ffff;HEAP32[(Rk|4)>>2]=w;}for(p=0;(p|0)<(lA|0);p=p+8|0){Ai=A+p|0,Rk=R+(p<<1)|0;ah0=HEAP32[Ai>>2]|0,al0=ah0&0xffff,ah0=ah0>>>16;bh0=HEAP32[(Ai|4)>>2]|0,bl0=bh0&0xffff,bh0=bh0>>>16;u=imul(al0,bl0)|0;v=(imul(al0,bh0)|0)+(u>>>16)|0;w=(imul(ah0,bl0)|0)+(v&0xffff)|0;m=((imul(ah0,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r=HEAP32[(Rk|4)>>2]|0;u=(r&0xffff)+((u&0xffff)<<1)|0;w=((r>>>16)+((w&0xffff)<<1)|0)+(u>>>16)|0;HEAP32[(Rk|4)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|8)>>2]|0;u=((r&0xffff)+((m&0xffff)<<1)|0)+c|0;w=((r>>>16)+(m>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|8)>>2]=w<<16|u&0xffff;c=w>>>16;if(c){r=HEAP32[(Rk|12)>>2]|0;u=(r&0xffff)+c|0;w=(r>>>16)+(u>>>16)|0;HEAP32[(Rk|12)>>2]=w<<16|u&0xffff;}}for(p=0;(p|0)<(lA|0);p=p+16|0){Ai=A+p|0,Rk=R+(p<<1)|0;ah0=HEAP32[Ai>>2]|0,al0=ah0&0xffff,ah0=ah0>>>16,ah1=HEAP32[(Ai|4)>>2]|0,al1=ah1&0xffff,ah1=ah1>>>16;bh0=HEAP32[(Ai|8)>>2]|0,bl0=bh0&0xffff,bh0=bh0>>>16,bh1=HEAP32[(Ai|12)>>2]|0,bl1=bh1&0xffff,bh1=bh1>>>16;u=imul(al0,bl0)|0;v=imul(ah0,bl0)|0;w=((imul(al0,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r0=w<<16|u&0xffff;u=(imul(al0,bl1)|0)+(m&0xffff)|0;v=(imul(ah0,bl1)|0)+(m>>>16)|0;w=((imul(al0,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;r2=m;u=(imul(al1,bl0)|0)+(r1&0xffff)|0;v=(imul(ah1,bl0)|0)+(r1>>>16)|0;w=((imul(al1,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=((imul(al1,bl1)|0)+(r2&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl1)|0)+(r2>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;r3=m;r=HEAP32[(Rk|8)>>2]|0;u=(r&0xffff)+((r0&0xffff)<<1)|0;w=((r>>>16)+(r0>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|8)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|12)>>2]|0;u=((r&0xffff)+((r1&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r1>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|12)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|16)>>2]|0;u=((r&0xffff)+((r2&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r2>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|16)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|20)>>2]|0;u=((r&0xffff)+((r3&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r3>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|20)>>2]=w<<16|u&0xffff;c=w>>>16;for(k=24;!!c&(k|0)<32;k=k+4|0){r=HEAP32[(Rk|k)>>2]|0;u=(r&0xffff)+c|0;w=(r>>>16)+(u>>>16)|0;HEAP32[(Rk|k)>>2]=w<<16|u&0xffff;c=w>>>16;}}for(p=0;(p|0)<(lA|0);p=p+32|0){Ai=A+p|0,Rk=R+(p<<1)|0;ah0=HEAP32[Ai>>2]|0,al0=ah0&0xffff,ah0=ah0>>>16,ah1=HEAP32[(Ai|4)>>2]|0,al1=ah1&0xffff,ah1=ah1>>>16,ah2=HEAP32[(Ai|8)>>2]|0,al2=ah2&0xffff,ah2=ah2>>>16,ah3=HEAP32[(Ai|12)>>2]|0,al3=ah3&0xffff,ah3=ah3>>>16;bh0=HEAP32[(Ai|16)>>2]|0,bl0=bh0&0xffff,bh0=bh0>>>16,bh1=HEAP32[(Ai|20)>>2]|0,bl1=bh1&0xffff,bh1=bh1>>>16,bh2=HEAP32[(Ai|24)>>2]|0,bl2=bh2&0xffff,bh2=bh2>>>16,bh3=HEAP32[(Ai|28)>>2]|0,bl3=bh3&0xffff,bh3=bh3>>>16;u=imul(al0,bl0)|0;v=imul(ah0,bl0)|0;w=((imul(al0,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r0=w<<16|u&0xffff;u=(imul(al0,bl1)|0)+(m&0xffff)|0;v=(imul(ah0,bl1)|0)+(m>>>16)|0;w=((imul(al0,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=(imul(al0,bl2)|0)+(m&0xffff)|0;v=(imul(ah0,bl2)|0)+(m>>>16)|0;w=((imul(al0,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=(imul(al0,bl3)|0)+(m&0xffff)|0;v=(imul(ah0,bl3)|0)+(m>>>16)|0;w=((imul(al0,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;r4=m;u=(imul(al1,bl0)|0)+(r1&0xffff)|0;v=(imul(ah1,bl0)|0)+(r1>>>16)|0;w=((imul(al1,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=((imul(al1,bl1)|0)+(r2&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl1)|0)+(r2>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al1,bl2)|0)+(r3&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl2)|0)+(r3>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al1,bl3)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl3)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;r5=m;u=(imul(al2,bl0)|0)+(r2&0xffff)|0;v=(imul(ah2,bl0)|0)+(r2>>>16)|0;w=((imul(al2,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al2,bl1)|0)+(r3&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl1)|0)+(r3>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al2,bl2)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl2)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al2,bl3)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl3)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;r6=m;u=(imul(al3,bl0)|0)+(r3&0xffff)|0;v=(imul(ah3,bl0)|0)+(r3>>>16)|0;w=((imul(al3,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al3,bl1)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl1)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al3,bl2)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl2)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al3,bl3)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl3)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;r7=m;r=HEAP32[(Rk|16)>>2]|0;u=(r&0xffff)+((r0&0xffff)<<1)|0;w=((r>>>16)+(r0>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|16)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|20)>>2]|0;u=((r&0xffff)+((r1&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r1>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|20)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|24)>>2]|0;u=((r&0xffff)+((r2&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r2>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|24)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[(Rk|28)>>2]|0;u=((r&0xffff)+((r3&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r3>>>16<<1)|0)+(u>>>16)|0;HEAP32[(Rk|28)>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[Rk+32>>2]|0;u=((r&0xffff)+((r4&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r4>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+32>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[Rk+36>>2]|0;u=((r&0xffff)+((r5&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r5>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+36>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[Rk+40>>2]|0;u=((r&0xffff)+((r6&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r6>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+40>>2]=w<<16|u&0xffff;c=w>>>16;r=HEAP32[Rk+44>>2]|0;u=((r&0xffff)+((r7&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r7>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+44>>2]=w<<16|u&0xffff;c=w>>>16;for(k=48;!!c&(k|0)<64;k=k+4|0){r=HEAP32[Rk+k>>2]|0;u=(r&0xffff)+c|0;w=(r>>>16)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;}}for(d=32;(d|0)<(lA|0);d=d<<1){dd=d<<1;for(p=0;(p|0)<(lA|0);p=p+dd|0){Rk=R+(p<<1)|0;h=0;for(i=0;(i|0)<(d|0);i=i+32|0){Ai=(A+p|0)+i|0;ah0=HEAP32[Ai>>2]|0,al0=ah0&0xffff,ah0=ah0>>>16,ah1=HEAP32[(Ai|4)>>2]|0,al1=ah1&0xffff,ah1=ah1>>>16,ah2=HEAP32[(Ai|8)>>2]|0,al2=ah2&0xffff,ah2=ah2>>>16,ah3=HEAP32[(Ai|12)>>2]|0,al3=ah3&0xffff,ah3=ah3>>>16,ah4=HEAP32[(Ai|16)>>2]|0,al4=ah4&0xffff,ah4=ah4>>>16,ah5=HEAP32[(Ai|20)>>2]|0,al5=ah5&0xffff,ah5=ah5>>>16,ah6=HEAP32[(Ai|24)>>2]|0,al6=ah6&0xffff,ah6=ah6>>>16,ah7=HEAP32[(Ai|28)>>2]|0,al7=ah7&0xffff,ah7=ah7>>>16;r8=r9=r10=r11=r12=r13=r14=r15=c=0;for(j=0;(j|0)<(d|0);j=j+32|0){Aj=((A+p|0)+d|0)+j|0;bh0=HEAP32[Aj>>2]|0,bl0=bh0&0xffff,bh0=bh0>>>16,bh1=HEAP32[(Aj|4)>>2]|0,bl1=bh1&0xffff,bh1=bh1>>>16,bh2=HEAP32[(Aj|8)>>2]|0,bl2=bh2&0xffff,bh2=bh2>>>16,bh3=HEAP32[(Aj|12)>>2]|0,bl3=bh3&0xffff,bh3=bh3>>>16,bh4=HEAP32[(Aj|16)>>2]|0,bl4=bh4&0xffff,bh4=bh4>>>16,bh5=HEAP32[(Aj|20)>>2]|0,bl5=bh5&0xffff,bh5=bh5>>>16,bh6=HEAP32[(Aj|24)>>2]|0,bl6=bh6&0xffff,bh6=bh6>>>16,bh7=HEAP32[(Aj|28)>>2]|0,bl7=bh7&0xffff,bh7=bh7>>>16;r0=r1=r2=r3=r4=r5=r6=r7=0;u=((imul(al0,bl0)|0)+(r0&0xffff)|0)+(r8&0xffff)|0;v=((imul(ah0,bl0)|0)+(r0>>>16)|0)+(r8>>>16)|0;w=((imul(al0,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r0=w<<16|u&0xffff;u=((imul(al0,bl1)|0)+(r1&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl1)|0)+(r1>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=((imul(al0,bl2)|0)+(r2&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl2)|0)+(r2>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al0,bl3)|0)+(r3&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl3)|0)+(r3>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al0,bl4)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl4)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al0,bl5)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl5)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al0,bl6)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl6)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al0,bl7)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah0,bl7)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al0,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah0,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;r8=m;u=((imul(al1,bl0)|0)+(r1&0xffff)|0)+(r9&0xffff)|0;v=((imul(ah1,bl0)|0)+(r1>>>16)|0)+(r9>>>16)|0;w=((imul(al1,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r1=w<<16|u&0xffff;u=((imul(al1,bl1)|0)+(r2&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl1)|0)+(r2>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al1,bl2)|0)+(r3&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl2)|0)+(r3>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al1,bl3)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl3)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al1,bl4)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl4)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al1,bl5)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl5)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al1,bl6)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl6)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al1,bl7)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah1,bl7)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al1,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah1,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;r9=m;u=((imul(al2,bl0)|0)+(r2&0xffff)|0)+(r10&0xffff)|0;v=((imul(ah2,bl0)|0)+(r2>>>16)|0)+(r10>>>16)|0;w=((imul(al2,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r2=w<<16|u&0xffff;u=((imul(al2,bl1)|0)+(r3&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl1)|0)+(r3>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al2,bl2)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl2)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al2,bl3)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl3)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al2,bl4)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl4)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al2,bl5)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl5)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al2,bl6)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl6)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al2,bl7)|0)+(r9&0xffff)|0)+(m&0xffff)|0;v=((imul(ah2,bl7)|0)+(r9>>>16)|0)+(m>>>16)|0;w=((imul(al2,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah2,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;r10=m;u=((imul(al3,bl0)|0)+(r3&0xffff)|0)+(r11&0xffff)|0;v=((imul(ah3,bl0)|0)+(r3>>>16)|0)+(r11>>>16)|0;w=((imul(al3,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r3=w<<16|u&0xffff;u=((imul(al3,bl1)|0)+(r4&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl1)|0)+(r4>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al3,bl2)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl2)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al3,bl3)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl3)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al3,bl4)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl4)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al3,bl5)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl5)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al3,bl6)|0)+(r9&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl6)|0)+(r9>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al3,bl7)|0)+(r10&0xffff)|0)+(m&0xffff)|0;v=((imul(ah3,bl7)|0)+(r10>>>16)|0)+(m>>>16)|0;w=((imul(al3,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah3,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;r11=m;u=((imul(al4,bl0)|0)+(r4&0xffff)|0)+(r12&0xffff)|0;v=((imul(ah4,bl0)|0)+(r4>>>16)|0)+(r12>>>16)|0;w=((imul(al4,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r4=w<<16|u&0xffff;u=((imul(al4,bl1)|0)+(r5&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl1)|0)+(r5>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al4,bl2)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl2)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al4,bl3)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl3)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al4,bl4)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl4)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al4,bl5)|0)+(r9&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl5)|0)+(r9>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al4,bl6)|0)+(r10&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl6)|0)+(r10>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al4,bl7)|0)+(r11&0xffff)|0)+(m&0xffff)|0;v=((imul(ah4,bl7)|0)+(r11>>>16)|0)+(m>>>16)|0;w=((imul(al4,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah4,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;r12=m;u=((imul(al5,bl0)|0)+(r5&0xffff)|0)+(r13&0xffff)|0;v=((imul(ah5,bl0)|0)+(r5>>>16)|0)+(r13>>>16)|0;w=((imul(al5,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r5=w<<16|u&0xffff;u=((imul(al5,bl1)|0)+(r6&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl1)|0)+(r6>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al5,bl2)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl2)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al5,bl3)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl3)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al5,bl4)|0)+(r9&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl4)|0)+(r9>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al5,bl5)|0)+(r10&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl5)|0)+(r10>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al5,bl6)|0)+(r11&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl6)|0)+(r11>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;u=((imul(al5,bl7)|0)+(r12&0xffff)|0)+(m&0xffff)|0;v=((imul(ah5,bl7)|0)+(r12>>>16)|0)+(m>>>16)|0;w=((imul(al5,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah5,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r12=w<<16|u&0xffff;r13=m;u=((imul(al6,bl0)|0)+(r6&0xffff)|0)+(r14&0xffff)|0;v=((imul(ah6,bl0)|0)+(r6>>>16)|0)+(r14>>>16)|0;w=((imul(al6,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r6=w<<16|u&0xffff;u=((imul(al6,bl1)|0)+(r7&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl1)|0)+(r7>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al6,bl2)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl2)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al6,bl3)|0)+(r9&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl3)|0)+(r9>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al6,bl4)|0)+(r10&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl4)|0)+(r10>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al6,bl5)|0)+(r11&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl5)|0)+(r11>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;u=((imul(al6,bl6)|0)+(r12&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl6)|0)+(r12>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r12=w<<16|u&0xffff;u=((imul(al6,bl7)|0)+(r13&0xffff)|0)+(m&0xffff)|0;v=((imul(ah6,bl7)|0)+(r13>>>16)|0)+(m>>>16)|0;w=((imul(al6,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah6,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r13=w<<16|u&0xffff;r14=m;u=((imul(al7,bl0)|0)+(r7&0xffff)|0)+(r15&0xffff)|0;v=((imul(ah7,bl0)|0)+(r7>>>16)|0)+(r15>>>16)|0;w=((imul(al7,bh0)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh0)|0)+(v>>>16)|0)+(w>>>16)|0;r7=w<<16|u&0xffff;u=((imul(al7,bl1)|0)+(r8&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl1)|0)+(r8>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh1)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh1)|0)+(v>>>16)|0)+(w>>>16)|0;r8=w<<16|u&0xffff;u=((imul(al7,bl2)|0)+(r9&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl2)|0)+(r9>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh2)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh2)|0)+(v>>>16)|0)+(w>>>16)|0;r9=w<<16|u&0xffff;u=((imul(al7,bl3)|0)+(r10&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl3)|0)+(r10>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh3)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh3)|0)+(v>>>16)|0)+(w>>>16)|0;r10=w<<16|u&0xffff;u=((imul(al7,bl4)|0)+(r11&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl4)|0)+(r11>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh4)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh4)|0)+(v>>>16)|0)+(w>>>16)|0;r11=w<<16|u&0xffff;u=((imul(al7,bl5)|0)+(r12&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl5)|0)+(r12>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh5)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh5)|0)+(v>>>16)|0)+(w>>>16)|0;r12=w<<16|u&0xffff;u=((imul(al7,bl6)|0)+(r13&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl6)|0)+(r13>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh6)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh6)|0)+(v>>>16)|0)+(w>>>16)|0;r13=w<<16|u&0xffff;u=((imul(al7,bl7)|0)+(r14&0xffff)|0)+(m&0xffff)|0;v=((imul(ah7,bl7)|0)+(r14>>>16)|0)+(m>>>16)|0;w=((imul(al7,bh7)|0)+(v&0xffff)|0)+(u>>>16)|0;m=((imul(ah7,bh7)|0)+(v>>>16)|0)+(w>>>16)|0;r14=w<<16|u&0xffff;r15=m;k=d+(i+j|0)|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r0&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r0>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r1&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r1>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r2&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r2>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r3&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r3>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r4&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r4>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r5&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r5>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r6&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r6>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r7&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r7>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;}k=d+(i+j|0)|0;r=HEAP32[Rk+k>>2]|0;u=(((r&0xffff)+((r8&0xffff)<<1)|0)+c|0)+h|0;w=((r>>>16)+(r8>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r9&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r9>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r10&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r10>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r11&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r11>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r12&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r12>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r13&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r13>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r14&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r14>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;c=w>>>16;k=k+4|0;r=HEAP32[Rk+k>>2]|0;u=((r&0xffff)+((r15&0xffff)<<1)|0)+c|0;w=((r>>>16)+(r15>>>16<<1)|0)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;h=w>>>16;}for(k=k+4|0;!!h&(k|0)<dd<<1;k=k+4|0){r=HEAP32[Rk+k>>2]|0;u=(r&0xffff)+h|0;w=(r>>>16)+(u>>>16)|0;HEAP32[Rk+k>>2]=w<<16|u&0xffff;h=w>>>16;}}}}function div(N,lN,D,lD,Q){N=N|0;lN=lN|0;D=D|0;lD=lD|0;Q=Q|0;var n=0,d=0,e=0,u1=0,u0=0,v0=0,vh=0,vl=0,qh=0,ql=0,rh=0,rl=0,t1=0,t2=0,m=0,c=0,i=0,j=0,k=0;for(i=lN-1&-4;(i|0)>=0;i=i-4|0){n=HEAP32[N+i>>2]|0;if(n){lN=i;break;}}for(i=lD-1&-4;(i|0)>=0;i=i-4|0){d=HEAP32[D+i>>2]|0;if(d){lD=i;break;}}while((d&0x80000000)==0){d=d<<1;e=e+1|0;}u0=HEAP32[N+lN>>2]|0;if(e){u1=u0>>>(32-e|0);for(i=lN-4|0;(i|0)>=0;i=i-4|0){n=HEAP32[N+i>>2]|0;HEAP32[N+i+4>>2]=u0<<e|(e?n>>>(32-e|0):0);u0=n;}HEAP32[N>>2]=u0<<e;}if(e){v0=HEAP32[D+lD>>2]|0;for(i=lD-4|0;(i|0)>=0;i=i-4|0){d=HEAP32[D+i>>2]|0;HEAP32[D+i+4>>2]=v0<<e|d>>>(32-e|0);v0=d;}HEAP32[D>>2]=v0<<e;}v0=HEAP32[D+lD>>2]|0;vh=v0>>>16,vl=v0&0xffff;for(i=lN;(i|0)>=(lD|0);i=i-4|0){j=i-lD|0;u0=HEAP32[N+i>>2]|0;qh=(u1>>>0)/(vh>>>0)|0,rh=(u1>>>0)%(vh>>>0)|0,t1=imul(qh,vl)|0;while((qh|0)==0x10000|t1>>>0>(rh<<16|u0>>>16)>>>0){qh=qh-1|0,rh=rh+vh|0,t1=t1-vl|0;if((rh|0)>=0x10000)break;}m=0,c=0;for(k=0;(k|0)<=(lD|0);k=k+4|0){d=HEAP32[D+k>>2]|0;t1=(imul(qh,d&0xffff)|0)+(m>>>16)|0;t2=(imul(qh,d>>>16)|0)+(t1>>>16)|0;d=m&0xffff|t1<<16;m=t2;n=HEAP32[N+j+k>>2]|0;t1=((n&0xffff)-(d&0xffff)|0)+c|0;t2=((n>>>16)-(d>>>16)|0)+(t1>>16)|0;HEAP32[N+j+k>>2]=t2<<16|t1&0xffff;c=t2>>16;}t1=((u1&0xffff)-(m&0xffff)|0)+c|0;t2=((u1>>>16)-(m>>>16)|0)+(t1>>16)|0;u1=t2<<16|t1&0xffff;c=t2>>16;if(c){qh=qh-1|0;c=0;for(k=0;(k|0)<=(lD|0);k=k+4|0){d=HEAP32[D+k>>2]|0;n=HEAP32[N+j+k>>2]|0;t1=(n&0xffff)+c|0;t2=(n>>>16)+d+(t1>>>16)|0;HEAP32[N+j+k>>2]=t2<<16|t1&0xffff;c=t2>>>16;}u1=u1+c|0;}u0=HEAP32[N+i>>2]|0;n=u1<<16|u0>>>16;ql=(n>>>0)/(vh>>>0)|0,rl=(n>>>0)%(vh>>>0)|0,t1=imul(ql,vl)|0;while((ql|0)==0x10000|t1>>>0>(rl<<16|u0&0xffff)>>>0){ql=ql-1|0,rl=rl+vh|0,t1=t1-vl|0;if((rl|0)>=0x10000)break;}m=0,c=0;for(k=0;(k|0)<=(lD|0);k=k+4|0){d=HEAP32[D+k>>2]|0;t1=(imul(ql,d&0xffff)|0)+(m&0xffff)|0;t2=((imul(ql,d>>>16)|0)+(t1>>>16)|0)+(m>>>16)|0;d=t1&0xffff|t2<<16;m=t2>>>16;n=HEAP32[N+j+k>>2]|0;t1=((n&0xffff)-(d&0xffff)|0)+c|0;t2=((n>>>16)-(d>>>16)|0)+(t1>>16)|0;c=t2>>16;HEAP32[N+j+k>>2]=t2<<16|t1&0xffff;}t1=((u1&0xffff)-(m&0xffff)|0)+c|0;t2=((u1>>>16)-(m>>>16)|0)+(t1>>16)|0;c=t2>>16;if(c){ql=ql-1|0;c=0;for(k=0;(k|0)<=(lD|0);k=k+4|0){d=HEAP32[D+k>>2]|0;n=HEAP32[N+j+k>>2]|0;t1=((n&0xffff)+(d&0xffff)|0)+c|0;t2=((n>>>16)+(d>>>16)|0)+(t1>>>16)|0;c=t2>>>16;HEAP32[N+j+k>>2]=t1&0xffff|t2<<16;}}HEAP32[Q+j>>2]=qh<<16|ql;u1=HEAP32[N+i>>2]|0;}if(e){u0=HEAP32[N>>2]|0;for(i=4;(i|0)<=(lD|0);i=i+4|0){n=HEAP32[N+i>>2]|0;HEAP32[N+i-4>>2]=n<<(32-e|0)|u0>>>e;u0=n;}HEAP32[N+lD>>2]=u0>>>e;}}function mredc(A,lA,N,lN,y,R){A=A|0;lA=lA|0;N=N|0;lN=lN|0;y=y|0;R=R|0;var T=0,c=0,uh=0,ul=0,vl=0,vh=0,w0=0,w1=0,w2=0,r0=0,r1=0,i=0,j=0,k=0;T=salloc(lN<<1)|0;z(lN<<1,0,T);cp(lA,A,T);for(i=0;(i|0)<(lN|0);i=i+4|0){uh=HEAP32[T+i>>2]|0,ul=uh&0xffff,uh=uh>>>16;vh=y>>>16,vl=y&0xffff;w0=imul(ul,vl)|0,w1=((imul(ul,vh)|0)+(imul(uh,vl)|0)|0)+(w0>>>16)|0;ul=w0&0xffff,uh=w1&0xffff;r1=0;for(j=0;(j|0)<(lN|0);j=j+4|0){k=i+j|0;vh=HEAP32[N+j>>2]|0,vl=vh&0xffff,vh=vh>>>16;r0=HEAP32[T+k>>2]|0;w0=((imul(ul,vl)|0)+(r1&0xffff)|0)+(r0&0xffff)|0;w1=((imul(ul,vh)|0)+(r1>>>16)|0)+(r0>>>16)|0;w2=((imul(uh,vl)|0)+(w1&0xffff)|0)+(w0>>>16)|0;r1=((imul(uh,vh)|0)+(w2>>>16)|0)+(w1>>>16)|0;r0=w2<<16|w0&0xffff;HEAP32[T+k>>2]=r0;}k=i+j|0;r0=HEAP32[T+k>>2]|0;w0=((r0&0xffff)+(r1&0xffff)|0)+c|0;w1=((r0>>>16)+(r1>>>16)|0)+(w0>>>16)|0;HEAP32[T+k>>2]=w1<<16|w0&0xffff;c=w1>>>16;}cp(lN,T+lN|0,R);sfree(lN<<1);if(c|(cmp(N,lN,R,lN)|0)<=0){sub(R,lN,N,lN,R,lN)|0;}}return {sreset:sreset,salloc:salloc,sfree:sfree,z:z,tst:tst,neg:neg,cmp:cmp,add:add,sub:sub,mul:mul,sqr:sqr,div:div,mredc:mredc};};function Number_extGCD(a,b){var sa=a<0?-1:1,sb=b<0?-1:1,xi=1,xj=0,yi=0,yj=1,r,q,t,a_cmp_b;a*=sa;b*=sb;a_cmp_b=a<b;if(a_cmp_b){t=a;a=b,b=t;t=sa;sa=sb;sb=t;}q=Math.floor(a/b),r=a-q*b;while(r){t=xi-q*xj,xi=xj,xj=t;t=yi-q*yj,yi=yj,yj=t;a=b,b=r;q=Math.floor(a/b),r=a-q*b;}xj*=sa;yj*=sb;if(a_cmp_b){t=xj;xj=yj,yj=t;}return {gcd:b,x:xj,y:yj};}function BigNumber_extGCD(a,b){var sa=a.sign;var sb=b.sign;if(sa<0)a=a.negate();if(sb<0)b=b.negate();var a_cmp_b=a.compare(b);if(a_cmp_b<0){var t=a;a=b,b=t;var t2=sa;sa=sb;sb=t2;}var xi=BigNumber.ONE,xj=BigNumber.ZERO,lx=b.bitLength,yi=BigNumber.ZERO,yj=BigNumber.ONE,ly=a.bitLength,z,r,q;z=a.divide(b);while((r=z.remainder)!==BigNumber.ZERO){q=z.quotient;z=xi.subtract(q.multiply(xj).clamp(lx)).clamp(lx),xi=xj,xj=z;z=yi.subtract(q.multiply(yj).clamp(ly)).clamp(ly),yi=yj,yj=z;a=b,b=r;z=a.divide(b);}if(sa<0)xj=xj.negate();if(sb<0)yj=yj.negate();if(a_cmp_b<0){var _t=xj;xj=yj,yj=_t;}return {gcd:b,x:xj,y:yj};}function getRandomValues(buf){if(typeof process!=='undefined'){var nodeCrypto=require('crypto');var bytes=nodeCrypto.randomBytes(buf.length);buf.set(bytes);return;}if(window.crypto&&window.crypto.getRandomValues){window.crypto.getRandomValues(buf);return;}if(self.crypto&&self.crypto.getRandomValues){self.crypto.getRandomValues(buf);return;}if(window.msCrypto&&window.msCrypto.getRandomValues){window.msCrypto.getRandomValues(buf);return;}throw new Error('No secure random number generator available.');}var _bigint_stdlib={Uint32Array:Uint32Array,Math:Math};var _bigint_heap=new Uint32Array(0x100000);var _bigint_asm;function _half_imul(a,b){return a*b|0;}if(_bigint_stdlib.Math.imul===undefined){_bigint_stdlib.Math.imul=_half_imul;_bigint_asm=bigint_asm(_bigint_stdlib,null,_bigint_heap.buffer);delete _bigint_stdlib.Math.imul;}else{_bigint_asm=bigint_asm(_bigint_stdlib,null,_bigint_heap.buffer);}var _BigNumber_ZERO_limbs=new Uint32Array(0);var BigNumber=/*#__PURE__*/function(){function BigNumber(num){_classCallCheck(this,BigNumber);var limbs=_BigNumber_ZERO_limbs;var bitlen=0;var sign=0;if(num===undefined);else{for(var i=0;!num[i];i++){}bitlen=(num.length-i)*8;if(!bitlen)return BigNumber.ZERO;limbs=new Uint32Array(bitlen+31>>5);for(var j=num.length-4;j>=i;j-=4){limbs[num.length-4-j>>2]=num[j]<<24|num[j+1]<<16|num[j+2]<<8|num[j+3];}if(i-j===3){limbs[limbs.length-1]=num[i];}else if(i-j===2){limbs[limbs.length-1]=num[i]<<8|num[i+1];}else if(i-j===1){limbs[limbs.length-1]=num[i]<<16|num[i+1]<<8|num[i+2];}sign=1;}this.limbs=limbs;this.bitLength=bitlen;this.sign=sign;}_createClass(BigNumber,[{key:"toString",value:function toString(radix){radix=radix||16;var limbs=this.limbs;var bitlen=this.bitLength;var str='';if(radix===16){for(var i=(bitlen+31>>5)-1;i>=0;i--){var h=limbs[i].toString(16);str+='00000000'.substr(h.length);str+=h;}str=str.replace(/^0+/,'');if(!str.length)str='0';}else{throw new IllegalArgumentError('bad radix');}if(this.sign<0)str='-'+str;return str;}},{key:"toBytes",value:function toBytes(){var bitlen=this.bitLength;var limbs=this.limbs;if(bitlen===0)return new Uint8Array(0);var bytelen=bitlen+7>>3;var bytes=new Uint8Array(bytelen);for(var i=0;i<bytelen;i++){var j=bytelen-i-1;bytes[i]=limbs[j>>2]>>((j&3)<<3);}return bytes;}},{key:"valueOf",value:function valueOf(){var limbs=this.limbs;var bits=this.bitLength;var sign=this.sign;if(!sign)return 0;if(bits<=32)return sign*(limbs[0]>>>0);if(bits<=52)return sign*(0x100000000*(limbs[1]>>>0)+(limbs[0]>>>0));var i,l,e=0;for(i=limbs.length-1;i>=0;i--){if((l=limbs[i])===0)continue;while((l<<e&0x80000000)===0){e++;}break;}if(i===0)return sign*(limbs[0]>>>0);return sign*(0x100000*((limbs[i]<<e|(e?limbs[i-1]>>>32-e:0))>>>0)+((limbs[i-1]<<e|(e&&i>1?limbs[i-2]>>>32-e:0))>>>12))*Math.pow(2,32*i-e-52);}},{key:"clamp",value:function clamp(b){var limbs=this.limbs;var bitlen=this.bitLength;if(b>=bitlen)return this;var clamped=new BigNumber();var n=b+31>>5;var k=b%32;clamped.limbs=new Uint32Array(limbs.subarray(0,n));clamped.bitLength=b;clamped.sign=this.sign;if(k)clamped.limbs[n-1]&=-1>>>32-k;return clamped;}},{key:"slice",value:function slice(f,b){var limbs=this.limbs;var bitlen=this.bitLength;if(f<0)throw new RangeError('TODO');if(f>=bitlen)return BigNumber.ZERO;if(b===undefined||b>bitlen-f)b=bitlen-f;var sliced=new BigNumber();var n=f>>5;var m=f+b+31>>5;var l=b+31>>5;var t=f%32;var k=b%32;var slimbs=new Uint32Array(l);if(t){for(var i=0;i<m-n-1;i++){slimbs[i]=limbs[n+i]>>>t|limbs[n+i+1]<<32-t;}slimbs[i]=limbs[n+i]>>>t;}else{slimbs.set(limbs.subarray(n,m));}if(k){slimbs[l-1]&=-1>>>32-k;}sliced.limbs=slimbs;sliced.bitLength=b;sliced.sign=this.sign;return sliced;}},{key:"negate",value:function negate(){var negative=new BigNumber();negative.limbs=this.limbs;negative.bitLength=this.bitLength;negative.sign=-1*this.sign;return negative;}},{key:"compare",value:function compare(that){var alimbs=this.limbs,alimbcnt=alimbs.length,blimbs=that.limbs,blimbcnt=blimbs.length,z=0;if(this.sign<that.sign)return -1;if(this.sign>that.sign)return 1;_bigint_heap.set(alimbs,0);_bigint_heap.set(blimbs,alimbcnt);z=_bigint_asm.cmp(0,alimbcnt<<2,alimbcnt<<2,blimbcnt<<2);return z*this.sign;}},{key:"add",value:function add(that){if(!this.sign)return that;if(!that.sign)return this;var abitlen=this.bitLength,alimbs=this.limbs,alimbcnt=alimbs.length,asign=this.sign,bbitlen=that.bitLength,blimbs=that.limbs,blimbcnt=blimbs.length,bsign=that.sign,rbitlen,rlimbcnt,rsign,rof,result=new BigNumber();rbitlen=(abitlen>bbitlen?abitlen:bbitlen)+(asign*bsign>0?1:0);rlimbcnt=rbitlen+31>>5;_bigint_asm.sreset();var pA=_bigint_asm.salloc(alimbcnt<<2),pB=_bigint_asm.salloc(blimbcnt<<2),pR=_bigint_asm.salloc(rlimbcnt<<2);_bigint_asm.z(pR-pA+(rlimbcnt<<2),0,pA);_bigint_heap.set(alimbs,pA>>2);_bigint_heap.set(blimbs,pB>>2);if(asign*bsign>0){_bigint_asm.add(pA,alimbcnt<<2,pB,blimbcnt<<2,pR,rlimbcnt<<2);rsign=asign;}else if(asign>bsign){rof=_bigint_asm.sub(pA,alimbcnt<<2,pB,blimbcnt<<2,pR,rlimbcnt<<2);rsign=rof?bsign:asign;}else{rof=_bigint_asm.sub(pB,blimbcnt<<2,pA,alimbcnt<<2,pR,rlimbcnt<<2);rsign=rof?asign:bsign;}if(rof)_bigint_asm.neg(pR,rlimbcnt<<2,pR,rlimbcnt<<2);if(_bigint_asm.tst(pR,rlimbcnt<<2)===0)return BigNumber.ZERO;result.limbs=new Uint32Array(_bigint_heap.subarray(pR>>2,(pR>>2)+rlimbcnt));result.bitLength=rbitlen;result.sign=rsign;return result;}},{key:"subtract",value:function subtract(that){return this.add(that.negate());}},{key:"square",value:function square(){if(!this.sign)return BigNumber.ZERO;var abitlen=this.bitLength,alimbs=this.limbs,alimbcnt=alimbs.length,rbitlen,rlimbcnt,result=new BigNumber();rbitlen=abitlen<<1;rlimbcnt=rbitlen+31>>5;_bigint_asm.sreset();var pA=_bigint_asm.salloc(alimbcnt<<2),pR=_bigint_asm.salloc(rlimbcnt<<2);_bigint_asm.z(pR-pA+(rlimbcnt<<2),0,pA);_bigint_heap.set(alimbs,pA>>2);_bigint_asm.sqr(pA,alimbcnt<<2,pR);result.limbs=new Uint32Array(_bigint_heap.subarray(pR>>2,(pR>>2)+rlimbcnt));result.bitLength=rbitlen;result.sign=1;return result;}},{key:"divide",value:function divide(that){var abitlen=this.bitLength,alimbs=this.limbs,alimbcnt=alimbs.length,bbitlen=that.bitLength,blimbs=that.limbs,blimbcnt=blimbs.length,qlimbcnt,rlimbcnt,quotient=BigNumber.ZERO,remainder=BigNumber.ZERO;_bigint_asm.sreset();var pA=_bigint_asm.salloc(alimbcnt<<2),pB=_bigint_asm.salloc(blimbcnt<<2),pQ=_bigint_asm.salloc(alimbcnt<<2);_bigint_asm.z(pQ-pA+(alimbcnt<<2),0,pA);_bigint_heap.set(alimbs,pA>>2);_bigint_heap.set(blimbs,pB>>2);_bigint_asm.div(pA,alimbcnt<<2,pB,blimbcnt<<2,pQ);qlimbcnt=_bigint_asm.tst(pQ,alimbcnt<<2)>>2;if(qlimbcnt){quotient=new BigNumber();quotient.limbs=new Uint32Array(_bigint_heap.subarray(pQ>>2,(pQ>>2)+qlimbcnt));quotient.bitLength=abitlen<qlimbcnt<<5?abitlen:qlimbcnt<<5;quotient.sign=this.sign*that.sign;}rlimbcnt=_bigint_asm.tst(pA,blimbcnt<<2)>>2;if(rlimbcnt){remainder=new BigNumber();remainder.limbs=new Uint32Array(_bigint_heap.subarray(pA>>2,(pA>>2)+rlimbcnt));remainder.bitLength=bbitlen<rlimbcnt<<5?bbitlen:rlimbcnt<<5;remainder.sign=this.sign;}return {quotient:quotient,remainder:remainder};}},{key:"multiply",value:function multiply(that){if(!this.sign||!that.sign)return BigNumber.ZERO;var abitlen=this.bitLength,alimbs=this.limbs,alimbcnt=alimbs.length,bbitlen=that.bitLength,blimbs=that.limbs,blimbcnt=blimbs.length,rbitlen,rlimbcnt,result=new BigNumber();rbitlen=abitlen+bbitlen;rlimbcnt=rbitlen+31>>5;_bigint_asm.sreset();var pA=_bigint_asm.salloc(alimbcnt<<2),pB=_bigint_asm.salloc(blimbcnt<<2),pR=_bigint_asm.salloc(rlimbcnt<<2);_bigint_asm.z(pR-pA+(rlimbcnt<<2),0,pA);_bigint_heap.set(alimbs,pA>>2);_bigint_heap.set(blimbs,pB>>2);_bigint_asm.mul(pA,alimbcnt<<2,pB,blimbcnt<<2,pR,rlimbcnt<<2);result.limbs=new Uint32Array(_bigint_heap.subarray(pR>>2,(pR>>2)+rlimbcnt));result.sign=this.sign*that.sign;result.bitLength=rbitlen;return result;}},{key:"isMillerRabinProbablePrime",value:function isMillerRabinProbablePrime(rounds){var t=BigNumber.fromConfig(this),s=0;t.limbs[0]-=1;while(t.limbs[s>>5]===0){s+=32;}while((t.limbs[s>>5]>>(s&31)&1)===0){s++;}t=t.slice(s);var m=new Modulus(this),m1=this.subtract(BigNumber.ONE),a=BigNumber.fromConfig(this),l=this.limbs.length-1;while(a.limbs[l]===0){l--;}while(--rounds>=0){getRandomValues(a.limbs);if(a.limbs[0]<2)a.limbs[0]+=2;while(a.compare(m1)>=0){a.limbs[l]>>>=1;}var x=m.power(a,t);if(x.compare(BigNumber.ONE)===0)continue;if(x.compare(m1)===0)continue;var c=s;while(--c>0){x=x.square().divide(m).remainder;if(x.compare(BigNumber.ONE)===0)return false;if(x.compare(m1)===0)break;}if(c===0)return false;}return true;}},{key:"isProbablePrime",value:function isProbablePrime(){var paranoia=arguments.length>0&&arguments[0]!==undefined?arguments[0]:80;var limbs=this.limbs;var i=0;if((limbs[0]&1)===0)return false;if(paranoia<=1)return true;var s3=0,s5=0,s17=0;for(i=0;i<limbs.length;i++){var l3=limbs[i];while(l3){s3+=l3&3;l3>>>=2;}var l5=limbs[i];while(l5){s5+=l5&3;l5>>>=2;s5-=l5&3;l5>>>=2;}var l17=limbs[i];while(l17){s17+=l17&15;l17>>>=4;s17-=l17&15;l17>>>=4;}}if(!(s3%3)||!(s5%5)||!(s17%17))return false;if(paranoia<=2)return true;return this.isMillerRabinProbablePrime(paranoia>>>1);}}],[{key:"fromString",value:function fromString(str){var bytes=string_to_bytes(str);return new BigNumber(bytes);}},{key:"fromNumber",value:function fromNumber(num){var limbs=_BigNumber_ZERO_limbs;var bitlen=0;var sign=0;var absnum=Math.abs(num);if(absnum>0xffffffff){limbs=new Uint32Array(2);limbs[0]=absnum|0;limbs[1]=absnum/0x100000000|0;bitlen=52;}else if(absnum>0){limbs=new Uint32Array(1);limbs[0]=absnum;bitlen=32;}else{limbs=_BigNumber_ZERO_limbs;bitlen=0;}sign=num<0?-1:1;return BigNumber.fromConfig({limbs:limbs,bitLength:bitlen,sign:sign});}},{key:"fromArrayBuffer",value:function fromArrayBuffer(buffer){return new BigNumber(new Uint8Array(buffer));}},{key:"fromConfig",value:function fromConfig(obj){var bn=new BigNumber();bn.limbs=new Uint32Array(obj.limbs);bn.bitLength=obj.bitLength;bn.sign=obj.sign;return bn;}}]);return BigNumber;}();BigNumber.extGCD=BigNumber_extGCD;BigNumber.ZERO=BigNumber.fromNumber(0);BigNumber.ONE=BigNumber.fromNumber(1);var Modulus=/*#__PURE__*/function(_BigNumber){_inherits(Modulus,_BigNumber);function Modulus(number){var _this77;_classCallCheck(this,Modulus);_this77=_possibleConstructorReturn(this,_getPrototypeOf(Modulus).call(this));_this77.limbs=number.limbs;_this77.bitLength=number.bitLength;_this77.sign=number.sign;if(_this77.valueOf()<1)throw new RangeError();if(_this77.bitLength<=32)return _possibleConstructorReturn(_this77);var comodulus;if(_this77.limbs[0]&1){var bitlen=(_this77.bitLength+31&-32)+1;var limbs=new Uint32Array(bitlen+31>>5);limbs[limbs.length-1]=1;comodulus=new BigNumber();comodulus.sign=1;comodulus.bitLength=bitlen;comodulus.limbs=limbs;var k=Number_extGCD(0x100000000,_this77.limbs[0]).y;_this77.coefficient=k<0?-k:0x100000000-k;}else{return _possibleConstructorReturn(_this77);}_this77.comodulus=comodulus;_this77.comodulusRemainder=comodulus.divide(_assertThisInitialized(_this77)).remainder;_this77.comodulusRemainderSquare=comodulus.square().divide(_assertThisInitialized(_this77)).remainder;return _this77;}_createClass(Modulus,[{key:"reduce",value:function reduce(a){if(a.bitLength<=32&&this.bitLength<=32)return BigNumber.fromNumber(a.valueOf()%this.valueOf());if(a.compare(this)<0)return a;return a.divide(this).remainder;}},{key:"inverse",value:function inverse(a){a=this.reduce(a);var r=BigNumber_extGCD(this,a);if(r.gcd.valueOf()!==1)throw new Error('GCD is not 1');if(r.y.sign<0)return r.y.add(this).clamp(this.bitLength);return r.y;}},{key:"power",value:function power(g,e){var c=0;for(var i=0;i<e.limbs.length;i++){var t=e.limbs[i];while(t){if(t&1)c++;t>>>=1;}}var k=8;if(e.bitLength<=4536)k=7;if(e.bitLength<=1736)k=6;if(e.bitLength<=630)k=5;if(e.bitLength<=210)k=4;if(e.bitLength<=60)k=3;if(e.bitLength<=12)k=2;if(c<=1<<k-1)k=1;g=Modulus._Montgomery_reduce(this.reduce(g).multiply(this.comodulusRemainderSquare),this);var g2=Modulus._Montgomery_reduce(g.square(),this),gn=new Array(1<<k-1);gn[0]=g;gn[1]=Modulus._Montgomery_reduce(g.multiply(g2),this);for(var _i21=2;_i21<1<<k-1;_i21++){gn[_i21]=Modulus._Montgomery_reduce(gn[_i21-1].multiply(g2),this);}var u=this.comodulusRemainder;var r=u;for(var _i22=e.limbs.length-1;_i22>=0;_i22--){var _t2=e.limbs[_i22];for(var j=32;j>0;){if(_t2&0x80000000){var n=_t2>>>32-k,l=k;while((n&1)===0){n>>>=1;l--;}var m=gn[n>>>1];while(n){n>>>=1;if(r!==u)r=Modulus._Montgomery_reduce(r.square(),this);}r=r!==u?Modulus._Montgomery_reduce(r.multiply(m),this):m;_t2<<=l,j-=l;}else{if(r!==u)r=Modulus._Montgomery_reduce(r.square(),this);_t2<<=1,j--;}}}return Modulus._Montgomery_reduce(r,this);}}],[{key:"_Montgomery_reduce",value:function _Montgomery_reduce(a,n){var alimbs=a.limbs;var alimbcnt=alimbs.length;var nlimbs=n.limbs;var nlimbcnt=nlimbs.length;var y=n.coefficient;_bigint_asm.sreset();var pA=_bigint_asm.salloc(alimbcnt<<2),pN=_bigint_asm.salloc(nlimbcnt<<2),pR=_bigint_asm.salloc(nlimbcnt<<2);_bigint_asm.z(pR-pA+(nlimbcnt<<2),0,pA);_bigint_heap.set(alimbs,pA>>2);_bigint_heap.set(nlimbs,pN>>2);_bigint_asm.mredc(pA,alimbcnt<<2,pN,nlimbcnt<<2,y,pR);var result=new BigNumber();result.limbs=new Uint32Array(_bigint_heap.subarray(pR>>2,(pR>>2)+nlimbcnt));result.bitLength=n.bitLength;result.sign=1;return result;}}]);return Modulus;}(BigNumber);var sha1_asm=function sha1_asm(stdlib,foreign,buffer){"use asm";var H0=0,H1=0,H2=0,H3=0,H4=0,TOTAL0=0,TOTAL1=0;var I0=0,I1=0,I2=0,I3=0,I4=0,O0=0,O1=0,O2=0,O3=0,O4=0;var HEAP=new stdlib.Uint8Array(buffer);function _core(w0,w1,w2,w3,w4,w5,w6,w7,w8,w9,w10,w11,w12,w13,w14,w15){w0=w0|0;w1=w1|0;w2=w2|0;w3=w3|0;w4=w4|0;w5=w5|0;w6=w6|0;w7=w7|0;w8=w8|0;w9=w9|0;w10=w10|0;w11=w11|0;w12=w12|0;w13=w13|0;w14=w14|0;w15=w15|0;var a=0,b=0,c=0,d=0,e=0,n=0,t=0,w16=0,w17=0,w18=0,w19=0,w20=0,w21=0,w22=0,w23=0,w24=0,w25=0,w26=0,w27=0,w28=0,w29=0,w30=0,w31=0,w32=0,w33=0,w34=0,w35=0,w36=0,w37=0,w38=0,w39=0,w40=0,w41=0,w42=0,w43=0,w44=0,w45=0,w46=0,w47=0,w48=0,w49=0,w50=0,w51=0,w52=0,w53=0,w54=0,w55=0,w56=0,w57=0,w58=0,w59=0,w60=0,w61=0,w62=0,w63=0,w64=0,w65=0,w66=0,w67=0,w68=0,w69=0,w70=0,w71=0,w72=0,w73=0,w74=0,w75=0,w76=0,w77=0,w78=0,w79=0;a=H0;b=H1;c=H2;d=H3;e=H4;t=w0+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w1+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w2+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w3+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w4+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w5+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w6+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w7+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w8+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w9+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w10+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w11+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w12+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w13+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w14+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;t=w15+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w13^w8^w2^w0;w16=n<<1|n>>>31;t=w16+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w14^w9^w3^w1;w17=n<<1|n>>>31;t=w17+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w15^w10^w4^w2;w18=n<<1|n>>>31;t=w18+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w16^w11^w5^w3;w19=n<<1|n>>>31;t=w19+(a<<5|a>>>27)+e+(b&c|~b&d)+0x5a827999|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w17^w12^w6^w4;w20=n<<1|n>>>31;t=w20+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w18^w13^w7^w5;w21=n<<1|n>>>31;t=w21+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w19^w14^w8^w6;w22=n<<1|n>>>31;t=w22+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w20^w15^w9^w7;w23=n<<1|n>>>31;t=w23+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w21^w16^w10^w8;w24=n<<1|n>>>31;t=w24+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w22^w17^w11^w9;w25=n<<1|n>>>31;t=w25+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w23^w18^w12^w10;w26=n<<1|n>>>31;t=w26+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w24^w19^w13^w11;w27=n<<1|n>>>31;t=w27+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w25^w20^w14^w12;w28=n<<1|n>>>31;t=w28+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w26^w21^w15^w13;w29=n<<1|n>>>31;t=w29+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w27^w22^w16^w14;w30=n<<1|n>>>31;t=w30+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w28^w23^w17^w15;w31=n<<1|n>>>31;t=w31+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w29^w24^w18^w16;w32=n<<1|n>>>31;t=w32+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w30^w25^w19^w17;w33=n<<1|n>>>31;t=w33+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w31^w26^w20^w18;w34=n<<1|n>>>31;t=w34+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w32^w27^w21^w19;w35=n<<1|n>>>31;t=w35+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w33^w28^w22^w20;w36=n<<1|n>>>31;t=w36+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w34^w29^w23^w21;w37=n<<1|n>>>31;t=w37+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w35^w30^w24^w22;w38=n<<1|n>>>31;t=w38+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w36^w31^w25^w23;w39=n<<1|n>>>31;t=w39+(a<<5|a>>>27)+e+(b^c^d)+0x6ed9eba1|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w37^w32^w26^w24;w40=n<<1|n>>>31;t=w40+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w38^w33^w27^w25;w41=n<<1|n>>>31;t=w41+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w39^w34^w28^w26;w42=n<<1|n>>>31;t=w42+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w40^w35^w29^w27;w43=n<<1|n>>>31;t=w43+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w41^w36^w30^w28;w44=n<<1|n>>>31;t=w44+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w42^w37^w31^w29;w45=n<<1|n>>>31;t=w45+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w43^w38^w32^w30;w46=n<<1|n>>>31;t=w46+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w44^w39^w33^w31;w47=n<<1|n>>>31;t=w47+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w45^w40^w34^w32;w48=n<<1|n>>>31;t=w48+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w46^w41^w35^w33;w49=n<<1|n>>>31;t=w49+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w47^w42^w36^w34;w50=n<<1|n>>>31;t=w50+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w48^w43^w37^w35;w51=n<<1|n>>>31;t=w51+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w49^w44^w38^w36;w52=n<<1|n>>>31;t=w52+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w50^w45^w39^w37;w53=n<<1|n>>>31;t=w53+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w51^w46^w40^w38;w54=n<<1|n>>>31;t=w54+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w52^w47^w41^w39;w55=n<<1|n>>>31;t=w55+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w53^w48^w42^w40;w56=n<<1|n>>>31;t=w56+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w54^w49^w43^w41;w57=n<<1|n>>>31;t=w57+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w55^w50^w44^w42;w58=n<<1|n>>>31;t=w58+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w56^w51^w45^w43;w59=n<<1|n>>>31;t=w59+(a<<5|a>>>27)+e+(b&c|b&d|c&d)-0x70e44324|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w57^w52^w46^w44;w60=n<<1|n>>>31;t=w60+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w58^w53^w47^w45;w61=n<<1|n>>>31;t=w61+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w59^w54^w48^w46;w62=n<<1|n>>>31;t=w62+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w60^w55^w49^w47;w63=n<<1|n>>>31;t=w63+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w61^w56^w50^w48;w64=n<<1|n>>>31;t=w64+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w62^w57^w51^w49;w65=n<<1|n>>>31;t=w65+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w63^w58^w52^w50;w66=n<<1|n>>>31;t=w66+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w64^w59^w53^w51;w67=n<<1|n>>>31;t=w67+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w65^w60^w54^w52;w68=n<<1|n>>>31;t=w68+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w66^w61^w55^w53;w69=n<<1|n>>>31;t=w69+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w67^w62^w56^w54;w70=n<<1|n>>>31;t=w70+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w68^w63^w57^w55;w71=n<<1|n>>>31;t=w71+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w69^w64^w58^w56;w72=n<<1|n>>>31;t=w72+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w70^w65^w59^w57;w73=n<<1|n>>>31;t=w73+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w71^w66^w60^w58;w74=n<<1|n>>>31;t=w74+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w72^w67^w61^w59;w75=n<<1|n>>>31;t=w75+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w73^w68^w62^w60;w76=n<<1|n>>>31;t=w76+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w74^w69^w63^w61;w77=n<<1|n>>>31;t=w77+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w75^w70^w64^w62;w78=n<<1|n>>>31;t=w78+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;n=w76^w71^w65^w63;w79=n<<1|n>>>31;t=w79+(a<<5|a>>>27)+e+(b^c^d)-0x359d3e2a|0;e=d;d=c;c=b<<30|b>>>2;b=a;a=t;H0=H0+a|0;H1=H1+b|0;H2=H2+c|0;H3=H3+d|0;H4=H4+e|0;}function _core_heap(offset){offset=offset|0;_core(HEAP[offset|0]<<24|HEAP[offset|1]<<16|HEAP[offset|2]<<8|HEAP[offset|3],HEAP[offset|4]<<24|HEAP[offset|5]<<16|HEAP[offset|6]<<8|HEAP[offset|7],HEAP[offset|8]<<24|HEAP[offset|9]<<16|HEAP[offset|10]<<8|HEAP[offset|11],HEAP[offset|12]<<24|HEAP[offset|13]<<16|HEAP[offset|14]<<8|HEAP[offset|15],HEAP[offset|16]<<24|HEAP[offset|17]<<16|HEAP[offset|18]<<8|HEAP[offset|19],HEAP[offset|20]<<24|HEAP[offset|21]<<16|HEAP[offset|22]<<8|HEAP[offset|23],HEAP[offset|24]<<24|HEAP[offset|25]<<16|HEAP[offset|26]<<8|HEAP[offset|27],HEAP[offset|28]<<24|HEAP[offset|29]<<16|HEAP[offset|30]<<8|HEAP[offset|31],HEAP[offset|32]<<24|HEAP[offset|33]<<16|HEAP[offset|34]<<8|HEAP[offset|35],HEAP[offset|36]<<24|HEAP[offset|37]<<16|HEAP[offset|38]<<8|HEAP[offset|39],HEAP[offset|40]<<24|HEAP[offset|41]<<16|HEAP[offset|42]<<8|HEAP[offset|43],HEAP[offset|44]<<24|HEAP[offset|45]<<16|HEAP[offset|46]<<8|HEAP[offset|47],HEAP[offset|48]<<24|HEAP[offset|49]<<16|HEAP[offset|50]<<8|HEAP[offset|51],HEAP[offset|52]<<24|HEAP[offset|53]<<16|HEAP[offset|54]<<8|HEAP[offset|55],HEAP[offset|56]<<24|HEAP[offset|57]<<16|HEAP[offset|58]<<8|HEAP[offset|59],HEAP[offset|60]<<24|HEAP[offset|61]<<16|HEAP[offset|62]<<8|HEAP[offset|63]);}function _state_to_heap(output){output=output|0;HEAP[output|0]=H0>>>24;HEAP[output|1]=H0>>>16&255;HEAP[output|2]=H0>>>8&255;HEAP[output|3]=H0&255;HEAP[output|4]=H1>>>24;HEAP[output|5]=H1>>>16&255;HEAP[output|6]=H1>>>8&255;HEAP[output|7]=H1&255;HEAP[output|8]=H2>>>24;HEAP[output|9]=H2>>>16&255;HEAP[output|10]=H2>>>8&255;HEAP[output|11]=H2&255;HEAP[output|12]=H3>>>24;HEAP[output|13]=H3>>>16&255;HEAP[output|14]=H3>>>8&255;HEAP[output|15]=H3&255;HEAP[output|16]=H4>>>24;HEAP[output|17]=H4>>>16&255;HEAP[output|18]=H4>>>8&255;HEAP[output|19]=H4&255;}function reset(){H0=0x67452301;H1=0xefcdab89;H2=0x98badcfe;H3=0x10325476;H4=0xc3d2e1f0;TOTAL0=TOTAL1=0;}function init(h0,h1,h2,h3,h4,total0,total1){h0=h0|0;h1=h1|0;h2=h2|0;h3=h3|0;h4=h4|0;total0=total0|0;total1=total1|0;H0=h0;H1=h1;H2=h2;H3=h3;H4=h4;TOTAL0=total0;TOTAL1=total1;}function process(offset,length){offset=offset|0;length=length|0;var hashed=0;if(offset&63)return -1;while((length|0)>=64){_core_heap(offset);offset=offset+64|0;length=length-64|0;hashed=hashed+64|0;}TOTAL0=TOTAL0+hashed|0;if(TOTAL0>>>0<hashed>>>0)TOTAL1=TOTAL1+1|0;return hashed|0;}function finish(offset,length,output){offset=offset|0;length=length|0;output=output|0;var hashed=0,i=0;if(offset&63)return -1;if(~output)if(output&31)return -1;if((length|0)>=64){hashed=process(offset,length)|0;if((hashed|0)==-1)return -1;offset=offset+hashed|0;length=length-hashed|0;}hashed=hashed+length|0;TOTAL0=TOTAL0+length|0;if(TOTAL0>>>0<length>>>0)TOTAL1=TOTAL1+1|0;HEAP[offset|length]=0x80;if((length|0)>=56){for(i=length+1|0;(i|0)<64;i=i+1|0){HEAP[offset|i]=0x00;}_core_heap(offset);length=0;HEAP[offset|0]=0;}for(i=length+1|0;(i|0)<59;i=i+1|0){HEAP[offset|i]=0;}HEAP[offset|56]=TOTAL1>>>21&255;HEAP[offset|57]=TOTAL1>>>13&255;HEAP[offset|58]=TOTAL1>>>5&255;HEAP[offset|59]=TOTAL1<<3&255|TOTAL0>>>29;HEAP[offset|60]=TOTAL0>>>21&255;HEAP[offset|61]=TOTAL0>>>13&255;HEAP[offset|62]=TOTAL0>>>5&255;HEAP[offset|63]=TOTAL0<<3&255;_core_heap(offset);if(~output)_state_to_heap(output);return hashed|0;}function hmac_reset(){H0=I0;H1=I1;H2=I2;H3=I3;H4=I4;TOTAL0=64;TOTAL1=0;}function _hmac_opad(){H0=O0;H1=O1;H2=O2;H3=O3;H4=O4;TOTAL0=64;TOTAL1=0;}function hmac_init(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15){p0=p0|0;p1=p1|0;p2=p2|0;p3=p3|0;p4=p4|0;p5=p5|0;p6=p6|0;p7=p7|0;p8=p8|0;p9=p9|0;p10=p10|0;p11=p11|0;p12=p12|0;p13=p13|0;p14=p14|0;p15=p15|0;reset();_core(p0^0x5c5c5c5c,p1^0x5c5c5c5c,p2^0x5c5c5c5c,p3^0x5c5c5c5c,p4^0x5c5c5c5c,p5^0x5c5c5c5c,p6^0x5c5c5c5c,p7^0x5c5c5c5c,p8^0x5c5c5c5c,p9^0x5c5c5c5c,p10^0x5c5c5c5c,p11^0x5c5c5c5c,p12^0x5c5c5c5c,p13^0x5c5c5c5c,p14^0x5c5c5c5c,p15^0x5c5c5c5c);O0=H0;O1=H1;O2=H2;O3=H3;O4=H4;reset();_core(p0^0x36363636,p1^0x36363636,p2^0x36363636,p3^0x36363636,p4^0x36363636,p5^0x36363636,p6^0x36363636,p7^0x36363636,p8^0x36363636,p9^0x36363636,p10^0x36363636,p11^0x36363636,p12^0x36363636,p13^0x36363636,p14^0x36363636,p15^0x36363636);I0=H0;I1=H1;I2=H2;I3=H3;I4=H4;TOTAL0=64;TOTAL1=0;}function hmac_finish(offset,length,output){offset=offset|0;length=length|0;output=output|0;var t0=0,t1=0,t2=0,t3=0,t4=0,hashed=0;if(offset&63)return -1;if(~output)if(output&31)return -1;hashed=finish(offset,length,-1)|0;t0=H0,t1=H1,t2=H2,t3=H3,t4=H4;_hmac_opad();_core(t0,t1,t2,t3,t4,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~output)_state_to_heap(output);return hashed|0;}function pbkdf2_generate_block(offset,length,block,count,output){offset=offset|0;length=length|0;block=block|0;count=count|0;output=output|0;var h0=0,h1=0,h2=0,h3=0,h4=0,t0=0,t1=0,t2=0,t3=0,t4=0;if(offset&63)return -1;if(~output)if(output&31)return -1;HEAP[offset+length|0]=block>>>24;HEAP[offset+length+1|0]=block>>>16&255;HEAP[offset+length+2|0]=block>>>8&255;HEAP[offset+length+3|0]=block&255;hmac_finish(offset,length+4|0,-1)|0;h0=t0=H0,h1=t1=H1,h2=t2=H2,h3=t3=H3,h4=t4=H4;count=count-1|0;while((count|0)>0){hmac_reset();_core(t0,t1,t2,t3,t4,0x80000000,0,0,0,0,0,0,0,0,0,672);t0=H0,t1=H1,t2=H2,t3=H3,t4=H4;_hmac_opad();_core(t0,t1,t2,t3,t4,0x80000000,0,0,0,0,0,0,0,0,0,672);t0=H0,t1=H1,t2=H2,t3=H3,t4=H4;h0=h0^H0;h1=h1^H1;h2=h2^H2;h3=h3^H3;h4=h4^H4;count=count-1|0;}H0=h0;H1=h1;H2=h2;H3=h3;H4=h4;if(~output)_state_to_heap(output);return 0;}return {reset:reset,init:init,process:process,finish:finish,hmac_reset:hmac_reset,hmac_init:hmac_init,hmac_finish:hmac_finish,pbkdf2_generate_block:pbkdf2_generate_block};};var Hash=/*#__PURE__*/function(){function Hash(){_classCallCheck(this,Hash);this.pos=0;this.len=0;}_createClass(Hash,[{key:"reset",value:function reset(){this.result=null;this.pos=0;this.len=0;this.asm.reset();return this;}},{key:"process",value:function process(data){if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');var asm=this.asm;var heap=this.heap;var hpos=this.pos;var hlen=this.len;var dpos=0;var dlen=data.length;var wlen=0;while(dlen>0){wlen=_heap_write(heap,hpos+hlen,data,dpos,dlen);hlen+=wlen;dpos+=wlen;dlen-=wlen;wlen=asm.process(hpos,hlen);hpos+=wlen;hlen-=wlen;if(!hlen)hpos=0;}this.pos=hpos;this.len=hlen;return this;}},{key:"finish",value:function finish(){if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');this.asm.finish(this.pos,this.len,0);this.result=new Uint8Array(this.HASH_SIZE);this.result.set(this.heap.subarray(0,this.HASH_SIZE));this.pos=0;this.len=0;return this;}}]);return Hash;}();var _sha1_block_size=64;var _sha1_hash_size=20;var Sha1=/*#__PURE__*/function(_Hash){_inherits(Sha1,_Hash);function Sha1(){var _this78;_classCallCheck(this,Sha1);_this78=_possibleConstructorReturn(this,_getPrototypeOf(Sha1).call(this));_this78.NAME='sha1';_this78.BLOCK_SIZE=_sha1_block_size;_this78.HASH_SIZE=_sha1_hash_size;_this78.heap=_heap_init();_this78.asm=sha1_asm({Uint8Array:Uint8Array},null,_this78.heap.buffer);_this78.reset();return _this78;}return Sha1;}(Hash);Sha1.NAME='sha1';var sha256_asm=function sha256_asm(stdlib,foreign,buffer){"use asm";var H0=0,H1=0,H2=0,H3=0,H4=0,H5=0,H6=0,H7=0,TOTAL0=0,TOTAL1=0;var I0=0,I1=0,I2=0,I3=0,I4=0,I5=0,I6=0,I7=0,O0=0,O1=0,O2=0,O3=0,O4=0,O5=0,O6=0,O7=0;var HEAP=new stdlib.Uint8Array(buffer);function _core(w0,w1,w2,w3,w4,w5,w6,w7,w8,w9,w10,w11,w12,w13,w14,w15){w0=w0|0;w1=w1|0;w2=w2|0;w3=w3|0;w4=w4|0;w5=w5|0;w6=w6|0;w7=w7|0;w8=w8|0;w9=w9|0;w10=w10|0;w11=w11|0;w12=w12|0;w13=w13|0;w14=w14|0;w15=w15|0;var a=0,b=0,c=0,d=0,e=0,f=0,g=0,h=0;a=H0;b=H1;c=H2;d=H3;e=H4;f=H5;g=H6;h=H7;h=w0+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0x428a2f98|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;g=w1+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0x71374491|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;f=w2+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0xb5c0fbcf|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;e=w3+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0xe9b5dba5|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;d=w4+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0x3956c25b|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;c=w5+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0x59f111f1|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;b=w6+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0x923f82a4|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;a=w7+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0xab1c5ed5|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;h=w8+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0xd807aa98|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;g=w9+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0x12835b01|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;f=w10+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0x243185be|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;e=w11+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0x550c7dc3|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;d=w12+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0x72be5d74|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;c=w13+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0x80deb1fe|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;b=w14+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0x9bdc06a7|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;a=w15+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0xc19bf174|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;w0=(w1>>>7^w1>>>18^w1>>>3^w1<<25^w1<<14)+(w14>>>17^w14>>>19^w14>>>10^w14<<15^w14<<13)+w0+w9|0;h=w0+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0xe49b69c1|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;w1=(w2>>>7^w2>>>18^w2>>>3^w2<<25^w2<<14)+(w15>>>17^w15>>>19^w15>>>10^w15<<15^w15<<13)+w1+w10|0;g=w1+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0xefbe4786|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;w2=(w3>>>7^w3>>>18^w3>>>3^w3<<25^w3<<14)+(w0>>>17^w0>>>19^w0>>>10^w0<<15^w0<<13)+w2+w11|0;f=w2+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0x0fc19dc6|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;w3=(w4>>>7^w4>>>18^w4>>>3^w4<<25^w4<<14)+(w1>>>17^w1>>>19^w1>>>10^w1<<15^w1<<13)+w3+w12|0;e=w3+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0x240ca1cc|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;w4=(w5>>>7^w5>>>18^w5>>>3^w5<<25^w5<<14)+(w2>>>17^w2>>>19^w2>>>10^w2<<15^w2<<13)+w4+w13|0;d=w4+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0x2de92c6f|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;w5=(w6>>>7^w6>>>18^w6>>>3^w6<<25^w6<<14)+(w3>>>17^w3>>>19^w3>>>10^w3<<15^w3<<13)+w5+w14|0;c=w5+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0x4a7484aa|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;w6=(w7>>>7^w7>>>18^w7>>>3^w7<<25^w7<<14)+(w4>>>17^w4>>>19^w4>>>10^w4<<15^w4<<13)+w6+w15|0;b=w6+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0x5cb0a9dc|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;w7=(w8>>>7^w8>>>18^w8>>>3^w8<<25^w8<<14)+(w5>>>17^w5>>>19^w5>>>10^w5<<15^w5<<13)+w7+w0|0;a=w7+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0x76f988da|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;w8=(w9>>>7^w9>>>18^w9>>>3^w9<<25^w9<<14)+(w6>>>17^w6>>>19^w6>>>10^w6<<15^w6<<13)+w8+w1|0;h=w8+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0x983e5152|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;w9=(w10>>>7^w10>>>18^w10>>>3^w10<<25^w10<<14)+(w7>>>17^w7>>>19^w7>>>10^w7<<15^w7<<13)+w9+w2|0;g=w9+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0xa831c66d|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;w10=(w11>>>7^w11>>>18^w11>>>3^w11<<25^w11<<14)+(w8>>>17^w8>>>19^w8>>>10^w8<<15^w8<<13)+w10+w3|0;f=w10+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0xb00327c8|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;w11=(w12>>>7^w12>>>18^w12>>>3^w12<<25^w12<<14)+(w9>>>17^w9>>>19^w9>>>10^w9<<15^w9<<13)+w11+w4|0;e=w11+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0xbf597fc7|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;w12=(w13>>>7^w13>>>18^w13>>>3^w13<<25^w13<<14)+(w10>>>17^w10>>>19^w10>>>10^w10<<15^w10<<13)+w12+w5|0;d=w12+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0xc6e00bf3|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;w13=(w14>>>7^w14>>>18^w14>>>3^w14<<25^w14<<14)+(w11>>>17^w11>>>19^w11>>>10^w11<<15^w11<<13)+w13+w6|0;c=w13+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0xd5a79147|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;w14=(w15>>>7^w15>>>18^w15>>>3^w15<<25^w15<<14)+(w12>>>17^w12>>>19^w12>>>10^w12<<15^w12<<13)+w14+w7|0;b=w14+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0x06ca6351|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;w15=(w0>>>7^w0>>>18^w0>>>3^w0<<25^w0<<14)+(w13>>>17^w13>>>19^w13>>>10^w13<<15^w13<<13)+w15+w8|0;a=w15+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0x14292967|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;w0=(w1>>>7^w1>>>18^w1>>>3^w1<<25^w1<<14)+(w14>>>17^w14>>>19^w14>>>10^w14<<15^w14<<13)+w0+w9|0;h=w0+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0x27b70a85|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;w1=(w2>>>7^w2>>>18^w2>>>3^w2<<25^w2<<14)+(w15>>>17^w15>>>19^w15>>>10^w15<<15^w15<<13)+w1+w10|0;g=w1+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0x2e1b2138|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;w2=(w3>>>7^w3>>>18^w3>>>3^w3<<25^w3<<14)+(w0>>>17^w0>>>19^w0>>>10^w0<<15^w0<<13)+w2+w11|0;f=w2+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0x4d2c6dfc|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;w3=(w4>>>7^w4>>>18^w4>>>3^w4<<25^w4<<14)+(w1>>>17^w1>>>19^w1>>>10^w1<<15^w1<<13)+w3+w12|0;e=w3+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0x53380d13|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;w4=(w5>>>7^w5>>>18^w5>>>3^w5<<25^w5<<14)+(w2>>>17^w2>>>19^w2>>>10^w2<<15^w2<<13)+w4+w13|0;d=w4+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0x650a7354|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;w5=(w6>>>7^w6>>>18^w6>>>3^w6<<25^w6<<14)+(w3>>>17^w3>>>19^w3>>>10^w3<<15^w3<<13)+w5+w14|0;c=w5+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0x766a0abb|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;w6=(w7>>>7^w7>>>18^w7>>>3^w7<<25^w7<<14)+(w4>>>17^w4>>>19^w4>>>10^w4<<15^w4<<13)+w6+w15|0;b=w6+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0x81c2c92e|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;w7=(w8>>>7^w8>>>18^w8>>>3^w8<<25^w8<<14)+(w5>>>17^w5>>>19^w5>>>10^w5<<15^w5<<13)+w7+w0|0;a=w7+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0x92722c85|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;w8=(w9>>>7^w9>>>18^w9>>>3^w9<<25^w9<<14)+(w6>>>17^w6>>>19^w6>>>10^w6<<15^w6<<13)+w8+w1|0;h=w8+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0xa2bfe8a1|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;w9=(w10>>>7^w10>>>18^w10>>>3^w10<<25^w10<<14)+(w7>>>17^w7>>>19^w7>>>10^w7<<15^w7<<13)+w9+w2|0;g=w9+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0xa81a664b|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;w10=(w11>>>7^w11>>>18^w11>>>3^w11<<25^w11<<14)+(w8>>>17^w8>>>19^w8>>>10^w8<<15^w8<<13)+w10+w3|0;f=w10+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0xc24b8b70|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;w11=(w12>>>7^w12>>>18^w12>>>3^w12<<25^w12<<14)+(w9>>>17^w9>>>19^w9>>>10^w9<<15^w9<<13)+w11+w4|0;e=w11+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0xc76c51a3|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;w12=(w13>>>7^w13>>>18^w13>>>3^w13<<25^w13<<14)+(w10>>>17^w10>>>19^w10>>>10^w10<<15^w10<<13)+w12+w5|0;d=w12+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0xd192e819|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;w13=(w14>>>7^w14>>>18^w14>>>3^w14<<25^w14<<14)+(w11>>>17^w11>>>19^w11>>>10^w11<<15^w11<<13)+w13+w6|0;c=w13+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0xd6990624|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;w14=(w15>>>7^w15>>>18^w15>>>3^w15<<25^w15<<14)+(w12>>>17^w12>>>19^w12>>>10^w12<<15^w12<<13)+w14+w7|0;b=w14+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0xf40e3585|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;w15=(w0>>>7^w0>>>18^w0>>>3^w0<<25^w0<<14)+(w13>>>17^w13>>>19^w13>>>10^w13<<15^w13<<13)+w15+w8|0;a=w15+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0x106aa070|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;w0=(w1>>>7^w1>>>18^w1>>>3^w1<<25^w1<<14)+(w14>>>17^w14>>>19^w14>>>10^w14<<15^w14<<13)+w0+w9|0;h=w0+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0x19a4c116|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;w1=(w2>>>7^w2>>>18^w2>>>3^w2<<25^w2<<14)+(w15>>>17^w15>>>19^w15>>>10^w15<<15^w15<<13)+w1+w10|0;g=w1+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0x1e376c08|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;w2=(w3>>>7^w3>>>18^w3>>>3^w3<<25^w3<<14)+(w0>>>17^w0>>>19^w0>>>10^w0<<15^w0<<13)+w2+w11|0;f=w2+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0x2748774c|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;w3=(w4>>>7^w4>>>18^w4>>>3^w4<<25^w4<<14)+(w1>>>17^w1>>>19^w1>>>10^w1<<15^w1<<13)+w3+w12|0;e=w3+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0x34b0bcb5|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;w4=(w5>>>7^w5>>>18^w5>>>3^w5<<25^w5<<14)+(w2>>>17^w2>>>19^w2>>>10^w2<<15^w2<<13)+w4+w13|0;d=w4+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0x391c0cb3|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;w5=(w6>>>7^w6>>>18^w6>>>3^w6<<25^w6<<14)+(w3>>>17^w3>>>19^w3>>>10^w3<<15^w3<<13)+w5+w14|0;c=w5+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0x4ed8aa4a|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;w6=(w7>>>7^w7>>>18^w7>>>3^w7<<25^w7<<14)+(w4>>>17^w4>>>19^w4>>>10^w4<<15^w4<<13)+w6+w15|0;b=w6+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0x5b9cca4f|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;w7=(w8>>>7^w8>>>18^w8>>>3^w8<<25^w8<<14)+(w5>>>17^w5>>>19^w5>>>10^w5<<15^w5<<13)+w7+w0|0;a=w7+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0x682e6ff3|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;w8=(w9>>>7^w9>>>18^w9>>>3^w9<<25^w9<<14)+(w6>>>17^w6>>>19^w6>>>10^w6<<15^w6<<13)+w8+w1|0;h=w8+h+(e>>>6^e>>>11^e>>>25^e<<26^e<<21^e<<7)+(g^e&(f^g))+0x748f82ee|0;d=d+h|0;h=h+(a&b^c&(a^b))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;w9=(w10>>>7^w10>>>18^w10>>>3^w10<<25^w10<<14)+(w7>>>17^w7>>>19^w7>>>10^w7<<15^w7<<13)+w9+w2|0;g=w9+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(e^f))+0x78a5636f|0;c=c+g|0;g=g+(h&a^b&(h^a))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;w10=(w11>>>7^w11>>>18^w11>>>3^w11<<25^w11<<14)+(w8>>>17^w8>>>19^w8>>>10^w8<<15^w8<<13)+w10+w3|0;f=w10+f+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(e^c&(d^e))+0x84c87814|0;b=b+f|0;f=f+(g&h^a&(g^h))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10)|0;w11=(w12>>>7^w12>>>18^w12>>>3^w12<<25^w12<<14)+(w9>>>17^w9>>>19^w9>>>10^w9<<15^w9<<13)+w11+w4|0;e=w11+e+(b>>>6^b>>>11^b>>>25^b<<26^b<<21^b<<7)+(d^b&(c^d))+0x8cc70208|0;a=a+e|0;e=e+(f&g^h&(f^g))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;w12=(w13>>>7^w13>>>18^w13>>>3^w13<<25^w13<<14)+(w10>>>17^w10>>>19^w10>>>10^w10<<15^w10<<13)+w12+w5|0;d=w12+d+(a>>>6^a>>>11^a>>>25^a<<26^a<<21^a<<7)+(c^a&(b^c))+0x90befffa|0;h=h+d|0;d=d+(e&f^g&(e^f))+(e>>>2^e>>>13^e>>>22^e<<30^e<<19^e<<10)|0;w13=(w14>>>7^w14>>>18^w14>>>3^w14<<25^w14<<14)+(w11>>>17^w11>>>19^w11>>>10^w11<<15^w11<<13)+w13+w6|0;c=w13+c+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(b^h&(a^b))+0xa4506ceb|0;g=g+c|0;c=c+(d&e^f&(d^e))+(d>>>2^d>>>13^d>>>22^d<<30^d<<19^d<<10)|0;w14=(w15>>>7^w15>>>18^w15>>>3^w15<<25^w15<<14)+(w12>>>17^w12>>>19^w12>>>10^w12<<15^w12<<13)+w14+w7|0;b=w14+b+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(a^g&(h^a))+0xbef9a3f7|0;f=f+b|0;b=b+(c&d^e&(c^d))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;w15=(w0>>>7^w0>>>18^w0>>>3^w0<<25^w0<<14)+(w13>>>17^w13>>>19^w13>>>10^w13<<15^w13<<13)+w15+w8|0;a=w15+a+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(g^h))+0xc67178f2|0;e=e+a|0;a=a+(b&c^d&(b^c))+(b>>>2^b>>>13^b>>>22^b<<30^b<<19^b<<10)|0;H0=H0+a|0;H1=H1+b|0;H2=H2+c|0;H3=H3+d|0;H4=H4+e|0;H5=H5+f|0;H6=H6+g|0;H7=H7+h|0;}function _core_heap(offset){offset=offset|0;_core(HEAP[offset|0]<<24|HEAP[offset|1]<<16|HEAP[offset|2]<<8|HEAP[offset|3],HEAP[offset|4]<<24|HEAP[offset|5]<<16|HEAP[offset|6]<<8|HEAP[offset|7],HEAP[offset|8]<<24|HEAP[offset|9]<<16|HEAP[offset|10]<<8|HEAP[offset|11],HEAP[offset|12]<<24|HEAP[offset|13]<<16|HEAP[offset|14]<<8|HEAP[offset|15],HEAP[offset|16]<<24|HEAP[offset|17]<<16|HEAP[offset|18]<<8|HEAP[offset|19],HEAP[offset|20]<<24|HEAP[offset|21]<<16|HEAP[offset|22]<<8|HEAP[offset|23],HEAP[offset|24]<<24|HEAP[offset|25]<<16|HEAP[offset|26]<<8|HEAP[offset|27],HEAP[offset|28]<<24|HEAP[offset|29]<<16|HEAP[offset|30]<<8|HEAP[offset|31],HEAP[offset|32]<<24|HEAP[offset|33]<<16|HEAP[offset|34]<<8|HEAP[offset|35],HEAP[offset|36]<<24|HEAP[offset|37]<<16|HEAP[offset|38]<<8|HEAP[offset|39],HEAP[offset|40]<<24|HEAP[offset|41]<<16|HEAP[offset|42]<<8|HEAP[offset|43],HEAP[offset|44]<<24|HEAP[offset|45]<<16|HEAP[offset|46]<<8|HEAP[offset|47],HEAP[offset|48]<<24|HEAP[offset|49]<<16|HEAP[offset|50]<<8|HEAP[offset|51],HEAP[offset|52]<<24|HEAP[offset|53]<<16|HEAP[offset|54]<<8|HEAP[offset|55],HEAP[offset|56]<<24|HEAP[offset|57]<<16|HEAP[offset|58]<<8|HEAP[offset|59],HEAP[offset|60]<<24|HEAP[offset|61]<<16|HEAP[offset|62]<<8|HEAP[offset|63]);}function _state_to_heap(output){output=output|0;HEAP[output|0]=H0>>>24;HEAP[output|1]=H0>>>16&255;HEAP[output|2]=H0>>>8&255;HEAP[output|3]=H0&255;HEAP[output|4]=H1>>>24;HEAP[output|5]=H1>>>16&255;HEAP[output|6]=H1>>>8&255;HEAP[output|7]=H1&255;HEAP[output|8]=H2>>>24;HEAP[output|9]=H2>>>16&255;HEAP[output|10]=H2>>>8&255;HEAP[output|11]=H2&255;HEAP[output|12]=H3>>>24;HEAP[output|13]=H3>>>16&255;HEAP[output|14]=H3>>>8&255;HEAP[output|15]=H3&255;HEAP[output|16]=H4>>>24;HEAP[output|17]=H4>>>16&255;HEAP[output|18]=H4>>>8&255;HEAP[output|19]=H4&255;HEAP[output|20]=H5>>>24;HEAP[output|21]=H5>>>16&255;HEAP[output|22]=H5>>>8&255;HEAP[output|23]=H5&255;HEAP[output|24]=H6>>>24;HEAP[output|25]=H6>>>16&255;HEAP[output|26]=H6>>>8&255;HEAP[output|27]=H6&255;HEAP[output|28]=H7>>>24;HEAP[output|29]=H7>>>16&255;HEAP[output|30]=H7>>>8&255;HEAP[output|31]=H7&255;}function reset(){H0=0x6a09e667;H1=0xbb67ae85;H2=0x3c6ef372;H3=0xa54ff53a;H4=0x510e527f;H5=0x9b05688c;H6=0x1f83d9ab;H7=0x5be0cd19;TOTAL0=TOTAL1=0;}function init(h0,h1,h2,h3,h4,h5,h6,h7,total0,total1){h0=h0|0;h1=h1|0;h2=h2|0;h3=h3|0;h4=h4|0;h5=h5|0;h6=h6|0;h7=h7|0;total0=total0|0;total1=total1|0;H0=h0;H1=h1;H2=h2;H3=h3;H4=h4;H5=h5;H6=h6;H7=h7;TOTAL0=total0;TOTAL1=total1;}function process(offset,length){offset=offset|0;length=length|0;var hashed=0;if(offset&63)return -1;while((length|0)>=64){_core_heap(offset);offset=offset+64|0;length=length-64|0;hashed=hashed+64|0;}TOTAL0=TOTAL0+hashed|0;if(TOTAL0>>>0<hashed>>>0)TOTAL1=TOTAL1+1|0;return hashed|0;}function finish(offset,length,output){offset=offset|0;length=length|0;output=output|0;var hashed=0,i=0;if(offset&63)return -1;if(~output)if(output&31)return -1;if((length|0)>=64){hashed=process(offset,length)|0;if((hashed|0)==-1)return -1;offset=offset+hashed|0;length=length-hashed|0;}hashed=hashed+length|0;TOTAL0=TOTAL0+length|0;if(TOTAL0>>>0<length>>>0)TOTAL1=TOTAL1+1|0;HEAP[offset|length]=0x80;if((length|0)>=56){for(i=length+1|0;(i|0)<64;i=i+1|0){HEAP[offset|i]=0x00;}_core_heap(offset);length=0;HEAP[offset|0]=0;}for(i=length+1|0;(i|0)<59;i=i+1|0){HEAP[offset|i]=0;}HEAP[offset|56]=TOTAL1>>>21&255;HEAP[offset|57]=TOTAL1>>>13&255;HEAP[offset|58]=TOTAL1>>>5&255;HEAP[offset|59]=TOTAL1<<3&255|TOTAL0>>>29;HEAP[offset|60]=TOTAL0>>>21&255;HEAP[offset|61]=TOTAL0>>>13&255;HEAP[offset|62]=TOTAL0>>>5&255;HEAP[offset|63]=TOTAL0<<3&255;_core_heap(offset);if(~output)_state_to_heap(output);return hashed|0;}function hmac_reset(){H0=I0;H1=I1;H2=I2;H3=I3;H4=I4;H5=I5;H6=I6;H7=I7;TOTAL0=64;TOTAL1=0;}function _hmac_opad(){H0=O0;H1=O1;H2=O2;H3=O3;H4=O4;H5=O5;H6=O6;H7=O7;TOTAL0=64;TOTAL1=0;}function hmac_init(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15){p0=p0|0;p1=p1|0;p2=p2|0;p3=p3|0;p4=p4|0;p5=p5|0;p6=p6|0;p7=p7|0;p8=p8|0;p9=p9|0;p10=p10|0;p11=p11|0;p12=p12|0;p13=p13|0;p14=p14|0;p15=p15|0;reset();_core(p0^0x5c5c5c5c,p1^0x5c5c5c5c,p2^0x5c5c5c5c,p3^0x5c5c5c5c,p4^0x5c5c5c5c,p5^0x5c5c5c5c,p6^0x5c5c5c5c,p7^0x5c5c5c5c,p8^0x5c5c5c5c,p9^0x5c5c5c5c,p10^0x5c5c5c5c,p11^0x5c5c5c5c,p12^0x5c5c5c5c,p13^0x5c5c5c5c,p14^0x5c5c5c5c,p15^0x5c5c5c5c);O0=H0;O1=H1;O2=H2;O3=H3;O4=H4;O5=H5;O6=H6;O7=H7;reset();_core(p0^0x36363636,p1^0x36363636,p2^0x36363636,p3^0x36363636,p4^0x36363636,p5^0x36363636,p6^0x36363636,p7^0x36363636,p8^0x36363636,p9^0x36363636,p10^0x36363636,p11^0x36363636,p12^0x36363636,p13^0x36363636,p14^0x36363636,p15^0x36363636);I0=H0;I1=H1;I2=H2;I3=H3;I4=H4;I5=H5;I6=H6;I7=H7;TOTAL0=64;TOTAL1=0;}function hmac_finish(offset,length,output){offset=offset|0;length=length|0;output=output|0;var t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,hashed=0;if(offset&63)return -1;if(~output)if(output&31)return -1;hashed=finish(offset,length,-1)|0;t0=H0,t1=H1,t2=H2,t3=H3,t4=H4,t5=H5,t6=H6,t7=H7;_hmac_opad();_core(t0,t1,t2,t3,t4,t5,t6,t7,0x80000000,0,0,0,0,0,0,768);if(~output)_state_to_heap(output);return hashed|0;}function pbkdf2_generate_block(offset,length,block,count,output){offset=offset|0;length=length|0;block=block|0;count=count|0;output=output|0;var h0=0,h1=0,h2=0,h3=0,h4=0,h5=0,h6=0,h7=0,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0;if(offset&63)return -1;if(~output)if(output&31)return -1;HEAP[offset+length|0]=block>>>24;HEAP[offset+length+1|0]=block>>>16&255;HEAP[offset+length+2|0]=block>>>8&255;HEAP[offset+length+3|0]=block&255;hmac_finish(offset,length+4|0,-1)|0;h0=t0=H0,h1=t1=H1,h2=t2=H2,h3=t3=H3,h4=t4=H4,h5=t5=H5,h6=t6=H6,h7=t7=H7;count=count-1|0;while((count|0)>0){hmac_reset();_core(t0,t1,t2,t3,t4,t5,t6,t7,0x80000000,0,0,0,0,0,0,768);t0=H0,t1=H1,t2=H2,t3=H3,t4=H4,t5=H5,t6=H6,t7=H7;_hmac_opad();_core(t0,t1,t2,t3,t4,t5,t6,t7,0x80000000,0,0,0,0,0,0,768);t0=H0,t1=H1,t2=H2,t3=H3,t4=H4,t5=H5,t6=H6,t7=H7;h0=h0^H0;h1=h1^H1;h2=h2^H2;h3=h3^H3;h4=h4^H4;h5=h5^H5;h6=h6^H6;h7=h7^H7;count=count-1|0;}H0=h0;H1=h1;H2=h2;H3=h3;H4=h4;H5=h5;H6=h6;H7=h7;if(~output)_state_to_heap(output);return 0;}return {reset:reset,init:init,process:process,finish:finish,hmac_reset:hmac_reset,hmac_init:hmac_init,hmac_finish:hmac_finish,pbkdf2_generate_block:pbkdf2_generate_block};};var _sha256_block_size=64;var _sha256_hash_size=32;var Sha256=/*#__PURE__*/function(_Hash2){_inherits(Sha256,_Hash2);function Sha256(){var _this79;_classCallCheck(this,Sha256);_this79=_possibleConstructorReturn(this,_getPrototypeOf(Sha256).call(this));_this79.NAME='sha256';_this79.BLOCK_SIZE=_sha256_block_size;_this79.HASH_SIZE=_sha256_hash_size;_this79.heap=_heap_init();_this79.asm=sha256_asm({Uint8Array:Uint8Array},null,_this79.heap.buffer);_this79.reset();return _this79;}return Sha256;}(Hash);Sha256.NAME='sha256';var sha512_asm=function sha512_asm(stdlib,foreign,buffer){"use asm";var H0h=0,H0l=0,H1h=0,H1l=0,H2h=0,H2l=0,H3h=0,H3l=0,H4h=0,H4l=0,H5h=0,H5l=0,H6h=0,H6l=0,H7h=0,H7l=0,TOTAL0=0,TOTAL1=0;var I0h=0,I0l=0,I1h=0,I1l=0,I2h=0,I2l=0,I3h=0,I3l=0,I4h=0,I4l=0,I5h=0,I5l=0,I6h=0,I6l=0,I7h=0,I7l=0,O0h=0,O0l=0,O1h=0,O1l=0,O2h=0,O2l=0,O3h=0,O3l=0,O4h=0,O4l=0,O5h=0,O5l=0,O6h=0,O6l=0,O7h=0,O7l=0;var HEAP=new stdlib.Uint8Array(buffer);function _core(w0h,w0l,w1h,w1l,w2h,w2l,w3h,w3l,w4h,w4l,w5h,w5l,w6h,w6l,w7h,w7l,w8h,w8l,w9h,w9l,w10h,w10l,w11h,w11l,w12h,w12l,w13h,w13l,w14h,w14l,w15h,w15l){w0h=w0h|0;w0l=w0l|0;w1h=w1h|0;w1l=w1l|0;w2h=w2h|0;w2l=w2l|0;w3h=w3h|0;w3l=w3l|0;w4h=w4h|0;w4l=w4l|0;w5h=w5h|0;w5l=w5l|0;w6h=w6h|0;w6l=w6l|0;w7h=w7h|0;w7l=w7l|0;w8h=w8h|0;w8l=w8l|0;w9h=w9h|0;w9l=w9l|0;w10h=w10h|0;w10l=w10l|0;w11h=w11h|0;w11l=w11l|0;w12h=w12h|0;w12l=w12l|0;w13h=w13h|0;w13l=w13l|0;w14h=w14h|0;w14l=w14l|0;w15h=w15h|0;w15l=w15l|0;var ah=0,al=0,bh=0,bl=0,ch=0,cl=0,dh=0,dl=0,eh=0,el=0,fh=0,fl=0,gh=0,gl=0,hh=0,hl=0,th=0,tl=0,xl=0;ah=H0h;al=H0l;bh=H1h;bl=H1l;ch=H2h;cl=H2l;dh=H3h;dl=H3l;eh=H4h;el=H4l;fh=H5h;fl=H5l;gh=H6h;gl=H6l;hh=H7h;hl=H7l;tl=0xd728ae22+w0l|0;th=0x428a2f98+w0h+(tl>>>0<w0l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0x23ef65cd+w1l|0;th=0x71374491+w1h+(tl>>>0<w1l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xec4d3b2f+w2l|0;th=0xb5c0fbcf+w2h+(tl>>>0<w2l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0x8189dbbc+w3l|0;th=0xe9b5dba5+w3h+(tl>>>0<w3l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xf348b538+w4l|0;th=0x3956c25b+w4h+(tl>>>0<w4l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xb605d019+w5l|0;th=0x59f111f1+w5h+(tl>>>0<w5l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xaf194f9b+w6l|0;th=0x923f82a4+w6h+(tl>>>0<w6l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xda6d8118+w7l|0;th=0xab1c5ed5+w7h+(tl>>>0<w7l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xa3030242+w8l|0;th=0xd807aa98+w8h+(tl>>>0<w8l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0x45706fbe+w9l|0;th=0x12835b01+w9h+(tl>>>0<w9l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0x4ee4b28c+w10l|0;th=0x243185be+w10h+(tl>>>0<w10l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xd5ffb4e2+w11l|0;th=0x550c7dc3+w11h+(tl>>>0<w11l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xf27b896f+w12l|0;th=0x72be5d74+w12h+(tl>>>0<w12l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0x3b1696b1+w13l|0;th=0x80deb1fe+w13h+(tl>>>0<w13l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0x25c71235+w14l|0;th=0x9bdc06a7+w14h+(tl>>>0<w14l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;tl=0xcf692694+w15l|0;th=0xc19bf174+w15h+(tl>>>0<w15l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w0l=w0l+w9l|0;w0h=w0h+w9h+(w0l>>>0<w9l>>>0?1:0)|0;xl=(w1l>>>1|w1h<<31)^(w1l>>>8|w1h<<24)^(w1l>>>7|w1h<<25)|0;w0l=w0l+xl|0;w0h=w0h+((w1h>>>1|w1l<<31)^(w1h>>>8|w1l<<24)^w1h>>>7)+(w0l>>>0<xl>>>0?1:0)|0;xl=(w14l>>>19|w14h<<13)^(w14l<<3|w14h>>>29)^(w14l>>>6|w14h<<26)|0;w0l=w0l+xl|0;w0h=w0h+((w14h>>>19|w14l<<13)^(w14h<<3|w14l>>>29)^w14h>>>6)+(w0l>>>0<xl>>>0?1:0)|0;tl=0x9ef14ad2+w0l|0;th=0xe49b69c1+w0h+(tl>>>0<w0l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w1l=w1l+w10l|0;w1h=w1h+w10h+(w1l>>>0<w10l>>>0?1:0)|0;xl=(w2l>>>1|w2h<<31)^(w2l>>>8|w2h<<24)^(w2l>>>7|w2h<<25)|0;w1l=w1l+xl|0;w1h=w1h+((w2h>>>1|w2l<<31)^(w2h>>>8|w2l<<24)^w2h>>>7)+(w1l>>>0<xl>>>0?1:0)|0;xl=(w15l>>>19|w15h<<13)^(w15l<<3|w15h>>>29)^(w15l>>>6|w15h<<26)|0;w1l=w1l+xl|0;w1h=w1h+((w15h>>>19|w15l<<13)^(w15h<<3|w15l>>>29)^w15h>>>6)+(w1l>>>0<xl>>>0?1:0)|0;tl=0x384f25e3+w1l|0;th=0xefbe4786+w1h+(tl>>>0<w1l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w2l=w2l+w11l|0;w2h=w2h+w11h+(w2l>>>0<w11l>>>0?1:0)|0;xl=(w3l>>>1|w3h<<31)^(w3l>>>8|w3h<<24)^(w3l>>>7|w3h<<25)|0;w2l=w2l+xl|0;w2h=w2h+((w3h>>>1|w3l<<31)^(w3h>>>8|w3l<<24)^w3h>>>7)+(w2l>>>0<xl>>>0?1:0)|0;xl=(w0l>>>19|w0h<<13)^(w0l<<3|w0h>>>29)^(w0l>>>6|w0h<<26)|0;w2l=w2l+xl|0;w2h=w2h+((w0h>>>19|w0l<<13)^(w0h<<3|w0l>>>29)^w0h>>>6)+(w2l>>>0<xl>>>0?1:0)|0;tl=0x8b8cd5b5+w2l|0;th=0xfc19dc6+w2h+(tl>>>0<w2l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w3l=w3l+w12l|0;w3h=w3h+w12h+(w3l>>>0<w12l>>>0?1:0)|0;xl=(w4l>>>1|w4h<<31)^(w4l>>>8|w4h<<24)^(w4l>>>7|w4h<<25)|0;w3l=w3l+xl|0;w3h=w3h+((w4h>>>1|w4l<<31)^(w4h>>>8|w4l<<24)^w4h>>>7)+(w3l>>>0<xl>>>0?1:0)|0;xl=(w1l>>>19|w1h<<13)^(w1l<<3|w1h>>>29)^(w1l>>>6|w1h<<26)|0;w3l=w3l+xl|0;w3h=w3h+((w1h>>>19|w1l<<13)^(w1h<<3|w1l>>>29)^w1h>>>6)+(w3l>>>0<xl>>>0?1:0)|0;tl=0x77ac9c65+w3l|0;th=0x240ca1cc+w3h+(tl>>>0<w3l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w4l=w4l+w13l|0;w4h=w4h+w13h+(w4l>>>0<w13l>>>0?1:0)|0;xl=(w5l>>>1|w5h<<31)^(w5l>>>8|w5h<<24)^(w5l>>>7|w5h<<25)|0;w4l=w4l+xl|0;w4h=w4h+((w5h>>>1|w5l<<31)^(w5h>>>8|w5l<<24)^w5h>>>7)+(w4l>>>0<xl>>>0?1:0)|0;xl=(w2l>>>19|w2h<<13)^(w2l<<3|w2h>>>29)^(w2l>>>6|w2h<<26)|0;w4l=w4l+xl|0;w4h=w4h+((w2h>>>19|w2l<<13)^(w2h<<3|w2l>>>29)^w2h>>>6)+(w4l>>>0<xl>>>0?1:0)|0;tl=0x592b0275+w4l|0;th=0x2de92c6f+w4h+(tl>>>0<w4l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w5l=w5l+w14l|0;w5h=w5h+w14h+(w5l>>>0<w14l>>>0?1:0)|0;xl=(w6l>>>1|w6h<<31)^(w6l>>>8|w6h<<24)^(w6l>>>7|w6h<<25)|0;w5l=w5l+xl|0;w5h=w5h+((w6h>>>1|w6l<<31)^(w6h>>>8|w6l<<24)^w6h>>>7)+(w5l>>>0<xl>>>0?1:0)|0;xl=(w3l>>>19|w3h<<13)^(w3l<<3|w3h>>>29)^(w3l>>>6|w3h<<26)|0;w5l=w5l+xl|0;w5h=w5h+((w3h>>>19|w3l<<13)^(w3h<<3|w3l>>>29)^w3h>>>6)+(w5l>>>0<xl>>>0?1:0)|0;tl=0x6ea6e483+w5l|0;th=0x4a7484aa+w5h+(tl>>>0<w5l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w6l=w6l+w15l|0;w6h=w6h+w15h+(w6l>>>0<w15l>>>0?1:0)|0;xl=(w7l>>>1|w7h<<31)^(w7l>>>8|w7h<<24)^(w7l>>>7|w7h<<25)|0;w6l=w6l+xl|0;w6h=w6h+((w7h>>>1|w7l<<31)^(w7h>>>8|w7l<<24)^w7h>>>7)+(w6l>>>0<xl>>>0?1:0)|0;xl=(w4l>>>19|w4h<<13)^(w4l<<3|w4h>>>29)^(w4l>>>6|w4h<<26)|0;w6l=w6l+xl|0;w6h=w6h+((w4h>>>19|w4l<<13)^(w4h<<3|w4l>>>29)^w4h>>>6)+(w6l>>>0<xl>>>0?1:0)|0;tl=0xbd41fbd4+w6l|0;th=0x5cb0a9dc+w6h+(tl>>>0<w6l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w7l=w7l+w0l|0;w7h=w7h+w0h+(w7l>>>0<w0l>>>0?1:0)|0;xl=(w8l>>>1|w8h<<31)^(w8l>>>8|w8h<<24)^(w8l>>>7|w8h<<25)|0;w7l=w7l+xl|0;w7h=w7h+((w8h>>>1|w8l<<31)^(w8h>>>8|w8l<<24)^w8h>>>7)+(w7l>>>0<xl>>>0?1:0)|0;xl=(w5l>>>19|w5h<<13)^(w5l<<3|w5h>>>29)^(w5l>>>6|w5h<<26)|0;w7l=w7l+xl|0;w7h=w7h+((w5h>>>19|w5l<<13)^(w5h<<3|w5l>>>29)^w5h>>>6)+(w7l>>>0<xl>>>0?1:0)|0;tl=0x831153b5+w7l|0;th=0x76f988da+w7h+(tl>>>0<w7l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w8l=w8l+w1l|0;w8h=w8h+w1h+(w8l>>>0<w1l>>>0?1:0)|0;xl=(w9l>>>1|w9h<<31)^(w9l>>>8|w9h<<24)^(w9l>>>7|w9h<<25)|0;w8l=w8l+xl|0;w8h=w8h+((w9h>>>1|w9l<<31)^(w9h>>>8|w9l<<24)^w9h>>>7)+(w8l>>>0<xl>>>0?1:0)|0;xl=(w6l>>>19|w6h<<13)^(w6l<<3|w6h>>>29)^(w6l>>>6|w6h<<26)|0;w8l=w8l+xl|0;w8h=w8h+((w6h>>>19|w6l<<13)^(w6h<<3|w6l>>>29)^w6h>>>6)+(w8l>>>0<xl>>>0?1:0)|0;tl=0xee66dfab+w8l|0;th=0x983e5152+w8h+(tl>>>0<w8l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w9l=w9l+w2l|0;w9h=w9h+w2h+(w9l>>>0<w2l>>>0?1:0)|0;xl=(w10l>>>1|w10h<<31)^(w10l>>>8|w10h<<24)^(w10l>>>7|w10h<<25)|0;w9l=w9l+xl|0;w9h=w9h+((w10h>>>1|w10l<<31)^(w10h>>>8|w10l<<24)^w10h>>>7)+(w9l>>>0<xl>>>0?1:0)|0;xl=(w7l>>>19|w7h<<13)^(w7l<<3|w7h>>>29)^(w7l>>>6|w7h<<26)|0;w9l=w9l+xl|0;w9h=w9h+((w7h>>>19|w7l<<13)^(w7h<<3|w7l>>>29)^w7h>>>6)+(w9l>>>0<xl>>>0?1:0)|0;tl=0x2db43210+w9l|0;th=0xa831c66d+w9h+(tl>>>0<w9l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w10l=w10l+w3l|0;w10h=w10h+w3h+(w10l>>>0<w3l>>>0?1:0)|0;xl=(w11l>>>1|w11h<<31)^(w11l>>>8|w11h<<24)^(w11l>>>7|w11h<<25)|0;w10l=w10l+xl|0;w10h=w10h+((w11h>>>1|w11l<<31)^(w11h>>>8|w11l<<24)^w11h>>>7)+(w10l>>>0<xl>>>0?1:0)|0;xl=(w8l>>>19|w8h<<13)^(w8l<<3|w8h>>>29)^(w8l>>>6|w8h<<26)|0;w10l=w10l+xl|0;w10h=w10h+((w8h>>>19|w8l<<13)^(w8h<<3|w8l>>>29)^w8h>>>6)+(w10l>>>0<xl>>>0?1:0)|0;tl=0x98fb213f+w10l|0;th=0xb00327c8+w10h+(tl>>>0<w10l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w11l=w11l+w4l|0;w11h=w11h+w4h+(w11l>>>0<w4l>>>0?1:0)|0;xl=(w12l>>>1|w12h<<31)^(w12l>>>8|w12h<<24)^(w12l>>>7|w12h<<25)|0;w11l=w11l+xl|0;w11h=w11h+((w12h>>>1|w12l<<31)^(w12h>>>8|w12l<<24)^w12h>>>7)+(w11l>>>0<xl>>>0?1:0)|0;xl=(w9l>>>19|w9h<<13)^(w9l<<3|w9h>>>29)^(w9l>>>6|w9h<<26)|0;w11l=w11l+xl|0;w11h=w11h+((w9h>>>19|w9l<<13)^(w9h<<3|w9l>>>29)^w9h>>>6)+(w11l>>>0<xl>>>0?1:0)|0;tl=0xbeef0ee4+w11l|0;th=0xbf597fc7+w11h+(tl>>>0<w11l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w12l=w12l+w5l|0;w12h=w12h+w5h+(w12l>>>0<w5l>>>0?1:0)|0;xl=(w13l>>>1|w13h<<31)^(w13l>>>8|w13h<<24)^(w13l>>>7|w13h<<25)|0;w12l=w12l+xl|0;w12h=w12h+((w13h>>>1|w13l<<31)^(w13h>>>8|w13l<<24)^w13h>>>7)+(w12l>>>0<xl>>>0?1:0)|0;xl=(w10l>>>19|w10h<<13)^(w10l<<3|w10h>>>29)^(w10l>>>6|w10h<<26)|0;w12l=w12l+xl|0;w12h=w12h+((w10h>>>19|w10l<<13)^(w10h<<3|w10l>>>29)^w10h>>>6)+(w12l>>>0<xl>>>0?1:0)|0;tl=0x3da88fc2+w12l|0;th=0xc6e00bf3+w12h+(tl>>>0<w12l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w13l=w13l+w6l|0;w13h=w13h+w6h+(w13l>>>0<w6l>>>0?1:0)|0;xl=(w14l>>>1|w14h<<31)^(w14l>>>8|w14h<<24)^(w14l>>>7|w14h<<25)|0;w13l=w13l+xl|0;w13h=w13h+((w14h>>>1|w14l<<31)^(w14h>>>8|w14l<<24)^w14h>>>7)+(w13l>>>0<xl>>>0?1:0)|0;xl=(w11l>>>19|w11h<<13)^(w11l<<3|w11h>>>29)^(w11l>>>6|w11h<<26)|0;w13l=w13l+xl|0;w13h=w13h+((w11h>>>19|w11l<<13)^(w11h<<3|w11l>>>29)^w11h>>>6)+(w13l>>>0<xl>>>0?1:0)|0;tl=0x930aa725+w13l|0;th=0xd5a79147+w13h+(tl>>>0<w13l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w14l=w14l+w7l|0;w14h=w14h+w7h+(w14l>>>0<w7l>>>0?1:0)|0;xl=(w15l>>>1|w15h<<31)^(w15l>>>8|w15h<<24)^(w15l>>>7|w15h<<25)|0;w14l=w14l+xl|0;w14h=w14h+((w15h>>>1|w15l<<31)^(w15h>>>8|w15l<<24)^w15h>>>7)+(w14l>>>0<xl>>>0?1:0)|0;xl=(w12l>>>19|w12h<<13)^(w12l<<3|w12h>>>29)^(w12l>>>6|w12h<<26)|0;w14l=w14l+xl|0;w14h=w14h+((w12h>>>19|w12l<<13)^(w12h<<3|w12l>>>29)^w12h>>>6)+(w14l>>>0<xl>>>0?1:0)|0;tl=0xe003826f+w14l|0;th=0x6ca6351+w14h+(tl>>>0<w14l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w15l=w15l+w8l|0;w15h=w15h+w8h+(w15l>>>0<w8l>>>0?1:0)|0;xl=(w0l>>>1|w0h<<31)^(w0l>>>8|w0h<<24)^(w0l>>>7|w0h<<25)|0;w15l=w15l+xl|0;w15h=w15h+((w0h>>>1|w0l<<31)^(w0h>>>8|w0l<<24)^w0h>>>7)+(w15l>>>0<xl>>>0?1:0)|0;xl=(w13l>>>19|w13h<<13)^(w13l<<3|w13h>>>29)^(w13l>>>6|w13h<<26)|0;w15l=w15l+xl|0;w15h=w15h+((w13h>>>19|w13l<<13)^(w13h<<3|w13l>>>29)^w13h>>>6)+(w15l>>>0<xl>>>0?1:0)|0;tl=0xa0e6e70+w15l|0;th=0x14292967+w15h+(tl>>>0<w15l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w0l=w0l+w9l|0;w0h=w0h+w9h+(w0l>>>0<w9l>>>0?1:0)|0;xl=(w1l>>>1|w1h<<31)^(w1l>>>8|w1h<<24)^(w1l>>>7|w1h<<25)|0;w0l=w0l+xl|0;w0h=w0h+((w1h>>>1|w1l<<31)^(w1h>>>8|w1l<<24)^w1h>>>7)+(w0l>>>0<xl>>>0?1:0)|0;xl=(w14l>>>19|w14h<<13)^(w14l<<3|w14h>>>29)^(w14l>>>6|w14h<<26)|0;w0l=w0l+xl|0;w0h=w0h+((w14h>>>19|w14l<<13)^(w14h<<3|w14l>>>29)^w14h>>>6)+(w0l>>>0<xl>>>0?1:0)|0;tl=0x46d22ffc+w0l|0;th=0x27b70a85+w0h+(tl>>>0<w0l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w1l=w1l+w10l|0;w1h=w1h+w10h+(w1l>>>0<w10l>>>0?1:0)|0;xl=(w2l>>>1|w2h<<31)^(w2l>>>8|w2h<<24)^(w2l>>>7|w2h<<25)|0;w1l=w1l+xl|0;w1h=w1h+((w2h>>>1|w2l<<31)^(w2h>>>8|w2l<<24)^w2h>>>7)+(w1l>>>0<xl>>>0?1:0)|0;xl=(w15l>>>19|w15h<<13)^(w15l<<3|w15h>>>29)^(w15l>>>6|w15h<<26)|0;w1l=w1l+xl|0;w1h=w1h+((w15h>>>19|w15l<<13)^(w15h<<3|w15l>>>29)^w15h>>>6)+(w1l>>>0<xl>>>0?1:0)|0;tl=0x5c26c926+w1l|0;th=0x2e1b2138+w1h+(tl>>>0<w1l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w2l=w2l+w11l|0;w2h=w2h+w11h+(w2l>>>0<w11l>>>0?1:0)|0;xl=(w3l>>>1|w3h<<31)^(w3l>>>8|w3h<<24)^(w3l>>>7|w3h<<25)|0;w2l=w2l+xl|0;w2h=w2h+((w3h>>>1|w3l<<31)^(w3h>>>8|w3l<<24)^w3h>>>7)+(w2l>>>0<xl>>>0?1:0)|0;xl=(w0l>>>19|w0h<<13)^(w0l<<3|w0h>>>29)^(w0l>>>6|w0h<<26)|0;w2l=w2l+xl|0;w2h=w2h+((w0h>>>19|w0l<<13)^(w0h<<3|w0l>>>29)^w0h>>>6)+(w2l>>>0<xl>>>0?1:0)|0;tl=0x5ac42aed+w2l|0;th=0x4d2c6dfc+w2h+(tl>>>0<w2l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w3l=w3l+w12l|0;w3h=w3h+w12h+(w3l>>>0<w12l>>>0?1:0)|0;xl=(w4l>>>1|w4h<<31)^(w4l>>>8|w4h<<24)^(w4l>>>7|w4h<<25)|0;w3l=w3l+xl|0;w3h=w3h+((w4h>>>1|w4l<<31)^(w4h>>>8|w4l<<24)^w4h>>>7)+(w3l>>>0<xl>>>0?1:0)|0;xl=(w1l>>>19|w1h<<13)^(w1l<<3|w1h>>>29)^(w1l>>>6|w1h<<26)|0;w3l=w3l+xl|0;w3h=w3h+((w1h>>>19|w1l<<13)^(w1h<<3|w1l>>>29)^w1h>>>6)+(w3l>>>0<xl>>>0?1:0)|0;tl=0x9d95b3df+w3l|0;th=0x53380d13+w3h+(tl>>>0<w3l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w4l=w4l+w13l|0;w4h=w4h+w13h+(w4l>>>0<w13l>>>0?1:0)|0;xl=(w5l>>>1|w5h<<31)^(w5l>>>8|w5h<<24)^(w5l>>>7|w5h<<25)|0;w4l=w4l+xl|0;w4h=w4h+((w5h>>>1|w5l<<31)^(w5h>>>8|w5l<<24)^w5h>>>7)+(w4l>>>0<xl>>>0?1:0)|0;xl=(w2l>>>19|w2h<<13)^(w2l<<3|w2h>>>29)^(w2l>>>6|w2h<<26)|0;w4l=w4l+xl|0;w4h=w4h+((w2h>>>19|w2l<<13)^(w2h<<3|w2l>>>29)^w2h>>>6)+(w4l>>>0<xl>>>0?1:0)|0;tl=0x8baf63de+w4l|0;th=0x650a7354+w4h+(tl>>>0<w4l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w5l=w5l+w14l|0;w5h=w5h+w14h+(w5l>>>0<w14l>>>0?1:0)|0;xl=(w6l>>>1|w6h<<31)^(w6l>>>8|w6h<<24)^(w6l>>>7|w6h<<25)|0;w5l=w5l+xl|0;w5h=w5h+((w6h>>>1|w6l<<31)^(w6h>>>8|w6l<<24)^w6h>>>7)+(w5l>>>0<xl>>>0?1:0)|0;xl=(w3l>>>19|w3h<<13)^(w3l<<3|w3h>>>29)^(w3l>>>6|w3h<<26)|0;w5l=w5l+xl|0;w5h=w5h+((w3h>>>19|w3l<<13)^(w3h<<3|w3l>>>29)^w3h>>>6)+(w5l>>>0<xl>>>0?1:0)|0;tl=0x3c77b2a8+w5l|0;th=0x766a0abb+w5h+(tl>>>0<w5l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w6l=w6l+w15l|0;w6h=w6h+w15h+(w6l>>>0<w15l>>>0?1:0)|0;xl=(w7l>>>1|w7h<<31)^(w7l>>>8|w7h<<24)^(w7l>>>7|w7h<<25)|0;w6l=w6l+xl|0;w6h=w6h+((w7h>>>1|w7l<<31)^(w7h>>>8|w7l<<24)^w7h>>>7)+(w6l>>>0<xl>>>0?1:0)|0;xl=(w4l>>>19|w4h<<13)^(w4l<<3|w4h>>>29)^(w4l>>>6|w4h<<26)|0;w6l=w6l+xl|0;w6h=w6h+((w4h>>>19|w4l<<13)^(w4h<<3|w4l>>>29)^w4h>>>6)+(w6l>>>0<xl>>>0?1:0)|0;tl=0x47edaee6+w6l|0;th=0x81c2c92e+w6h+(tl>>>0<w6l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w7l=w7l+w0l|0;w7h=w7h+w0h+(w7l>>>0<w0l>>>0?1:0)|0;xl=(w8l>>>1|w8h<<31)^(w8l>>>8|w8h<<24)^(w8l>>>7|w8h<<25)|0;w7l=w7l+xl|0;w7h=w7h+((w8h>>>1|w8l<<31)^(w8h>>>8|w8l<<24)^w8h>>>7)+(w7l>>>0<xl>>>0?1:0)|0;xl=(w5l>>>19|w5h<<13)^(w5l<<3|w5h>>>29)^(w5l>>>6|w5h<<26)|0;w7l=w7l+xl|0;w7h=w7h+((w5h>>>19|w5l<<13)^(w5h<<3|w5l>>>29)^w5h>>>6)+(w7l>>>0<xl>>>0?1:0)|0;tl=0x1482353b+w7l|0;th=0x92722c85+w7h+(tl>>>0<w7l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w8l=w8l+w1l|0;w8h=w8h+w1h+(w8l>>>0<w1l>>>0?1:0)|0;xl=(w9l>>>1|w9h<<31)^(w9l>>>8|w9h<<24)^(w9l>>>7|w9h<<25)|0;w8l=w8l+xl|0;w8h=w8h+((w9h>>>1|w9l<<31)^(w9h>>>8|w9l<<24)^w9h>>>7)+(w8l>>>0<xl>>>0?1:0)|0;xl=(w6l>>>19|w6h<<13)^(w6l<<3|w6h>>>29)^(w6l>>>6|w6h<<26)|0;w8l=w8l+xl|0;w8h=w8h+((w6h>>>19|w6l<<13)^(w6h<<3|w6l>>>29)^w6h>>>6)+(w8l>>>0<xl>>>0?1:0)|0;tl=0x4cf10364+w8l|0;th=0xa2bfe8a1+w8h+(tl>>>0<w8l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w9l=w9l+w2l|0;w9h=w9h+w2h+(w9l>>>0<w2l>>>0?1:0)|0;xl=(w10l>>>1|w10h<<31)^(w10l>>>8|w10h<<24)^(w10l>>>7|w10h<<25)|0;w9l=w9l+xl|0;w9h=w9h+((w10h>>>1|w10l<<31)^(w10h>>>8|w10l<<24)^w10h>>>7)+(w9l>>>0<xl>>>0?1:0)|0;xl=(w7l>>>19|w7h<<13)^(w7l<<3|w7h>>>29)^(w7l>>>6|w7h<<26)|0;w9l=w9l+xl|0;w9h=w9h+((w7h>>>19|w7l<<13)^(w7h<<3|w7l>>>29)^w7h>>>6)+(w9l>>>0<xl>>>0?1:0)|0;tl=0xbc423001+w9l|0;th=0xa81a664b+w9h+(tl>>>0<w9l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w10l=w10l+w3l|0;w10h=w10h+w3h+(w10l>>>0<w3l>>>0?1:0)|0;xl=(w11l>>>1|w11h<<31)^(w11l>>>8|w11h<<24)^(w11l>>>7|w11h<<25)|0;w10l=w10l+xl|0;w10h=w10h+((w11h>>>1|w11l<<31)^(w11h>>>8|w11l<<24)^w11h>>>7)+(w10l>>>0<xl>>>0?1:0)|0;xl=(w8l>>>19|w8h<<13)^(w8l<<3|w8h>>>29)^(w8l>>>6|w8h<<26)|0;w10l=w10l+xl|0;w10h=w10h+((w8h>>>19|w8l<<13)^(w8h<<3|w8l>>>29)^w8h>>>6)+(w10l>>>0<xl>>>0?1:0)|0;tl=0xd0f89791+w10l|0;th=0xc24b8b70+w10h+(tl>>>0<w10l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w11l=w11l+w4l|0;w11h=w11h+w4h+(w11l>>>0<w4l>>>0?1:0)|0;xl=(w12l>>>1|w12h<<31)^(w12l>>>8|w12h<<24)^(w12l>>>7|w12h<<25)|0;w11l=w11l+xl|0;w11h=w11h+((w12h>>>1|w12l<<31)^(w12h>>>8|w12l<<24)^w12h>>>7)+(w11l>>>0<xl>>>0?1:0)|0;xl=(w9l>>>19|w9h<<13)^(w9l<<3|w9h>>>29)^(w9l>>>6|w9h<<26)|0;w11l=w11l+xl|0;w11h=w11h+((w9h>>>19|w9l<<13)^(w9h<<3|w9l>>>29)^w9h>>>6)+(w11l>>>0<xl>>>0?1:0)|0;tl=0x654be30+w11l|0;th=0xc76c51a3+w11h+(tl>>>0<w11l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w12l=w12l+w5l|0;w12h=w12h+w5h+(w12l>>>0<w5l>>>0?1:0)|0;xl=(w13l>>>1|w13h<<31)^(w13l>>>8|w13h<<24)^(w13l>>>7|w13h<<25)|0;w12l=w12l+xl|0;w12h=w12h+((w13h>>>1|w13l<<31)^(w13h>>>8|w13l<<24)^w13h>>>7)+(w12l>>>0<xl>>>0?1:0)|0;xl=(w10l>>>19|w10h<<13)^(w10l<<3|w10h>>>29)^(w10l>>>6|w10h<<26)|0;w12l=w12l+xl|0;w12h=w12h+((w10h>>>19|w10l<<13)^(w10h<<3|w10l>>>29)^w10h>>>6)+(w12l>>>0<xl>>>0?1:0)|0;tl=0xd6ef5218+w12l|0;th=0xd192e819+w12h+(tl>>>0<w12l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w13l=w13l+w6l|0;w13h=w13h+w6h+(w13l>>>0<w6l>>>0?1:0)|0;xl=(w14l>>>1|w14h<<31)^(w14l>>>8|w14h<<24)^(w14l>>>7|w14h<<25)|0;w13l=w13l+xl|0;w13h=w13h+((w14h>>>1|w14l<<31)^(w14h>>>8|w14l<<24)^w14h>>>7)+(w13l>>>0<xl>>>0?1:0)|0;xl=(w11l>>>19|w11h<<13)^(w11l<<3|w11h>>>29)^(w11l>>>6|w11h<<26)|0;w13l=w13l+xl|0;w13h=w13h+((w11h>>>19|w11l<<13)^(w11h<<3|w11l>>>29)^w11h>>>6)+(w13l>>>0<xl>>>0?1:0)|0;tl=0x5565a910+w13l|0;th=0xd6990624+w13h+(tl>>>0<w13l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w14l=w14l+w7l|0;w14h=w14h+w7h+(w14l>>>0<w7l>>>0?1:0)|0;xl=(w15l>>>1|w15h<<31)^(w15l>>>8|w15h<<24)^(w15l>>>7|w15h<<25)|0;w14l=w14l+xl|0;w14h=w14h+((w15h>>>1|w15l<<31)^(w15h>>>8|w15l<<24)^w15h>>>7)+(w14l>>>0<xl>>>0?1:0)|0;xl=(w12l>>>19|w12h<<13)^(w12l<<3|w12h>>>29)^(w12l>>>6|w12h<<26)|0;w14l=w14l+xl|0;w14h=w14h+((w12h>>>19|w12l<<13)^(w12h<<3|w12l>>>29)^w12h>>>6)+(w14l>>>0<xl>>>0?1:0)|0;tl=0x5771202a+w14l|0;th=0xf40e3585+w14h+(tl>>>0<w14l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w15l=w15l+w8l|0;w15h=w15h+w8h+(w15l>>>0<w8l>>>0?1:0)|0;xl=(w0l>>>1|w0h<<31)^(w0l>>>8|w0h<<24)^(w0l>>>7|w0h<<25)|0;w15l=w15l+xl|0;w15h=w15h+((w0h>>>1|w0l<<31)^(w0h>>>8|w0l<<24)^w0h>>>7)+(w15l>>>0<xl>>>0?1:0)|0;xl=(w13l>>>19|w13h<<13)^(w13l<<3|w13h>>>29)^(w13l>>>6|w13h<<26)|0;w15l=w15l+xl|0;w15h=w15h+((w13h>>>19|w13l<<13)^(w13h<<3|w13l>>>29)^w13h>>>6)+(w15l>>>0<xl>>>0?1:0)|0;tl=0x32bbd1b8+w15l|0;th=0x106aa070+w15h+(tl>>>0<w15l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w0l=w0l+w9l|0;w0h=w0h+w9h+(w0l>>>0<w9l>>>0?1:0)|0;xl=(w1l>>>1|w1h<<31)^(w1l>>>8|w1h<<24)^(w1l>>>7|w1h<<25)|0;w0l=w0l+xl|0;w0h=w0h+((w1h>>>1|w1l<<31)^(w1h>>>8|w1l<<24)^w1h>>>7)+(w0l>>>0<xl>>>0?1:0)|0;xl=(w14l>>>19|w14h<<13)^(w14l<<3|w14h>>>29)^(w14l>>>6|w14h<<26)|0;w0l=w0l+xl|0;w0h=w0h+((w14h>>>19|w14l<<13)^(w14h<<3|w14l>>>29)^w14h>>>6)+(w0l>>>0<xl>>>0?1:0)|0;tl=0xb8d2d0c8+w0l|0;th=0x19a4c116+w0h+(tl>>>0<w0l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w1l=w1l+w10l|0;w1h=w1h+w10h+(w1l>>>0<w10l>>>0?1:0)|0;xl=(w2l>>>1|w2h<<31)^(w2l>>>8|w2h<<24)^(w2l>>>7|w2h<<25)|0;w1l=w1l+xl|0;w1h=w1h+((w2h>>>1|w2l<<31)^(w2h>>>8|w2l<<24)^w2h>>>7)+(w1l>>>0<xl>>>0?1:0)|0;xl=(w15l>>>19|w15h<<13)^(w15l<<3|w15h>>>29)^(w15l>>>6|w15h<<26)|0;w1l=w1l+xl|0;w1h=w1h+((w15h>>>19|w15l<<13)^(w15h<<3|w15l>>>29)^w15h>>>6)+(w1l>>>0<xl>>>0?1:0)|0;tl=0x5141ab53+w1l|0;th=0x1e376c08+w1h+(tl>>>0<w1l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w2l=w2l+w11l|0;w2h=w2h+w11h+(w2l>>>0<w11l>>>0?1:0)|0;xl=(w3l>>>1|w3h<<31)^(w3l>>>8|w3h<<24)^(w3l>>>7|w3h<<25)|0;w2l=w2l+xl|0;w2h=w2h+((w3h>>>1|w3l<<31)^(w3h>>>8|w3l<<24)^w3h>>>7)+(w2l>>>0<xl>>>0?1:0)|0;xl=(w0l>>>19|w0h<<13)^(w0l<<3|w0h>>>29)^(w0l>>>6|w0h<<26)|0;w2l=w2l+xl|0;w2h=w2h+((w0h>>>19|w0l<<13)^(w0h<<3|w0l>>>29)^w0h>>>6)+(w2l>>>0<xl>>>0?1:0)|0;tl=0xdf8eeb99+w2l|0;th=0x2748774c+w2h+(tl>>>0<w2l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w3l=w3l+w12l|0;w3h=w3h+w12h+(w3l>>>0<w12l>>>0?1:0)|0;xl=(w4l>>>1|w4h<<31)^(w4l>>>8|w4h<<24)^(w4l>>>7|w4h<<25)|0;w3l=w3l+xl|0;w3h=w3h+((w4h>>>1|w4l<<31)^(w4h>>>8|w4l<<24)^w4h>>>7)+(w3l>>>0<xl>>>0?1:0)|0;xl=(w1l>>>19|w1h<<13)^(w1l<<3|w1h>>>29)^(w1l>>>6|w1h<<26)|0;w3l=w3l+xl|0;w3h=w3h+((w1h>>>19|w1l<<13)^(w1h<<3|w1l>>>29)^w1h>>>6)+(w3l>>>0<xl>>>0?1:0)|0;tl=0xe19b48a8+w3l|0;th=0x34b0bcb5+w3h+(tl>>>0<w3l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w4l=w4l+w13l|0;w4h=w4h+w13h+(w4l>>>0<w13l>>>0?1:0)|0;xl=(w5l>>>1|w5h<<31)^(w5l>>>8|w5h<<24)^(w5l>>>7|w5h<<25)|0;w4l=w4l+xl|0;w4h=w4h+((w5h>>>1|w5l<<31)^(w5h>>>8|w5l<<24)^w5h>>>7)+(w4l>>>0<xl>>>0?1:0)|0;xl=(w2l>>>19|w2h<<13)^(w2l<<3|w2h>>>29)^(w2l>>>6|w2h<<26)|0;w4l=w4l+xl|0;w4h=w4h+((w2h>>>19|w2l<<13)^(w2h<<3|w2l>>>29)^w2h>>>6)+(w4l>>>0<xl>>>0?1:0)|0;tl=0xc5c95a63+w4l|0;th=0x391c0cb3+w4h+(tl>>>0<w4l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w5l=w5l+w14l|0;w5h=w5h+w14h+(w5l>>>0<w14l>>>0?1:0)|0;xl=(w6l>>>1|w6h<<31)^(w6l>>>8|w6h<<24)^(w6l>>>7|w6h<<25)|0;w5l=w5l+xl|0;w5h=w5h+((w6h>>>1|w6l<<31)^(w6h>>>8|w6l<<24)^w6h>>>7)+(w5l>>>0<xl>>>0?1:0)|0;xl=(w3l>>>19|w3h<<13)^(w3l<<3|w3h>>>29)^(w3l>>>6|w3h<<26)|0;w5l=w5l+xl|0;w5h=w5h+((w3h>>>19|w3l<<13)^(w3h<<3|w3l>>>29)^w3h>>>6)+(w5l>>>0<xl>>>0?1:0)|0;tl=0xe3418acb+w5l|0;th=0x4ed8aa4a+w5h+(tl>>>0<w5l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w6l=w6l+w15l|0;w6h=w6h+w15h+(w6l>>>0<w15l>>>0?1:0)|0;xl=(w7l>>>1|w7h<<31)^(w7l>>>8|w7h<<24)^(w7l>>>7|w7h<<25)|0;w6l=w6l+xl|0;w6h=w6h+((w7h>>>1|w7l<<31)^(w7h>>>8|w7l<<24)^w7h>>>7)+(w6l>>>0<xl>>>0?1:0)|0;xl=(w4l>>>19|w4h<<13)^(w4l<<3|w4h>>>29)^(w4l>>>6|w4h<<26)|0;w6l=w6l+xl|0;w6h=w6h+((w4h>>>19|w4l<<13)^(w4h<<3|w4l>>>29)^w4h>>>6)+(w6l>>>0<xl>>>0?1:0)|0;tl=0x7763e373+w6l|0;th=0x5b9cca4f+w6h+(tl>>>0<w6l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w7l=w7l+w0l|0;w7h=w7h+w0h+(w7l>>>0<w0l>>>0?1:0)|0;xl=(w8l>>>1|w8h<<31)^(w8l>>>8|w8h<<24)^(w8l>>>7|w8h<<25)|0;w7l=w7l+xl|0;w7h=w7h+((w8h>>>1|w8l<<31)^(w8h>>>8|w8l<<24)^w8h>>>7)+(w7l>>>0<xl>>>0?1:0)|0;xl=(w5l>>>19|w5h<<13)^(w5l<<3|w5h>>>29)^(w5l>>>6|w5h<<26)|0;w7l=w7l+xl|0;w7h=w7h+((w5h>>>19|w5l<<13)^(w5h<<3|w5l>>>29)^w5h>>>6)+(w7l>>>0<xl>>>0?1:0)|0;tl=0xd6b2b8a3+w7l|0;th=0x682e6ff3+w7h+(tl>>>0<w7l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w8l=w8l+w1l|0;w8h=w8h+w1h+(w8l>>>0<w1l>>>0?1:0)|0;xl=(w9l>>>1|w9h<<31)^(w9l>>>8|w9h<<24)^(w9l>>>7|w9h<<25)|0;w8l=w8l+xl|0;w8h=w8h+((w9h>>>1|w9l<<31)^(w9h>>>8|w9l<<24)^w9h>>>7)+(w8l>>>0<xl>>>0?1:0)|0;xl=(w6l>>>19|w6h<<13)^(w6l<<3|w6h>>>29)^(w6l>>>6|w6h<<26)|0;w8l=w8l+xl|0;w8h=w8h+((w6h>>>19|w6l<<13)^(w6h<<3|w6l>>>29)^w6h>>>6)+(w8l>>>0<xl>>>0?1:0)|0;tl=0x5defb2fc+w8l|0;th=0x748f82ee+w8h+(tl>>>0<w8l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w9l=w9l+w2l|0;w9h=w9h+w2h+(w9l>>>0<w2l>>>0?1:0)|0;xl=(w10l>>>1|w10h<<31)^(w10l>>>8|w10h<<24)^(w10l>>>7|w10h<<25)|0;w9l=w9l+xl|0;w9h=w9h+((w10h>>>1|w10l<<31)^(w10h>>>8|w10l<<24)^w10h>>>7)+(w9l>>>0<xl>>>0?1:0)|0;xl=(w7l>>>19|w7h<<13)^(w7l<<3|w7h>>>29)^(w7l>>>6|w7h<<26)|0;w9l=w9l+xl|0;w9h=w9h+((w7h>>>19|w7l<<13)^(w7h<<3|w7l>>>29)^w7h>>>6)+(w9l>>>0<xl>>>0?1:0)|0;tl=0x43172f60+w9l|0;th=0x78a5636f+w9h+(tl>>>0<w9l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w10l=w10l+w3l|0;w10h=w10h+w3h+(w10l>>>0<w3l>>>0?1:0)|0;xl=(w11l>>>1|w11h<<31)^(w11l>>>8|w11h<<24)^(w11l>>>7|w11h<<25)|0;w10l=w10l+xl|0;w10h=w10h+((w11h>>>1|w11l<<31)^(w11h>>>8|w11l<<24)^w11h>>>7)+(w10l>>>0<xl>>>0?1:0)|0;xl=(w8l>>>19|w8h<<13)^(w8l<<3|w8h>>>29)^(w8l>>>6|w8h<<26)|0;w10l=w10l+xl|0;w10h=w10h+((w8h>>>19|w8l<<13)^(w8h<<3|w8l>>>29)^w8h>>>6)+(w10l>>>0<xl>>>0?1:0)|0;tl=0xa1f0ab72+w10l|0;th=0x84c87814+w10h+(tl>>>0<w10l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w11l=w11l+w4l|0;w11h=w11h+w4h+(w11l>>>0<w4l>>>0?1:0)|0;xl=(w12l>>>1|w12h<<31)^(w12l>>>8|w12h<<24)^(w12l>>>7|w12h<<25)|0;w11l=w11l+xl|0;w11h=w11h+((w12h>>>1|w12l<<31)^(w12h>>>8|w12l<<24)^w12h>>>7)+(w11l>>>0<xl>>>0?1:0)|0;xl=(w9l>>>19|w9h<<13)^(w9l<<3|w9h>>>29)^(w9l>>>6|w9h<<26)|0;w11l=w11l+xl|0;w11h=w11h+((w9h>>>19|w9l<<13)^(w9h<<3|w9l>>>29)^w9h>>>6)+(w11l>>>0<xl>>>0?1:0)|0;tl=0x1a6439ec+w11l|0;th=0x8cc70208+w11h+(tl>>>0<w11l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w12l=w12l+w5l|0;w12h=w12h+w5h+(w12l>>>0<w5l>>>0?1:0)|0;xl=(w13l>>>1|w13h<<31)^(w13l>>>8|w13h<<24)^(w13l>>>7|w13h<<25)|0;w12l=w12l+xl|0;w12h=w12h+((w13h>>>1|w13l<<31)^(w13h>>>8|w13l<<24)^w13h>>>7)+(w12l>>>0<xl>>>0?1:0)|0;xl=(w10l>>>19|w10h<<13)^(w10l<<3|w10h>>>29)^(w10l>>>6|w10h<<26)|0;w12l=w12l+xl|0;w12h=w12h+((w10h>>>19|w10l<<13)^(w10h<<3|w10l>>>29)^w10h>>>6)+(w12l>>>0<xl>>>0?1:0)|0;tl=0x23631e28+w12l|0;th=0x90befffa+w12h+(tl>>>0<w12l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w13l=w13l+w6l|0;w13h=w13h+w6h+(w13l>>>0<w6l>>>0?1:0)|0;xl=(w14l>>>1|w14h<<31)^(w14l>>>8|w14h<<24)^(w14l>>>7|w14h<<25)|0;w13l=w13l+xl|0;w13h=w13h+((w14h>>>1|w14l<<31)^(w14h>>>8|w14l<<24)^w14h>>>7)+(w13l>>>0<xl>>>0?1:0)|0;xl=(w11l>>>19|w11h<<13)^(w11l<<3|w11h>>>29)^(w11l>>>6|w11h<<26)|0;w13l=w13l+xl|0;w13h=w13h+((w11h>>>19|w11l<<13)^(w11h<<3|w11l>>>29)^w11h>>>6)+(w13l>>>0<xl>>>0?1:0)|0;tl=0xde82bde9+w13l|0;th=0xa4506ceb+w13h+(tl>>>0<w13l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w14l=w14l+w7l|0;w14h=w14h+w7h+(w14l>>>0<w7l>>>0?1:0)|0;xl=(w15l>>>1|w15h<<31)^(w15l>>>8|w15h<<24)^(w15l>>>7|w15h<<25)|0;w14l=w14l+xl|0;w14h=w14h+((w15h>>>1|w15l<<31)^(w15h>>>8|w15l<<24)^w15h>>>7)+(w14l>>>0<xl>>>0?1:0)|0;xl=(w12l>>>19|w12h<<13)^(w12l<<3|w12h>>>29)^(w12l>>>6|w12h<<26)|0;w14l=w14l+xl|0;w14h=w14h+((w12h>>>19|w12l<<13)^(w12h<<3|w12l>>>29)^w12h>>>6)+(w14l>>>0<xl>>>0?1:0)|0;tl=0xb2c67915+w14l|0;th=0xbef9a3f7+w14h+(tl>>>0<w14l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w15l=w15l+w8l|0;w15h=w15h+w8h+(w15l>>>0<w8l>>>0?1:0)|0;xl=(w0l>>>1|w0h<<31)^(w0l>>>8|w0h<<24)^(w0l>>>7|w0h<<25)|0;w15l=w15l+xl|0;w15h=w15h+((w0h>>>1|w0l<<31)^(w0h>>>8|w0l<<24)^w0h>>>7)+(w15l>>>0<xl>>>0?1:0)|0;xl=(w13l>>>19|w13h<<13)^(w13l<<3|w13h>>>29)^(w13l>>>6|w13h<<26)|0;w15l=w15l+xl|0;w15h=w15h+((w13h>>>19|w13l<<13)^(w13h<<3|w13l>>>29)^w13h>>>6)+(w15l>>>0<xl>>>0?1:0)|0;tl=0xe372532b+w15l|0;th=0xc67178f2+w15h+(tl>>>0<w15l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w0l=w0l+w9l|0;w0h=w0h+w9h+(w0l>>>0<w9l>>>0?1:0)|0;xl=(w1l>>>1|w1h<<31)^(w1l>>>8|w1h<<24)^(w1l>>>7|w1h<<25)|0;w0l=w0l+xl|0;w0h=w0h+((w1h>>>1|w1l<<31)^(w1h>>>8|w1l<<24)^w1h>>>7)+(w0l>>>0<xl>>>0?1:0)|0;xl=(w14l>>>19|w14h<<13)^(w14l<<3|w14h>>>29)^(w14l>>>6|w14h<<26)|0;w0l=w0l+xl|0;w0h=w0h+((w14h>>>19|w14l<<13)^(w14h<<3|w14l>>>29)^w14h>>>6)+(w0l>>>0<xl>>>0?1:0)|0;tl=0xea26619c+w0l|0;th=0xca273ece+w0h+(tl>>>0<w0l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w1l=w1l+w10l|0;w1h=w1h+w10h+(w1l>>>0<w10l>>>0?1:0)|0;xl=(w2l>>>1|w2h<<31)^(w2l>>>8|w2h<<24)^(w2l>>>7|w2h<<25)|0;w1l=w1l+xl|0;w1h=w1h+((w2h>>>1|w2l<<31)^(w2h>>>8|w2l<<24)^w2h>>>7)+(w1l>>>0<xl>>>0?1:0)|0;xl=(w15l>>>19|w15h<<13)^(w15l<<3|w15h>>>29)^(w15l>>>6|w15h<<26)|0;w1l=w1l+xl|0;w1h=w1h+((w15h>>>19|w15l<<13)^(w15h<<3|w15l>>>29)^w15h>>>6)+(w1l>>>0<xl>>>0?1:0)|0;tl=0x21c0c207+w1l|0;th=0xd186b8c7+w1h+(tl>>>0<w1l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w2l=w2l+w11l|0;w2h=w2h+w11h+(w2l>>>0<w11l>>>0?1:0)|0;xl=(w3l>>>1|w3h<<31)^(w3l>>>8|w3h<<24)^(w3l>>>7|w3h<<25)|0;w2l=w2l+xl|0;w2h=w2h+((w3h>>>1|w3l<<31)^(w3h>>>8|w3l<<24)^w3h>>>7)+(w2l>>>0<xl>>>0?1:0)|0;xl=(w0l>>>19|w0h<<13)^(w0l<<3|w0h>>>29)^(w0l>>>6|w0h<<26)|0;w2l=w2l+xl|0;w2h=w2h+((w0h>>>19|w0l<<13)^(w0h<<3|w0l>>>29)^w0h>>>6)+(w2l>>>0<xl>>>0?1:0)|0;tl=0xcde0eb1e+w2l|0;th=0xeada7dd6+w2h+(tl>>>0<w2l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w3l=w3l+w12l|0;w3h=w3h+w12h+(w3l>>>0<w12l>>>0?1:0)|0;xl=(w4l>>>1|w4h<<31)^(w4l>>>8|w4h<<24)^(w4l>>>7|w4h<<25)|0;w3l=w3l+xl|0;w3h=w3h+((w4h>>>1|w4l<<31)^(w4h>>>8|w4l<<24)^w4h>>>7)+(w3l>>>0<xl>>>0?1:0)|0;xl=(w1l>>>19|w1h<<13)^(w1l<<3|w1h>>>29)^(w1l>>>6|w1h<<26)|0;w3l=w3l+xl|0;w3h=w3h+((w1h>>>19|w1l<<13)^(w1h<<3|w1l>>>29)^w1h>>>6)+(w3l>>>0<xl>>>0?1:0)|0;tl=0xee6ed178+w3l|0;th=0xf57d4f7f+w3h+(tl>>>0<w3l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w4l=w4l+w13l|0;w4h=w4h+w13h+(w4l>>>0<w13l>>>0?1:0)|0;xl=(w5l>>>1|w5h<<31)^(w5l>>>8|w5h<<24)^(w5l>>>7|w5h<<25)|0;w4l=w4l+xl|0;w4h=w4h+((w5h>>>1|w5l<<31)^(w5h>>>8|w5l<<24)^w5h>>>7)+(w4l>>>0<xl>>>0?1:0)|0;xl=(w2l>>>19|w2h<<13)^(w2l<<3|w2h>>>29)^(w2l>>>6|w2h<<26)|0;w4l=w4l+xl|0;w4h=w4h+((w2h>>>19|w2l<<13)^(w2h<<3|w2l>>>29)^w2h>>>6)+(w4l>>>0<xl>>>0?1:0)|0;tl=0x72176fba+w4l|0;th=0x6f067aa+w4h+(tl>>>0<w4l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w5l=w5l+w14l|0;w5h=w5h+w14h+(w5l>>>0<w14l>>>0?1:0)|0;xl=(w6l>>>1|w6h<<31)^(w6l>>>8|w6h<<24)^(w6l>>>7|w6h<<25)|0;w5l=w5l+xl|0;w5h=w5h+((w6h>>>1|w6l<<31)^(w6h>>>8|w6l<<24)^w6h>>>7)+(w5l>>>0<xl>>>0?1:0)|0;xl=(w3l>>>19|w3h<<13)^(w3l<<3|w3h>>>29)^(w3l>>>6|w3h<<26)|0;w5l=w5l+xl|0;w5h=w5h+((w3h>>>19|w3l<<13)^(w3h<<3|w3l>>>29)^w3h>>>6)+(w5l>>>0<xl>>>0?1:0)|0;tl=0xa2c898a6+w5l|0;th=0xa637dc5+w5h+(tl>>>0<w5l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w6l=w6l+w15l|0;w6h=w6h+w15h+(w6l>>>0<w15l>>>0?1:0)|0;xl=(w7l>>>1|w7h<<31)^(w7l>>>8|w7h<<24)^(w7l>>>7|w7h<<25)|0;w6l=w6l+xl|0;w6h=w6h+((w7h>>>1|w7l<<31)^(w7h>>>8|w7l<<24)^w7h>>>7)+(w6l>>>0<xl>>>0?1:0)|0;xl=(w4l>>>19|w4h<<13)^(w4l<<3|w4h>>>29)^(w4l>>>6|w4h<<26)|0;w6l=w6l+xl|0;w6h=w6h+((w4h>>>19|w4l<<13)^(w4h<<3|w4l>>>29)^w4h>>>6)+(w6l>>>0<xl>>>0?1:0)|0;tl=0xbef90dae+w6l|0;th=0x113f9804+w6h+(tl>>>0<w6l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w7l=w7l+w0l|0;w7h=w7h+w0h+(w7l>>>0<w0l>>>0?1:0)|0;xl=(w8l>>>1|w8h<<31)^(w8l>>>8|w8h<<24)^(w8l>>>7|w8h<<25)|0;w7l=w7l+xl|0;w7h=w7h+((w8h>>>1|w8l<<31)^(w8h>>>8|w8l<<24)^w8h>>>7)+(w7l>>>0<xl>>>0?1:0)|0;xl=(w5l>>>19|w5h<<13)^(w5l<<3|w5h>>>29)^(w5l>>>6|w5h<<26)|0;w7l=w7l+xl|0;w7h=w7h+((w5h>>>19|w5l<<13)^(w5h<<3|w5l>>>29)^w5h>>>6)+(w7l>>>0<xl>>>0?1:0)|0;tl=0x131c471b+w7l|0;th=0x1b710b35+w7h+(tl>>>0<w7l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w8l=w8l+w1l|0;w8h=w8h+w1h+(w8l>>>0<w1l>>>0?1:0)|0;xl=(w9l>>>1|w9h<<31)^(w9l>>>8|w9h<<24)^(w9l>>>7|w9h<<25)|0;w8l=w8l+xl|0;w8h=w8h+((w9h>>>1|w9l<<31)^(w9h>>>8|w9l<<24)^w9h>>>7)+(w8l>>>0<xl>>>0?1:0)|0;xl=(w6l>>>19|w6h<<13)^(w6l<<3|w6h>>>29)^(w6l>>>6|w6h<<26)|0;w8l=w8l+xl|0;w8h=w8h+((w6h>>>19|w6l<<13)^(w6h<<3|w6l>>>29)^w6h>>>6)+(w8l>>>0<xl>>>0?1:0)|0;tl=0x23047d84+w8l|0;th=0x28db77f5+w8h+(tl>>>0<w8l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w9l=w9l+w2l|0;w9h=w9h+w2h+(w9l>>>0<w2l>>>0?1:0)|0;xl=(w10l>>>1|w10h<<31)^(w10l>>>8|w10h<<24)^(w10l>>>7|w10h<<25)|0;w9l=w9l+xl|0;w9h=w9h+((w10h>>>1|w10l<<31)^(w10h>>>8|w10l<<24)^w10h>>>7)+(w9l>>>0<xl>>>0?1:0)|0;xl=(w7l>>>19|w7h<<13)^(w7l<<3|w7h>>>29)^(w7l>>>6|w7h<<26)|0;w9l=w9l+xl|0;w9h=w9h+((w7h>>>19|w7l<<13)^(w7h<<3|w7l>>>29)^w7h>>>6)+(w9l>>>0<xl>>>0?1:0)|0;tl=0x40c72493+w9l|0;th=0x32caab7b+w9h+(tl>>>0<w9l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w10l=w10l+w3l|0;w10h=w10h+w3h+(w10l>>>0<w3l>>>0?1:0)|0;xl=(w11l>>>1|w11h<<31)^(w11l>>>8|w11h<<24)^(w11l>>>7|w11h<<25)|0;w10l=w10l+xl|0;w10h=w10h+((w11h>>>1|w11l<<31)^(w11h>>>8|w11l<<24)^w11h>>>7)+(w10l>>>0<xl>>>0?1:0)|0;xl=(w8l>>>19|w8h<<13)^(w8l<<3|w8h>>>29)^(w8l>>>6|w8h<<26)|0;w10l=w10l+xl|0;w10h=w10h+((w8h>>>19|w8l<<13)^(w8h<<3|w8l>>>29)^w8h>>>6)+(w10l>>>0<xl>>>0?1:0)|0;tl=0x15c9bebc+w10l|0;th=0x3c9ebe0a+w10h+(tl>>>0<w10l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w11l=w11l+w4l|0;w11h=w11h+w4h+(w11l>>>0<w4l>>>0?1:0)|0;xl=(w12l>>>1|w12h<<31)^(w12l>>>8|w12h<<24)^(w12l>>>7|w12h<<25)|0;w11l=w11l+xl|0;w11h=w11h+((w12h>>>1|w12l<<31)^(w12h>>>8|w12l<<24)^w12h>>>7)+(w11l>>>0<xl>>>0?1:0)|0;xl=(w9l>>>19|w9h<<13)^(w9l<<3|w9h>>>29)^(w9l>>>6|w9h<<26)|0;w11l=w11l+xl|0;w11h=w11h+((w9h>>>19|w9l<<13)^(w9h<<3|w9l>>>29)^w9h>>>6)+(w11l>>>0<xl>>>0?1:0)|0;tl=0x9c100d4c+w11l|0;th=0x431d67c4+w11h+(tl>>>0<w11l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w12l=w12l+w5l|0;w12h=w12h+w5h+(w12l>>>0<w5l>>>0?1:0)|0;xl=(w13l>>>1|w13h<<31)^(w13l>>>8|w13h<<24)^(w13l>>>7|w13h<<25)|0;w12l=w12l+xl|0;w12h=w12h+((w13h>>>1|w13l<<31)^(w13h>>>8|w13l<<24)^w13h>>>7)+(w12l>>>0<xl>>>0?1:0)|0;xl=(w10l>>>19|w10h<<13)^(w10l<<3|w10h>>>29)^(w10l>>>6|w10h<<26)|0;w12l=w12l+xl|0;w12h=w12h+((w10h>>>19|w10l<<13)^(w10h<<3|w10l>>>29)^w10h>>>6)+(w12l>>>0<xl>>>0?1:0)|0;tl=0xcb3e42b6+w12l|0;th=0x4cc5d4be+w12h+(tl>>>0<w12l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w13l=w13l+w6l|0;w13h=w13h+w6h+(w13l>>>0<w6l>>>0?1:0)|0;xl=(w14l>>>1|w14h<<31)^(w14l>>>8|w14h<<24)^(w14l>>>7|w14h<<25)|0;w13l=w13l+xl|0;w13h=w13h+((w14h>>>1|w14l<<31)^(w14h>>>8|w14l<<24)^w14h>>>7)+(w13l>>>0<xl>>>0?1:0)|0;xl=(w11l>>>19|w11h<<13)^(w11l<<3|w11h>>>29)^(w11l>>>6|w11h<<26)|0;w13l=w13l+xl|0;w13h=w13h+((w11h>>>19|w11l<<13)^(w11h<<3|w11l>>>29)^w11h>>>6)+(w13l>>>0<xl>>>0?1:0)|0;tl=0xfc657e2a+w13l|0;th=0x597f299c+w13h+(tl>>>0<w13l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w14l=w14l+w7l|0;w14h=w14h+w7h+(w14l>>>0<w7l>>>0?1:0)|0;xl=(w15l>>>1|w15h<<31)^(w15l>>>8|w15h<<24)^(w15l>>>7|w15h<<25)|0;w14l=w14l+xl|0;w14h=w14h+((w15h>>>1|w15l<<31)^(w15h>>>8|w15l<<24)^w15h>>>7)+(w14l>>>0<xl>>>0?1:0)|0;xl=(w12l>>>19|w12h<<13)^(w12l<<3|w12h>>>29)^(w12l>>>6|w12h<<26)|0;w14l=w14l+xl|0;w14h=w14h+((w12h>>>19|w12l<<13)^(w12h<<3|w12l>>>29)^w12h>>>6)+(w14l>>>0<xl>>>0?1:0)|0;tl=0x3ad6faec+w14l|0;th=0x5fcb6fab+w14h+(tl>>>0<w14l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;w15l=w15l+w8l|0;w15h=w15h+w8h+(w15l>>>0<w8l>>>0?1:0)|0;xl=(w0l>>>1|w0h<<31)^(w0l>>>8|w0h<<24)^(w0l>>>7|w0h<<25)|0;w15l=w15l+xl|0;w15h=w15h+((w0h>>>1|w0l<<31)^(w0h>>>8|w0l<<24)^w0h>>>7)+(w15l>>>0<xl>>>0?1:0)|0;xl=(w13l>>>19|w13h<<13)^(w13l<<3|w13h>>>29)^(w13l>>>6|w13h<<26)|0;w15l=w15l+xl|0;w15h=w15h+((w13h>>>19|w13l<<13)^(w13h<<3|w13l>>>29)^w13h>>>6)+(w15l>>>0<xl>>>0?1:0)|0;tl=0x4a475817+w15l|0;th=0x6c44198c+w15h+(tl>>>0<w15l>>>0?1:0)|0;tl=tl+hl|0;th=th+hh+(tl>>>0<hl>>>0?1:0)|0;xl=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)|0;tl=tl+xl|0;th=th+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+(tl>>>0<xl>>>0?1:0)|0;xl=gl^el&(fl^gl)|0;tl=tl+xl|0;th=th+(gh^eh&(fh^gh))+(tl>>>0<xl>>>0?1:0)|0;hl=gl;hh=gh;gl=fl;gh=fh;fl=el;fh=eh;el=dl+tl|0;eh=dh+th+(el>>>0<dl>>>0?1:0)|0;dl=cl;dh=ch;cl=bl;ch=bh;bl=al;bh=ah;al=tl+(bl&cl^dl&(bl^cl))|0;ah=th+(bh&ch^dh&(bh^ch))+(al>>>0<tl>>>0?1:0)|0;xl=(bl>>>28|bh<<4)^(bl<<30|bh>>>2)^(bl<<25|bh>>>7)|0;al=al+xl|0;ah=ah+((bh>>>28|bl<<4)^(bh<<30|bl>>>2)^(bh<<25|bl>>>7))+(al>>>0<xl>>>0?1:0)|0;H0l=H0l+al|0;H0h=H0h+ah+(H0l>>>0<al>>>0?1:0)|0;H1l=H1l+bl|0;H1h=H1h+bh+(H1l>>>0<bl>>>0?1:0)|0;H2l=H2l+cl|0;H2h=H2h+ch+(H2l>>>0<cl>>>0?1:0)|0;H3l=H3l+dl|0;H3h=H3h+dh+(H3l>>>0<dl>>>0?1:0)|0;H4l=H4l+el|0;H4h=H4h+eh+(H4l>>>0<el>>>0?1:0)|0;H5l=H5l+fl|0;H5h=H5h+fh+(H5l>>>0<fl>>>0?1:0)|0;H6l=H6l+gl|0;H6h=H6h+gh+(H6l>>>0<gl>>>0?1:0)|0;H7l=H7l+hl|0;H7h=H7h+hh+(H7l>>>0<hl>>>0?1:0)|0;}function _core_heap(offset){offset=offset|0;_core(HEAP[offset|0]<<24|HEAP[offset|1]<<16|HEAP[offset|2]<<8|HEAP[offset|3],HEAP[offset|4]<<24|HEAP[offset|5]<<16|HEAP[offset|6]<<8|HEAP[offset|7],HEAP[offset|8]<<24|HEAP[offset|9]<<16|HEAP[offset|10]<<8|HEAP[offset|11],HEAP[offset|12]<<24|HEAP[offset|13]<<16|HEAP[offset|14]<<8|HEAP[offset|15],HEAP[offset|16]<<24|HEAP[offset|17]<<16|HEAP[offset|18]<<8|HEAP[offset|19],HEAP[offset|20]<<24|HEAP[offset|21]<<16|HEAP[offset|22]<<8|HEAP[offset|23],HEAP[offset|24]<<24|HEAP[offset|25]<<16|HEAP[offset|26]<<8|HEAP[offset|27],HEAP[offset|28]<<24|HEAP[offset|29]<<16|HEAP[offset|30]<<8|HEAP[offset|31],HEAP[offset|32]<<24|HEAP[offset|33]<<16|HEAP[offset|34]<<8|HEAP[offset|35],HEAP[offset|36]<<24|HEAP[offset|37]<<16|HEAP[offset|38]<<8|HEAP[offset|39],HEAP[offset|40]<<24|HEAP[offset|41]<<16|HEAP[offset|42]<<8|HEAP[offset|43],HEAP[offset|44]<<24|HEAP[offset|45]<<16|HEAP[offset|46]<<8|HEAP[offset|47],HEAP[offset|48]<<24|HEAP[offset|49]<<16|HEAP[offset|50]<<8|HEAP[offset|51],HEAP[offset|52]<<24|HEAP[offset|53]<<16|HEAP[offset|54]<<8|HEAP[offset|55],HEAP[offset|56]<<24|HEAP[offset|57]<<16|HEAP[offset|58]<<8|HEAP[offset|59],HEAP[offset|60]<<24|HEAP[offset|61]<<16|HEAP[offset|62]<<8|HEAP[offset|63],HEAP[offset|64]<<24|HEAP[offset|65]<<16|HEAP[offset|66]<<8|HEAP[offset|67],HEAP[offset|68]<<24|HEAP[offset|69]<<16|HEAP[offset|70]<<8|HEAP[offset|71],HEAP[offset|72]<<24|HEAP[offset|73]<<16|HEAP[offset|74]<<8|HEAP[offset|75],HEAP[offset|76]<<24|HEAP[offset|77]<<16|HEAP[offset|78]<<8|HEAP[offset|79],HEAP[offset|80]<<24|HEAP[offset|81]<<16|HEAP[offset|82]<<8|HEAP[offset|83],HEAP[offset|84]<<24|HEAP[offset|85]<<16|HEAP[offset|86]<<8|HEAP[offset|87],HEAP[offset|88]<<24|HEAP[offset|89]<<16|HEAP[offset|90]<<8|HEAP[offset|91],HEAP[offset|92]<<24|HEAP[offset|93]<<16|HEAP[offset|94]<<8|HEAP[offset|95],HEAP[offset|96]<<24|HEAP[offset|97]<<16|HEAP[offset|98]<<8|HEAP[offset|99],HEAP[offset|100]<<24|HEAP[offset|101]<<16|HEAP[offset|102]<<8|HEAP[offset|103],HEAP[offset|104]<<24|HEAP[offset|105]<<16|HEAP[offset|106]<<8|HEAP[offset|107],HEAP[offset|108]<<24|HEAP[offset|109]<<16|HEAP[offset|110]<<8|HEAP[offset|111],HEAP[offset|112]<<24|HEAP[offset|113]<<16|HEAP[offset|114]<<8|HEAP[offset|115],HEAP[offset|116]<<24|HEAP[offset|117]<<16|HEAP[offset|118]<<8|HEAP[offset|119],HEAP[offset|120]<<24|HEAP[offset|121]<<16|HEAP[offset|122]<<8|HEAP[offset|123],HEAP[offset|124]<<24|HEAP[offset|125]<<16|HEAP[offset|126]<<8|HEAP[offset|127]);}function _state_to_heap(output){output=output|0;HEAP[output|0]=H0h>>>24;HEAP[output|1]=H0h>>>16&255;HEAP[output|2]=H0h>>>8&255;HEAP[output|3]=H0h&255;HEAP[output|4]=H0l>>>24;HEAP[output|5]=H0l>>>16&255;HEAP[output|6]=H0l>>>8&255;HEAP[output|7]=H0l&255;HEAP[output|8]=H1h>>>24;HEAP[output|9]=H1h>>>16&255;HEAP[output|10]=H1h>>>8&255;HEAP[output|11]=H1h&255;HEAP[output|12]=H1l>>>24;HEAP[output|13]=H1l>>>16&255;HEAP[output|14]=H1l>>>8&255;HEAP[output|15]=H1l&255;HEAP[output|16]=H2h>>>24;HEAP[output|17]=H2h>>>16&255;HEAP[output|18]=H2h>>>8&255;HEAP[output|19]=H2h&255;HEAP[output|20]=H2l>>>24;HEAP[output|21]=H2l>>>16&255;HEAP[output|22]=H2l>>>8&255;HEAP[output|23]=H2l&255;HEAP[output|24]=H3h>>>24;HEAP[output|25]=H3h>>>16&255;HEAP[output|26]=H3h>>>8&255;HEAP[output|27]=H3h&255;HEAP[output|28]=H3l>>>24;HEAP[output|29]=H3l>>>16&255;HEAP[output|30]=H3l>>>8&255;HEAP[output|31]=H3l&255;HEAP[output|32]=H4h>>>24;HEAP[output|33]=H4h>>>16&255;HEAP[output|34]=H4h>>>8&255;HEAP[output|35]=H4h&255;HEAP[output|36]=H4l>>>24;HEAP[output|37]=H4l>>>16&255;HEAP[output|38]=H4l>>>8&255;HEAP[output|39]=H4l&255;HEAP[output|40]=H5h>>>24;HEAP[output|41]=H5h>>>16&255;HEAP[output|42]=H5h>>>8&255;HEAP[output|43]=H5h&255;HEAP[output|44]=H5l>>>24;HEAP[output|45]=H5l>>>16&255;HEAP[output|46]=H5l>>>8&255;HEAP[output|47]=H5l&255;HEAP[output|48]=H6h>>>24;HEAP[output|49]=H6h>>>16&255;HEAP[output|50]=H6h>>>8&255;HEAP[output|51]=H6h&255;HEAP[output|52]=H6l>>>24;HEAP[output|53]=H6l>>>16&255;HEAP[output|54]=H6l>>>8&255;HEAP[output|55]=H6l&255;HEAP[output|56]=H7h>>>24;HEAP[output|57]=H7h>>>16&255;HEAP[output|58]=H7h>>>8&255;HEAP[output|59]=H7h&255;HEAP[output|60]=H7l>>>24;HEAP[output|61]=H7l>>>16&255;HEAP[output|62]=H7l>>>8&255;HEAP[output|63]=H7l&255;}function reset(){H0h=0x6a09e667;H0l=0xf3bcc908;H1h=0xbb67ae85;H1l=0x84caa73b;H2h=0x3c6ef372;H2l=0xfe94f82b;H3h=0xa54ff53a;H3l=0x5f1d36f1;H4h=0x510e527f;H4l=0xade682d1;H5h=0x9b05688c;H5l=0x2b3e6c1f;H6h=0x1f83d9ab;H6l=0xfb41bd6b;H7h=0x5be0cd19;H7l=0x137e2179;TOTAL0=TOTAL1=0;}function init(h0h,h0l,h1h,h1l,h2h,h2l,h3h,h3l,h4h,h4l,h5h,h5l,h6h,h6l,h7h,h7l,total0,total1){h0h=h0h|0;h0l=h0l|0;h1h=h1h|0;h1l=h1l|0;h2h=h2h|0;h2l=h2l|0;h3h=h3h|0;h3l=h3l|0;h4h=h4h|0;h4l=h4l|0;h5h=h5h|0;h5l=h5l|0;h6h=h6h|0;h6l=h6l|0;h7h=h7h|0;h7l=h7l|0;total0=total0|0;total1=total1|0;H0h=h0h;H0l=h0l;H1h=h1h;H1l=h1l;H2h=h2h;H2l=h2l;H3h=h3h;H3l=h3l;H4h=h4h;H4l=h4l;H5h=h5h;H5l=h5l;H6h=h6h;H6l=h6l;H7h=h7h;H7l=h7l;TOTAL0=total0;TOTAL1=total1;}function process(offset,length){offset=offset|0;length=length|0;var hashed=0;if(offset&127)return -1;while((length|0)>=128){_core_heap(offset);offset=offset+128|0;length=length-128|0;hashed=hashed+128|0;}TOTAL0=TOTAL0+hashed|0;if(TOTAL0>>>0<hashed>>>0)TOTAL1=TOTAL1+1|0;return hashed|0;}function finish(offset,length,output){offset=offset|0;length=length|0;output=output|0;var hashed=0,i=0;if(offset&127)return -1;if(~output)if(output&63)return -1;if((length|0)>=128){hashed=process(offset,length)|0;if((hashed|0)==-1)return -1;offset=offset+hashed|0;length=length-hashed|0;}hashed=hashed+length|0;TOTAL0=TOTAL0+length|0;if(TOTAL0>>>0<length>>>0)TOTAL1=TOTAL1+1|0;HEAP[offset|length]=0x80;if((length|0)>=112){for(i=length+1|0;(i|0)<128;i=i+1|0){HEAP[offset|i]=0x00;}_core_heap(offset);length=0;HEAP[offset|0]=0;}for(i=length+1|0;(i|0)<123;i=i+1|0){HEAP[offset|i]=0;}HEAP[offset|120]=TOTAL1>>>21&255;HEAP[offset|121]=TOTAL1>>>13&255;HEAP[offset|122]=TOTAL1>>>5&255;HEAP[offset|123]=TOTAL1<<3&255|TOTAL0>>>29;HEAP[offset|124]=TOTAL0>>>21&255;HEAP[offset|125]=TOTAL0>>>13&255;HEAP[offset|126]=TOTAL0>>>5&255;HEAP[offset|127]=TOTAL0<<3&255;_core_heap(offset);if(~output)_state_to_heap(output);return hashed|0;}function hmac_reset(){H0h=I0h;H0l=I0l;H1h=I1h;H1l=I1l;H2h=I2h;H2l=I2l;H3h=I3h;H3l=I3l;H4h=I4h;H4l=I4l;H5h=I5h;H5l=I5l;H6h=I6h;H6l=I6l;H7h=I7h;H7l=I7l;TOTAL0=128;TOTAL1=0;}function _hmac_opad(){H0h=O0h;H0l=O0l;H1h=O1h;H1l=O1l;H2h=O2h;H2l=O2l;H3h=O3h;H3l=O3l;H4h=O4h;H4l=O4l;H5h=O5h;H5l=O5l;H6h=O6h;H6l=O6l;H7h=O7h;H7l=O7l;TOTAL0=128;TOTAL1=0;}function hmac_init(p0h,p0l,p1h,p1l,p2h,p2l,p3h,p3l,p4h,p4l,p5h,p5l,p6h,p6l,p7h,p7l,p8h,p8l,p9h,p9l,p10h,p10l,p11h,p11l,p12h,p12l,p13h,p13l,p14h,p14l,p15h,p15l){p0h=p0h|0;p0l=p0l|0;p1h=p1h|0;p1l=p1l|0;p2h=p2h|0;p2l=p2l|0;p3h=p3h|0;p3l=p3l|0;p4h=p4h|0;p4l=p4l|0;p5h=p5h|0;p5l=p5l|0;p6h=p6h|0;p6l=p6l|0;p7h=p7h|0;p7l=p7l|0;p8h=p8h|0;p8l=p8l|0;p9h=p9h|0;p9l=p9l|0;p10h=p10h|0;p10l=p10l|0;p11h=p11h|0;p11l=p11l|0;p12h=p12h|0;p12l=p12l|0;p13h=p13h|0;p13l=p13l|0;p14h=p14h|0;p14l=p14l|0;p15h=p15h|0;p15l=p15l|0;reset();_core(p0h^0x5c5c5c5c,p0l^0x5c5c5c5c,p1h^0x5c5c5c5c,p1l^0x5c5c5c5c,p2h^0x5c5c5c5c,p2l^0x5c5c5c5c,p3h^0x5c5c5c5c,p3l^0x5c5c5c5c,p4h^0x5c5c5c5c,p4l^0x5c5c5c5c,p5h^0x5c5c5c5c,p5l^0x5c5c5c5c,p6h^0x5c5c5c5c,p6l^0x5c5c5c5c,p7h^0x5c5c5c5c,p7l^0x5c5c5c5c,p8h^0x5c5c5c5c,p8l^0x5c5c5c5c,p9h^0x5c5c5c5c,p9l^0x5c5c5c5c,p10h^0x5c5c5c5c,p10l^0x5c5c5c5c,p11h^0x5c5c5c5c,p11l^0x5c5c5c5c,p12h^0x5c5c5c5c,p12l^0x5c5c5c5c,p13h^0x5c5c5c5c,p13l^0x5c5c5c5c,p14h^0x5c5c5c5c,p14l^0x5c5c5c5c,p15h^0x5c5c5c5c,p15l^0x5c5c5c5c);O0h=H0h;O0l=H0l;O1h=H1h;O1l=H1l;O2h=H2h;O2l=H2l;O3h=H3h;O3l=H3l;O4h=H4h;O4l=H4l;O5h=H5h;O5l=H5l;O6h=H6h;O6l=H6l;O7h=H7h;O7l=H7l;reset();_core(p0h^0x36363636,p0l^0x36363636,p1h^0x36363636,p1l^0x36363636,p2h^0x36363636,p2l^0x36363636,p3h^0x36363636,p3l^0x36363636,p4h^0x36363636,p4l^0x36363636,p5h^0x36363636,p5l^0x36363636,p6h^0x36363636,p6l^0x36363636,p7h^0x36363636,p7l^0x36363636,p8h^0x36363636,p8l^0x36363636,p9h^0x36363636,p9l^0x36363636,p10h^0x36363636,p10l^0x36363636,p11h^0x36363636,p11l^0x36363636,p12h^0x36363636,p12l^0x36363636,p13h^0x36363636,p13l^0x36363636,p14h^0x36363636,p14l^0x36363636,p15h^0x36363636,p15l^0x36363636);I0h=H0h;I0l=H0l;I1h=H1h;I1l=H1l;I2h=H2h;I2l=H2l;I3h=H3h;I3l=H3l;I4h=H4h;I4l=H4l;I5h=H5h;I5l=H5l;I6h=H6h;I6l=H6l;I7h=H7h;I7l=H7l;TOTAL0=128;TOTAL1=0;}function hmac_finish(offset,length,output){offset=offset|0;length=length|0;output=output|0;var t0h=0,t0l=0,t1h=0,t1l=0,t2h=0,t2l=0,t3h=0,t3l=0,t4h=0,t4l=0,t5h=0,t5l=0,t6h=0,t6l=0,t7h=0,t7l=0,hashed=0;if(offset&127)return -1;if(~output)if(output&63)return -1;hashed=finish(offset,length,-1)|0;t0h=H0h;t0l=H0l;t1h=H1h;t1l=H1l;t2h=H2h;t2l=H2l;t3h=H3h;t3l=H3l;t4h=H4h;t4l=H4l;t5h=H5h;t5l=H5l;t6h=H6h;t6l=H6l;t7h=H7h;t7l=H7l;_hmac_opad();_core(t0h,t0l,t1h,t1l,t2h,t2l,t3h,t3l,t4h,t4l,t5h,t5l,t6h,t6l,t7h,t7l,0x80000000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1536);if(~output)_state_to_heap(output);return hashed|0;}function pbkdf2_generate_block(offset,length,block,count,output){offset=offset|0;length=length|0;block=block|0;count=count|0;output=output|0;var h0h=0,h0l=0,h1h=0,h1l=0,h2h=0,h2l=0,h3h=0,h3l=0,h4h=0,h4l=0,h5h=0,h5l=0,h6h=0,h6l=0,h7h=0,h7l=0,t0h=0,t0l=0,t1h=0,t1l=0,t2h=0,t2l=0,t3h=0,t3l=0,t4h=0,t4l=0,t5h=0,t5l=0,t6h=0,t6l=0,t7h=0,t7l=0;if(offset&127)return -1;if(~output)if(output&63)return -1;HEAP[offset+length|0]=block>>>24;HEAP[offset+length+1|0]=block>>>16&255;HEAP[offset+length+2|0]=block>>>8&255;HEAP[offset+length+3|0]=block&255;hmac_finish(offset,length+4|0,-1)|0;h0h=t0h=H0h;h0l=t0l=H0l;h1h=t1h=H1h;h1l=t1l=H1l;h2h=t2h=H2h;h2l=t2l=H2l;h3h=t3h=H3h;h3l=t3l=H3l;h4h=t4h=H4h;h4l=t4l=H4l;h5h=t5h=H5h;h5l=t5l=H5l;h6h=t6h=H6h;h6l=t6l=H6l;h7h=t7h=H7h;h7l=t7l=H7l;count=count-1|0;while((count|0)>0){hmac_reset();_core(t0h,t0l,t1h,t1l,t2h,t2l,t3h,t3l,t4h,t4l,t5h,t5l,t6h,t6l,t7h,t7l,0x80000000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1536);t0h=H0h;t0l=H0l;t1h=H1h;t1l=H1l;t2h=H2h;t2l=H2l;t3h=H3h;t3l=H3l;t4h=H4h;t4l=H4l;t5h=H5h;t5l=H5l;t6h=H6h;t6l=H6l;t7h=H7h;t7l=H7l;_hmac_opad();_core(t0h,t0l,t1h,t1l,t2h,t2l,t3h,t3l,t4h,t4l,t5h,t5l,t6h,t6l,t7h,t7l,0x80000000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1536);t0h=H0h;t0l=H0l;t1h=H1h;t1l=H1l;t2h=H2h;t2l=H2l;t3h=H3h;t3l=H3l;t4h=H4h;t4l=H4l;t5h=H5h;t5l=H5l;t6h=H6h;t6l=H6l;t7h=H7h;t7l=H7l;h0h=h0h^H0h;h0l=h0l^H0l;h1h=h1h^H1h;h1l=h1l^H1l;h2h=h2h^H2h;h2l=h2l^H2l;h3h=h3h^H3h;h3l=h3l^H3l;h4h=h4h^H4h;h4l=h4l^H4l;h5h=h5h^H5h;h5l=h5l^H5l;h6h=h6h^H6h;h6l=h6l^H6l;h7h=h7h^H7h;h7l=h7l^H7l;count=count-1|0;}H0h=h0h;H0l=h0l;H1h=h1h;H1l=h1l;H2h=h2h;H2l=h2l;H3h=h3h;H3l=h3l;H4h=h4h;H4l=h4l;H5h=h5h;H5l=h5l;H6h=h6h;H6l=h6l;H7h=h7h;H7l=h7l;if(~output)_state_to_heap(output);return 0;}return {reset:reset,init:init,process:process,finish:finish,hmac_reset:hmac_reset,hmac_init:hmac_init,hmac_finish:hmac_finish,pbkdf2_generate_block:pbkdf2_generate_block};};var _sha512_block_size=128;var _sha512_hash_size=64;var Sha512=/*#__PURE__*/function(_Hash3){_inherits(Sha512,_Hash3);function Sha512(){var _this80;_classCallCheck(this,Sha512);_this80=_possibleConstructorReturn(this,_getPrototypeOf(Sha512).call(this));_this80.NAME='sha512';_this80.BLOCK_SIZE=_sha512_block_size;_this80.HASH_SIZE=_sha512_hash_size;_this80.heap=_heap_init();_this80.asm=sha512_asm({Uint8Array:Uint8Array},null,_this80.heap.buffer);_this80.reset();return _this80;}return Sha512;}(Hash);Sha512.NAME='sha512';var Hmac=/*#__PURE__*/function(){function Hmac(hash,password,verify){_classCallCheck(this,Hmac);if(!hash.HASH_SIZE)throw new SyntaxError("option 'hash' supplied doesn't seem to be a valid hash function");this.hash=hash;this.BLOCK_SIZE=this.hash.BLOCK_SIZE;this.HMAC_SIZE=this.hash.HASH_SIZE;this.result=null;this.key=_hmac_key(this.hash,password);var ipad=new Uint8Array(this.key);for(var i=0;i<ipad.length;++i){ipad[i]^=0x36;}this.hash.reset().process(ipad);if(verify!==undefined){this._hmac_init_verify(verify);}else{this.verify=null;}}_createClass(Hmac,[{key:"process",value:function process(data){if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');this.hash.process(data);return this;}},{key:"finish",value:function finish(){if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');var inner_result=this.hash.finish().result;var opad=new Uint8Array(this.key);for(var i=0;i<opad.length;++i){opad[i]^=0x5c;}var verify=this.verify;var result=this.hash.reset().process(opad).process(inner_result).finish().result;if(verify){if(verify.length===result.length){var diff=0;for(var _i23=0;_i23<verify.length;_i23++){diff|=verify[_i23]^result[_i23];}if(diff!==0)throw new Error("HMAC verification failed, hash value doesn't match");}else{throw new Error("HMAC verification failed, lengths doesn't match");}}this.result=result;return this;}},{key:"_hmac_init_verify",value:function _hmac_init_verify(verify){if(verify.length!==this.HMAC_SIZE)throw new IllegalArgumentError('illegal verification tag size');this.verify=verify;}}]);return Hmac;}();function _hmac_key(hash,password){var key=new Uint8Array(hash.BLOCK_SIZE);if(password.length>hash.BLOCK_SIZE){key.set(hash.reset().process(password).finish().result);}else{key.set(password);}return key;}var HmacSha1=/*#__PURE__*/function(_Hmac){_inherits(HmacSha1,_Hmac);function HmacSha1(password,verify){var _this81;_classCallCheck(this,HmacSha1);var hash=new Sha1();_this81=_possibleConstructorReturn(this,_getPrototypeOf(HmacSha1).call(this,hash,password,verify));_this81.reset();if(verify!==undefined){_this81._hmac_init_verify(verify);}else{_this81.verify=null;}return _possibleConstructorReturn(_this81,_assertThisInitialized(_this81));}_createClass(HmacSha1,[{key:"reset",value:function reset(){this.result=null;var key=this.key;this.hash.reset().asm.hmac_init(key[0]<<24|key[1]<<16|key[2]<<8|key[3],key[4]<<24|key[5]<<16|key[6]<<8|key[7],key[8]<<24|key[9]<<16|key[10]<<8|key[11],key[12]<<24|key[13]<<16|key[14]<<8|key[15],key[16]<<24|key[17]<<16|key[18]<<8|key[19],key[20]<<24|key[21]<<16|key[22]<<8|key[23],key[24]<<24|key[25]<<16|key[26]<<8|key[27],key[28]<<24|key[29]<<16|key[30]<<8|key[31],key[32]<<24|key[33]<<16|key[34]<<8|key[35],key[36]<<24|key[37]<<16|key[38]<<8|key[39],key[40]<<24|key[41]<<16|key[42]<<8|key[43],key[44]<<24|key[45]<<16|key[46]<<8|key[47],key[48]<<24|key[49]<<16|key[50]<<8|key[51],key[52]<<24|key[53]<<16|key[54]<<8|key[55],key[56]<<24|key[57]<<16|key[58]<<8|key[59],key[60]<<24|key[61]<<16|key[62]<<8|key[63]);return this;}},{key:"finish",value:function finish(){if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');var hash=this.hash;var asm=this.hash.asm;var heap=this.hash.heap;asm.hmac_finish(hash.pos,hash.len,0);var verify=this.verify;var result=new Uint8Array(_sha1_hash_size);result.set(heap.subarray(0,_sha1_hash_size));if(verify){if(verify.length===result.length){var diff=0;for(var i=0;i<verify.length;i++){diff|=verify[i]^result[i];}if(diff!==0)throw new Error("HMAC verification failed, hash value doesn't match");}else{throw new Error("HMAC verification failed, lengths doesn't match");}}else{this.result=result;}return this;}}]);return HmacSha1;}(Hmac);var HmacSha256=/*#__PURE__*/function(_Hmac2){_inherits(HmacSha256,_Hmac2);function HmacSha256(password,verify){var _this82;_classCallCheck(this,HmacSha256);var hash=new Sha256();_this82=_possibleConstructorReturn(this,_getPrototypeOf(HmacSha256).call(this,hash,password,verify));_this82.reset();if(verify!==undefined){_this82._hmac_init_verify(verify);}else{_this82.verify=null;}return _possibleConstructorReturn(_this82,_assertThisInitialized(_this82));}_createClass(HmacSha256,[{key:"reset",value:function reset(){var key=this.key;this.hash.reset().asm.hmac_init(key[0]<<24|key[1]<<16|key[2]<<8|key[3],key[4]<<24|key[5]<<16|key[6]<<8|key[7],key[8]<<24|key[9]<<16|key[10]<<8|key[11],key[12]<<24|key[13]<<16|key[14]<<8|key[15],key[16]<<24|key[17]<<16|key[18]<<8|key[19],key[20]<<24|key[21]<<16|key[22]<<8|key[23],key[24]<<24|key[25]<<16|key[26]<<8|key[27],key[28]<<24|key[29]<<16|key[30]<<8|key[31],key[32]<<24|key[33]<<16|key[34]<<8|key[35],key[36]<<24|key[37]<<16|key[38]<<8|key[39],key[40]<<24|key[41]<<16|key[42]<<8|key[43],key[44]<<24|key[45]<<16|key[46]<<8|key[47],key[48]<<24|key[49]<<16|key[50]<<8|key[51],key[52]<<24|key[53]<<16|key[54]<<8|key[55],key[56]<<24|key[57]<<16|key[58]<<8|key[59],key[60]<<24|key[61]<<16|key[62]<<8|key[63]);return this;}},{key:"finish",value:function finish(){if(this.key===null)throw new IllegalStateError('no key is associated with the instance');if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');var hash=this.hash;var asm=this.hash.asm;var heap=this.hash.heap;asm.hmac_finish(hash.pos,hash.len,0);var verify=this.verify;var result=new Uint8Array(_sha256_hash_size);result.set(heap.subarray(0,_sha256_hash_size));if(verify){if(verify.length===result.length){var diff=0;for(var i=0;i<verify.length;i++){diff|=verify[i]^result[i];}if(diff!==0)throw new Error("HMAC verification failed, hash value doesn't match");}else{throw new Error("HMAC verification failed, lengths doesn't match");}}else{this.result=result;}return this;}}]);return HmacSha256;}(Hmac);var HmacSha512=/*#__PURE__*/function(_Hmac3){_inherits(HmacSha512,_Hmac3);function HmacSha512(password,verify){var _this83;_classCallCheck(this,HmacSha512);var hash=new Sha512();_this83=_possibleConstructorReturn(this,_getPrototypeOf(HmacSha512).call(this,hash,password,verify));_this83.reset();if(verify!==undefined){_this83._hmac_init_verify(verify);}else{_this83.verify=null;}return _possibleConstructorReturn(_this83,_assertThisInitialized(_this83));}_createClass(HmacSha512,[{key:"reset",value:function reset(){var key=this.key;this.hash.reset().asm.hmac_init(key[0]<<24|key[1]<<16|key[2]<<8|key[3],key[4]<<24|key[5]<<16|key[6]<<8|key[7],key[8]<<24|key[9]<<16|key[10]<<8|key[11],key[12]<<24|key[13]<<16|key[14]<<8|key[15],key[16]<<24|key[17]<<16|key[18]<<8|key[19],key[20]<<24|key[21]<<16|key[22]<<8|key[23],key[24]<<24|key[25]<<16|key[26]<<8|key[27],key[28]<<24|key[29]<<16|key[30]<<8|key[31],key[32]<<24|key[33]<<16|key[34]<<8|key[35],key[36]<<24|key[37]<<16|key[38]<<8|key[39],key[40]<<24|key[41]<<16|key[42]<<8|key[43],key[44]<<24|key[45]<<16|key[46]<<8|key[47],key[48]<<24|key[49]<<16|key[50]<<8|key[51],key[52]<<24|key[53]<<16|key[54]<<8|key[55],key[56]<<24|key[57]<<16|key[58]<<8|key[59],key[60]<<24|key[61]<<16|key[62]<<8|key[63],key[64]<<24|key[65]<<16|key[66]<<8|key[67],key[68]<<24|key[69]<<16|key[70]<<8|key[71],key[72]<<24|key[73]<<16|key[74]<<8|key[75],key[76]<<24|key[77]<<16|key[78]<<8|key[79],key[80]<<24|key[81]<<16|key[82]<<8|key[83],key[84]<<24|key[85]<<16|key[86]<<8|key[87],key[88]<<24|key[89]<<16|key[90]<<8|key[91],key[92]<<24|key[93]<<16|key[94]<<8|key[95],key[96]<<24|key[97]<<16|key[98]<<8|key[99],key[100]<<24|key[101]<<16|key[102]<<8|key[103],key[104]<<24|key[105]<<16|key[106]<<8|key[107],key[108]<<24|key[109]<<16|key[110]<<8|key[111],key[112]<<24|key[113]<<16|key[114]<<8|key[115],key[116]<<24|key[117]<<16|key[118]<<8|key[119],key[120]<<24|key[121]<<16|key[122]<<8|key[123],key[124]<<24|key[125]<<16|key[126]<<8|key[127]);return this;}},{key:"finish",value:function finish(){if(this.key===null)throw new IllegalStateError('no key is associated with the instance');if(this.result!==null)throw new IllegalStateError('state must be reset before processing new data');var hash=this.hash;var asm=this.hash.asm;var heap=this.hash.heap;asm.hmac_finish(hash.pos,hash.len,0);var verify=this.verify;var result=new Uint8Array(_sha512_hash_size);result.set(heap.subarray(0,_sha512_hash_size));if(verify){if(verify.length===result.length){var diff=0;for(var i=0;i<verify.length;i++){diff|=verify[i]^result[i];}if(diff!==0)throw new Error("HMAC verification failed, hash value doesn't match");}else{throw new Error("HMAC verification failed, lengths doesn't match");}}else{this.result=result;}return this;}}]);return HmacSha512;}(Hmac);function Pbkdf2HmacSha1(password,salt,count,length){var hmac=new HmacSha1(password);var result=new Uint8Array(length);var blocks=Math.ceil(length/hmac.HMAC_SIZE);for(var i=1;i<=blocks;++i){var j=(i-1)*hmac.HMAC_SIZE;var l=(i<blocks?0:length%hmac.HMAC_SIZE)||hmac.HMAC_SIZE;hmac.reset().process(salt);hmac.hash.asm.pbkdf2_generate_block(hmac.hash.pos,hmac.hash.len,i,count,0);result.set(hmac.hash.heap.subarray(0,l),j);}return result;}function Pbkdf2HmacSha256(password,salt,count,length){var hmac=new HmacSha256(password);var result=new Uint8Array(length);var blocks=Math.ceil(length/hmac.HMAC_SIZE);for(var i=1;i<=blocks;++i){var j=(i-1)*hmac.HMAC_SIZE;var l=(i<blocks?0:length%hmac.HMAC_SIZE)||hmac.HMAC_SIZE;hmac.reset().process(salt);hmac.hash.asm.pbkdf2_generate_block(hmac.hash.pos,hmac.hash.len,i,count,0);result.set(hmac.hash.heap.subarray(0,l),j);}return result;}function Pbkdf2HmacSha512(password,salt,count,length){var hmac=new HmacSha512(password);var result=new Uint8Array(length);var blocks=Math.ceil(length/hmac.HMAC_SIZE);for(var i=1;i<=blocks;++i){var j=(i-1)*hmac.HMAC_SIZE;var l=(i<blocks?0:length%hmac.HMAC_SIZE)||hmac.HMAC_SIZE;hmac.reset().process(salt);hmac.hash.asm.pbkdf2_generate_block(hmac.hash.pos,hmac.hash.len,i,count,0);result.set(hmac.hash.heap.subarray(0,l),j);}return result;}var RSA=/*#__PURE__*/function(){function RSA(key){_classCallCheck(this,RSA);var l=key.length;if(l!==2&&l!==3&&l!==8)throw new SyntaxError('unexpected key type');var k0=new Modulus(new BigNumber(key[0]));var k1=new BigNumber(key[1]);this.key={0:k0,1:k1};if(l>2){this.key[2]=new BigNumber(key[2]);}if(l>3){this.key[3]=new Modulus(new BigNumber(key[3]));this.key[4]=new Modulus(new BigNumber(key[4]));this.key[5]=new BigNumber(key[5]);this.key[6]=new BigNumber(key[6]);this.key[7]=new BigNumber(key[7]);}}_createClass(RSA,[{key:"encrypt",value:function encrypt(msg){if(!this.key)throw new IllegalStateError('no key is associated with the instance');if(this.key[0].compare(msg)<=0)throw new RangeError('data too large');var m=this.key[0];var e=this.key[1];var result=m.power(msg,e).toBytes();var bytelen=m.bitLength+7>>3;if(result.length<bytelen){var _r=new Uint8Array(bytelen);_r.set(result,bytelen-result.length);result=_r;}this.result=result;return this;}},{key:"decrypt",value:function decrypt(msg){if(this.key[0].compare(msg)<=0)throw new RangeError('data too large');var result;var m;if(this.key[3]!==undefined){m=this.key[0];var p=this.key[3];var q=this.key[4];var dp=this.key[5];var dq=this.key[6];var u=this.key[7];var x=p.power(msg,dp);var y=q.power(msg,dq);var t=x.subtract(y);while(t.sign<0){t=t.add(p);}var h=p.reduce(u.multiply(t));result=h.multiply(q).add(y).clamp(m.bitLength).toBytes();}else{m=this.key[0];var d=this.key[2];result=m.power(msg,d).toBytes();}var bytelen=m.bitLength+7>>3;if(result.length<bytelen){var _r2=new Uint8Array(bytelen);_r2.set(result,bytelen-result.length);result=_r2;}this.result=result;return this;}}]);return RSA;}();var RSA_OAEP=/*#__PURE__*/function(){function RSA_OAEP(key,hash,label){_classCallCheck(this,RSA_OAEP);this.rsa=new RSA(key);this.hash=hash;if(label!==undefined){this.label=label.length>0?label:null;}else{this.label=null;}}_createClass(RSA_OAEP,[{key:"encrypt",value:function encrypt(data,random){var key_size=Math.ceil(this.rsa.key[0].bitLength/8);var hash_size=this.hash.HASH_SIZE;var data_length=data.byteLength||data.length||0;var ps_length=key_size-data_length-2*hash_size-2;if(data_length>key_size-2*this.hash.HASH_SIZE-2)throw new IllegalArgumentError('data too large');var message=new Uint8Array(key_size);var seed=message.subarray(1,hash_size+1);var data_block=message.subarray(hash_size+1);data_block.set(data,hash_size+ps_length+1);data_block.set(this.hash.process(this.label||new Uint8Array(0)).finish().result,0);data_block[hash_size+ps_length]=1;if(random!==undefined){if(seed.length!==random.length)throw new IllegalArgumentError('random size must equal the hash size');seed.set(random);}else{getRandomValues(seed);}var data_block_mask=this.RSA_MGF1_generate(seed,data_block.length);for(var i=0;i<data_block.length;i++){data_block[i]^=data_block_mask[i];}var seed_mask=this.RSA_MGF1_generate(data_block,seed.length);for(var _i24=0;_i24<seed.length;_i24++){seed[_i24]^=seed_mask[_i24];}this.rsa.encrypt(new BigNumber(message));return new Uint8Array(this.rsa.result);}},{key:"decrypt",value:function decrypt(data){if(!this.rsa.key)throw new IllegalStateError('no key is associated with the instance');var key_size=Math.ceil(this.rsa.key[0].bitLength/8);var hash_size=this.hash.HASH_SIZE;var data_length=data.byteLength||data.length||0;if(data_length!==key_size)throw new IllegalArgumentError('bad data');this.rsa.decrypt(new BigNumber(data));var z=this.rsa.result[0];var seed=this.rsa.result.subarray(1,hash_size+1);var data_block=this.rsa.result.subarray(hash_size+1);if(z!==0)throw new SecurityError('decryption failed');var seed_mask=this.RSA_MGF1_generate(data_block,seed.length);for(var i=0;i<seed.length;i++){seed[i]^=seed_mask[i];}var data_block_mask=this.RSA_MGF1_generate(seed,data_block.length);for(var _i25=0;_i25<data_block.length;_i25++){data_block[_i25]^=data_block_mask[_i25];}var lhash=this.hash.reset().process(this.label||new Uint8Array(0)).finish().result;for(var _i26=0;_i26<hash_size;_i26++){if(lhash[_i26]!==data_block[_i26])throw new SecurityError('decryption failed');}var ps_end=hash_size;for(;ps_end<data_block.length;ps_end++){var psz=data_block[ps_end];if(psz===1)break;if(psz!==0)throw new SecurityError('decryption failed');}if(ps_end===data_block.length)throw new SecurityError('decryption failed');this.rsa.result=data_block.subarray(ps_end+1);return new Uint8Array(this.rsa.result);}},{key:"RSA_MGF1_generate",value:function RSA_MGF1_generate(seed){var length=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var hash_size=this.hash.HASH_SIZE;var mask=new Uint8Array(length);var counter=new Uint8Array(4);var chunks=Math.ceil(length/hash_size);for(var i=0;i<chunks;i++){counter[0]=i>>>24,counter[1]=i>>>16&255,counter[2]=i>>>8&255,counter[3]=i&255;var submask=mask.subarray(i*hash_size);var chunk=this.hash.reset().process(seed).process(counter).finish().result;if(chunk.length>submask.length)chunk=chunk.subarray(0,submask.length);submask.set(chunk);}return mask;}}]);return RSA_OAEP;}();var RSA_PSS=/*#__PURE__*/function(){function RSA_PSS(key,hash){var saltLength=arguments.length>2&&arguments[2]!==undefined?arguments[2]:4;_classCallCheck(this,RSA_PSS);this.rsa=new RSA(key);this.hash=hash;this.saltLength=saltLength;if(this.saltLength<0)throw new TypeError('saltLength should be a non-negative number');if(this.rsa.key!==null&&Math.ceil((this.rsa.key[0].bitLength-1)/8)<this.hash.HASH_SIZE+this.saltLength+2)throw new SyntaxError('saltLength is too large');}_createClass(RSA_PSS,[{key:"sign",value:function sign(data,random){var key_bits=this.rsa.key[0].bitLength;var hash_size=this.hash.HASH_SIZE;var message_length=Math.ceil((key_bits-1)/8);var salt_length=this.saltLength;var ps_length=message_length-salt_length-hash_size-2;var message=new Uint8Array(message_length);var h_block=message.subarray(message_length-hash_size-1,message_length-1);var d_block=message.subarray(0,message_length-hash_size-1);var d_salt=d_block.subarray(ps_length+1);var m_block=new Uint8Array(8+hash_size+salt_length);var m_hash=m_block.subarray(8,8+hash_size);var m_salt=m_block.subarray(8+hash_size);m_hash.set(this.hash.process(data).finish().result);if(salt_length>0){if(random!==undefined){if(m_salt.length!==random.length)throw new IllegalArgumentError('random size must equal the salt size');m_salt.set(random);}else{getRandomValues(m_salt);}}d_block[ps_length]=1;d_salt.set(m_salt);h_block.set(this.hash.reset().process(m_block).finish().result);var d_block_mask=this.RSA_MGF1_generate(h_block,d_block.length);for(var i=0;i<d_block.length;i++){d_block[i]^=d_block_mask[i];}message[message_length-1]=0xbc;var zbits=8*message_length-key_bits+1;if(zbits%8)message[0]&=0xff>>>zbits;this.rsa.decrypt(new BigNumber(message));return this.rsa.result;}},{key:"verify",value:function verify(signature,data){var key_bits=this.rsa.key[0].bitLength;var hash_size=this.hash.HASH_SIZE;var message_length=Math.ceil((key_bits-1)/8);var salt_length=this.saltLength;var ps_length=message_length-salt_length-hash_size-2;this.rsa.encrypt(new BigNumber(signature));var message=this.rsa.result;if(message[message_length-1]!==0xbc)throw new SecurityError('bad signature');var h_block=message.subarray(message_length-hash_size-1,message_length-1);var d_block=message.subarray(0,message_length-hash_size-1);var d_salt=d_block.subarray(ps_length+1);var zbits=8*message_length-key_bits+1;if(zbits%8&&message[0]>>>8-zbits)throw new SecurityError('bad signature');var d_block_mask=this.RSA_MGF1_generate(h_block,d_block.length);for(var i=0;i<d_block.length;i++){d_block[i]^=d_block_mask[i];}if(zbits%8)message[0]&=0xff>>>zbits;for(var _i27=0;_i27<ps_length;_i27++){if(d_block[_i27]!==0)throw new SecurityError('bad signature');}if(d_block[ps_length]!==1)throw new SecurityError('bad signature');var m_block=new Uint8Array(8+hash_size+salt_length);var m_hash=m_block.subarray(8,8+hash_size);var m_salt=m_block.subarray(8+hash_size);m_hash.set(this.hash.reset().process(data).finish().result);m_salt.set(d_salt);var h_block_verify=this.hash.reset().process(m_block).finish().result;for(var _i28=0;_i28<hash_size;_i28++){if(h_block[_i28]!==h_block_verify[_i28])throw new SecurityError('bad signature');}}},{key:"RSA_MGF1_generate",value:function RSA_MGF1_generate(seed){var length=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var hash_size=this.hash.HASH_SIZE;var mask=new Uint8Array(length);var counter=new Uint8Array(4);var chunks=Math.ceil(length/hash_size);for(var i=0;i<chunks;i++){counter[0]=i>>>24,counter[1]=i>>>16&255,counter[2]=i>>>8&255,counter[3]=i&255;var submask=mask.subarray(i*hash_size);var chunk=this.hash.reset().process(seed).process(counter).finish().result;if(chunk.length>submask.length)chunk=chunk.subarray(0,submask.length);submask.set(chunk);}return mask;}}]);return RSA_PSS;}();var RSA_PKCS1_v1_5=/*#__PURE__*/function(){function RSA_PKCS1_v1_5(key,hash){_classCallCheck(this,RSA_PKCS1_v1_5);this.rsa=new RSA(key);this.hash=hash;}_createClass(RSA_PKCS1_v1_5,[{key:"sign",value:function sign(data){if(!this.rsa.key){throw new IllegalStateError('no key is associated with the instance');}var prefix=getHashPrefix(this.hash);var hash_size=this.hash.HASH_SIZE;var t_len=prefix.length+hash_size;var k=this.rsa.key[0].bitLength+7>>3;if(k<t_len+11){throw new Error('Message too long');}var m_hash=new Uint8Array(hash_size);m_hash.set(this.hash.process(data).finish().result);var em=new Uint8Array(k);var i=0;em[i++]=0;em[i++]=1;for(i;i<k-t_len-1;i++){em[i]=0xff;}em[i++]=0;em.set(prefix,i);em.set(m_hash,em.length-hash_size);this.rsa.decrypt(new BigNumber(em));return this.rsa.result;}},{key:"verify",value:function verify(signature,data){var prefix=getHashPrefix(this.hash);var hash_size=this.hash.HASH_SIZE;var t_len=prefix.length+hash_size;var k=this.rsa.key[0].bitLength+7>>3;if(k<t_len+11){throw new SecurityError('Bad signature');}this.rsa.encrypt(new BigNumber(signature));var m_hash=new Uint8Array(hash_size);m_hash.set(this.hash.process(data).finish().result);var res=1;var decryptedSignature=this.rsa.result;var i=0;res&=decryptedSignature[i++]===0?1:0;res&=decryptedSignature[i++]===1?1:0;for(i;i<k-t_len-1;i++){res&=decryptedSignature[i]===0xff?1:0;}res&=decryptedSignature[i++]===0?1:0;var j=0;var n=i+prefix.length;for(i;i<n;i++){res&=decryptedSignature[i]===prefix[j++]?1:0;}j=0;n=i+m_hash.length;for(i;i<n;i++){res&=decryptedSignature[i]===m_hash[j++]?1:0;}if(!res){throw new SecurityError('Bad signature');}}}]);return RSA_PKCS1_v1_5;}();var HASH_PREFIXES={sha1:new Uint8Array([0x30,0x21,0x30,0x09,0x06,0x05,0x2b,0x0e,0x03,0x02,0x1a,0x05,0x00,0x04,0x14]),sha256:new Uint8Array([0x30,0x31,0x30,0x0d,0x06,0x09,0x60,0x86,0x48,0x01,0x65,0x03,0x04,0x02,0x01,0x05,0x00,0x04,0x20]),sha384:new Uint8Array([0x30,0x41,0x30,0x0d,0x06,0x09,0x60,0x86,0x48,0x01,0x65,0x03,0x04,0x02,0x02,0x05,0x00,0x04,0x30]),sha512:new Uint8Array([0x30,0x51,0x30,0x0d,0x06,0x09,0x60,0x86,0x48,0x01,0x65,0x03,0x04,0x02,0x03,0x05,0x00,0x04,0x40])};function getHashPrefix(hash){var prefix=HASH_PREFIXES[hash.NAME];if(!prefix){throw new Error("Cannot get hash prefix for hash algorithm '"+hash.NAME+"'");}return prefix;}function isAlgorithm(algorithm,name){return algorithm.name.toUpperCase()===name.toUpperCase();}var AesCryptoKey=/*#__PURE__*/function(_CryptoKey$){_inherits(AesCryptoKey,_CryptoKey$);function AesCryptoKey(algorithm,extractable,usages,raw){var _this84;_classCallCheck(this,AesCryptoKey);_this84=_possibleConstructorReturn(this,_getPrototypeOf(AesCryptoKey).call(this,algorithm,extractable,"secret",usages));_this84.raw=raw;return _this84;}_createClass(AesCryptoKey,[{key:"toJSON",value:function toJSON(){var jwk={kty:"oct",alg:this.getJwkAlgorithm(),k:Convert.ToBase64Url(this.raw),ext:this.extractable,key_ops:this.usages};return jwk;}},{key:"getJwkAlgorithm",value:function getJwkAlgorithm(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return "A".concat(this.algorithm.length,"CBC");case"AES-CTR":return "A".concat(this.algorithm.length,"CTR");case"AES-GCM":return "A".concat(this.algorithm.length,"GCM");case"AES-ECB":return "A".concat(this.algorithm.length,"ECB");default:throw new AlgorithmError("Unsupported algorithm name");}}}]);return AesCryptoKey;}(CryptoKey$1);var AesCrypto=/*#__PURE__*/function(){function AesCrypto(){_classCallCheck(this,AesCrypto);}_createClass(AesCrypto,null,[{key:"checkCryptoKey",value:function checkCryptoKey(key){if(!(key instanceof AesCryptoKey)){throw new TypeError("key: Is not AesCryptoKey");}}},{key:"generateKey",value:function generateKey(algorithm,extractable,usages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee31(){var raw;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:raw=nativeCrypto.getRandomValues(new Uint8Array(algorithm.length/8));return _context31.abrupt("return",new AesCryptoKey(algorithm,extractable,usages,raw));case 2:case"end":return _context31.stop();}}},_callee31);}));}},{key:"encrypt",value:function encrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee32(){return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:return _context32.abrupt("return",this.cipher(algorithm,key,BufferSourceConverter.toUint8Array(data),true));case 1:case"end":return _context32.stop();}}},_callee32,this);}));}},{key:"decrypt",value:function decrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee33(){return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:return _context33.abrupt("return",this.cipher(algorithm,key,BufferSourceConverter.toUint8Array(data),false));case 1:case"end":return _context33.stop();}}},_callee33,this);}));}},{key:"exportKey",value:function exportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee34(){return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:_context34.t0=format;_context34.next=_context34.t0==="jwk"?3:_context34.t0==="raw"?4:5;break;case 3:return _context34.abrupt("return",key.toJSON());case 4:return _context34.abrupt("return",key.raw.buffer);case 5:throw new OperationError("format: Must be 'jwk' or 'raw'");case 6:case"end":return _context34.stop();}}},_callee34);}));}},{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee35(){var raw,key;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:if(isJWK(keyData)){raw=Convert.FromBase64Url(keyData.k);}else{raw=BufferSourceConverter.toArrayBuffer(keyData);}_context35.t0=raw.byteLength<<3;_context35.next=_context35.t0===128?4:_context35.t0===192?4:_context35.t0===256?4:5;break;case 4:return _context35.abrupt("break",6);case 5:throw new OperationError("keyData: Is wrong key length");case 6:key=new AesCryptoKey({name:algorithm.name,length:raw.byteLength<<3},extractable,keyUsages,new Uint8Array(raw));return _context35.abrupt("return",key);case 8:case"end":return _context35.stop();}}},_callee35);}));}},{key:"cipher",value:function cipher(algorithm,key,data,encrypt){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var action,result,iv,_iv,additionalData,tagLength;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:action=encrypt?"encrypt":"decrypt";if(!isAlgorithm(algorithm,AesCrypto.AesCBC)){_context36.next=6;break;}iv=BufferSourceConverter.toUint8Array(algorithm.iv);result=AES_CBC[action](data,key.raw,undefined,iv);_context36.next=18;break;case 6:if(!isAlgorithm(algorithm,AesCrypto.AesGCM)){_context36.next=13;break;}_iv=BufferSourceConverter.toUint8Array(algorithm.iv);if(algorithm.additionalData){additionalData=BufferSourceConverter.toArrayBuffer(algorithm.additionalData);}tagLength=(algorithm.tagLength||128)/8;result=AES_GCM[action](data,key.raw,_iv,additionalData,tagLength);_context36.next=18;break;case 13:if(!isAlgorithm(algorithm,AesCrypto.AesECB)){_context36.next=17;break;}result=AES_ECB[action](data,key.raw,true);_context36.next=18;break;case 17:throw new OperationError("algorithm: Is not recognized");case 18:return _context36.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 19:case"end":return _context36.stop();}}},_callee36);}));}}]);return AesCrypto;}();AesCrypto.AesCBC="AES-CBC";AesCrypto.AesECB="AES-ECB";AesCrypto.AesGCM="AES-GCM";var AesCbcProvider$1=/*#__PURE__*/function(_AesCbcProvider){_inherits(AesCbcProvider$1,_AesCbcProvider);function AesCbcProvider$1(){_classCallCheck(this,AesCbcProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(AesCbcProvider$1).apply(this,arguments));}_createClass(AesCbcProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee37(){return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:return _context37.abrupt("return",AesCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context37.stop();}}},_callee37);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee38(){return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:return _context38.abrupt("return",AesCrypto.encrypt(algorithm,key,data));case 1:case"end":return _context38.stop();}}},_callee38);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee39(){return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:return _context39.abrupt("return",AesCrypto.decrypt(algorithm,key,data));case 1:case"end":return _context39.stop();}}},_callee39);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee40(){return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:return _context40.abrupt("return",AesCrypto.exportKey(format,key));case 1:case"end":return _context40.stop();}}},_callee40);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee41(){return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:return _context41.abrupt("return",AesCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context41.stop();}}},_callee41);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(AesCbcProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);AesCrypto.checkCryptoKey(key);}}]);return AesCbcProvider$1;}(AesCbcProvider);var AesEcbProvider$1=/*#__PURE__*/function(_AesEcbProvider){_inherits(AesEcbProvider$1,_AesEcbProvider);function AesEcbProvider$1(){_classCallCheck(this,AesEcbProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(AesEcbProvider$1).apply(this,arguments));}_createClass(AesEcbProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:return _context42.abrupt("return",AesCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context42.stop();}}},_callee42);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:return _context43.abrupt("return",AesCrypto.encrypt(algorithm,key,data));case 1:case"end":return _context43.stop();}}},_callee43);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee44(){return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:return _context44.abrupt("return",AesCrypto.decrypt(algorithm,key,data));case 1:case"end":return _context44.stop();}}},_callee44);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee45(){return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:return _context45.abrupt("return",AesCrypto.exportKey(format,key));case 1:case"end":return _context45.stop();}}},_callee45);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:return _context46.abrupt("return",AesCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context46.stop();}}},_callee46);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(AesEcbProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);AesCrypto.checkCryptoKey(key);}}]);return AesEcbProvider$1;}(AesEcbProvider);var AesGcmProvider$1=/*#__PURE__*/function(_AesGcmProvider){_inherits(AesGcmProvider$1,_AesGcmProvider);function AesGcmProvider$1(){_classCallCheck(this,AesGcmProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(AesGcmProvider$1).apply(this,arguments));}_createClass(AesGcmProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee47(){return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:return _context47.abrupt("return",AesCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context47.stop();}}},_callee47);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee48(){return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:return _context48.abrupt("return",AesCrypto.encrypt(algorithm,key,data));case 1:case"end":return _context48.stop();}}},_callee48);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:return _context49.abrupt("return",AesCrypto.decrypt(algorithm,key,data));case 1:case"end":return _context49.stop();}}},_callee49);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee50(){return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:return _context50.abrupt("return",AesCrypto.exportKey(format,key));case 1:case"end":return _context50.stop();}}},_callee50);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee51(){return regeneratorRuntime.wrap(function _callee51$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:return _context51.abrupt("return",AesCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context51.stop();}}},_callee51);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(AesGcmProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);AesCrypto.checkCryptoKey(key);}}]);return AesGcmProvider$1;}(AesGcmProvider);var AesCtrProvider$1=/*#__PURE__*/function(_AesCtrProvider){_inherits(AesCtrProvider$1,_AesCtrProvider);function AesCtrProvider$1(){_classCallCheck(this,AesCtrProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(AesCtrProvider$1).apply(this,arguments));}_createClass(AesCtrProvider$1,[{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee52(){var result;return regeneratorRuntime.wrap(function _callee52$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:result=new AES_CTR(key.raw,BufferSourceConverter.toUint8Array(algorithm.counter)).encrypt(BufferSourceConverter.toUint8Array(data));return _context52.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 2:case"end":return _context52.stop();}}},_callee52);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){var result;return regeneratorRuntime.wrap(function _callee53$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:result=new AES_CTR(key.raw,BufferSourceConverter.toUint8Array(algorithm.counter)).decrypt(BufferSourceConverter.toUint8Array(data));return _context53.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 2:case"end":return _context53.stop();}}},_callee53);}));}},{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee54(){return regeneratorRuntime.wrap(function _callee54$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:return _context54.abrupt("return",AesCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context54.stop();}}},_callee54);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){return regeneratorRuntime.wrap(function _callee55$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:return _context55.abrupt("return",AesCrypto.exportKey(format,key));case 1:case"end":return _context55.stop();}}},_callee55);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee56(){return regeneratorRuntime.wrap(function _callee56$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:return _context56.abrupt("return",AesCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context56.stop();}}},_callee56);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(AesCtrProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);AesCrypto.checkCryptoKey(key);}}]);return AesCtrProvider$1;}(AesCtrProvider);var AesKwProvider$1=/*#__PURE__*/function(_AesKwProvider){_inherits(AesKwProvider$1,_AesKwProvider);function AesKwProvider$1(){_classCallCheck(this,AesKwProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(AesKwProvider$1).apply(this,arguments));}_createClass(AesKwProvider$1,[{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee57(){return regeneratorRuntime.wrap(function _callee57$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return _context57.stop();}}},_callee57);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee58(){return regeneratorRuntime.wrap(function _callee58$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return _context58.stop();}}},_callee58);}));}},{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee59(){return regeneratorRuntime.wrap(function _callee59$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return _context59.stop();}}},_callee59);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee60(){return regeneratorRuntime.wrap(function _callee60$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return _context60.stop();}}},_callee60);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee61(){return regeneratorRuntime.wrap(function _callee61$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return _context61.stop();}}},_callee61);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(AesKwProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);AesCrypto.checkCryptoKey(key);}}]);return AesKwProvider$1;}(AesKwProvider);var RsaCryptoKey=/*#__PURE__*/function(_CryptoKey$2){_inherits(RsaCryptoKey,_CryptoKey$2);function RsaCryptoKey(algorithm,extractable,type,usages,data){var _this85;_classCallCheck(this,RsaCryptoKey);_this85=_possibleConstructorReturn(this,_getPrototypeOf(RsaCryptoKey).call(this,algorithm,extractable,type,usages));_this85.data=data;return _this85;}return RsaCryptoKey;}(CryptoKey$1);var RsaCrypto=/*#__PURE__*/function(){function RsaCrypto(){_classCallCheck(this,RsaCrypto);}_createClass(RsaCrypto,null,[{key:"checkCryptoKey",value:function checkCryptoKey(key){if(!(key instanceof RsaCryptoKey)){throw new TypeError("key: Is not RsaCryptoKey");}}},{key:"generateKey",value:function generateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee62(){var _this86=this;var alg,keys,crypto,pkcs8,privateKey,spki,publicKey;return regeneratorRuntime.wrap(function _callee62$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:alg={name:"RSA-PSS",hash:"SHA-256",publicExponent:algorithm.publicExponent,modulusLength:algorithm.modulusLength};_context62.next=3;return nativeSubtle.generateKey(alg,true,["sign","verify"]);case 3:keys=_context62.sent;crypto=new Crypto$1();_context62.next=7;return crypto.subtle.exportKey("pkcs8",keys.privateKey);case 7:pkcs8=_context62.sent;_context62.next=10;return crypto.subtle.importKey("pkcs8",pkcs8,algorithm,extractable,keyUsages.filter(function(o){return _this86.privateUsages.includes(o);}));case 10:privateKey=_context62.sent;_context62.next=13;return crypto.subtle.exportKey("spki",keys.publicKey);case 13:spki=_context62.sent;_context62.next=16;return crypto.subtle.importKey("spki",spki,algorithm,true,keyUsages.filter(function(o){return _this86.publicUsages.includes(o);}));case 16:publicKey=_context62.sent;return _context62.abrupt("return",{privateKey:privateKey,publicKey:publicKey});case 18:case"end":return _context62.stop();}}},_callee62);}));}},{key:"exportKey",value:function exportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){return regeneratorRuntime.wrap(function _callee63$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:_context63.t0=format;_context63.next=_context63.t0==="pkcs8"?3:_context63.t0==="spki"?4:_context63.t0==="jwk"?5:6;break;case 3:return _context63.abrupt("return",this.exportPkcs8Key(key));case 4:return _context63.abrupt("return",this.exportSpkiKey(key));case 5:return _context63.abrupt("return",this.exportJwkKey(key));case 6:throw new OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'");case 7:case"end":return _context63.stop();}}},_callee63,this);}));}},{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var asmKey,key;return regeneratorRuntime.wrap(function _callee64$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:_context64.t0=format;_context64.next=_context64.t0==="pkcs8"?3:_context64.t0==="spki"?5:_context64.t0==="jwk"?7:9;break;case 3:asmKey=this.importPkcs8Key(keyData);return _context64.abrupt("break",10);case 5:asmKey=this.importSpkiKey(keyData);return _context64.abrupt("break",10);case 7:asmKey=this.importJwkKey(keyData);return _context64.abrupt("break",10);case 9:throw new OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'");case 10:key=new RsaCryptoKey(Object.assign({publicExponent:asmKey[1][1]===1?asmKey[1].slice(1):asmKey[1].slice(3),modulusLength:asmKey[0].byteLength<<3},algorithm),extractable,asmKey.length===2?"public":"private",keyUsages,asmKey);return _context64.abrupt("return",key);case 12:case"end":return _context64.stop();}}},_callee64,this);}));}},{key:"randomNonZeroValues",value:function randomNonZeroValues(data){data=nativeCrypto.getRandomValues(data);return data.map(function(n){while(!n){n=nativeCrypto.getRandomValues(new Uint8Array(1))[0];}return n;});}},{key:"exportPkcs8Key",value:function exportPkcs8Key(key){var keyInfo=new PrivateKeyInfo();keyInfo.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1";keyInfo.privateKeyAlgorithm.parameters=null;keyInfo.privateKey=AsnSerializer.serialize(this.exportAsmKey(key.data));return AsnSerializer.serialize(keyInfo);}},{key:"importPkcs8Key",value:function importPkcs8Key(data){var keyInfo=AsnParser.parse(data,PrivateKeyInfo);var privateKey=AsnParser.parse(keyInfo.privateKey,RsaPrivateKey);return this.importAsmKey(privateKey);}},{key:"importSpkiKey",value:function importSpkiKey(data){var keyInfo=AsnParser.parse(data,PublicKeyInfo);var publicKey=AsnParser.parse(keyInfo.publicKey,RsaPublicKey);return this.importAsmKey(publicKey);}},{key:"exportSpkiKey",value:function exportSpkiKey(key){var publicKey=new RsaPublicKey();publicKey.modulus=key.data[0].buffer;publicKey.publicExponent=key.data[1][1]===1?key.data[1].buffer.slice(1):key.data[1].buffer.slice(3);var keyInfo=new PublicKeyInfo();keyInfo.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1";keyInfo.publicKeyAlgorithm.parameters=null;keyInfo.publicKey=AsnSerializer.serialize(publicKey);return AsnSerializer.serialize(keyInfo);}},{key:"importJwkKey",value:function importJwkKey(data){var key;if(data.d){key=build_2.fromJSON(data,{targetSchema:RsaPrivateKey});}else{key=build_2.fromJSON(data,{targetSchema:RsaPublicKey});}return this.importAsmKey(key);}},{key:"exportJwkKey",value:function exportJwkKey(key){var asnKey=this.exportAsmKey(key.data);var jwk=build_4.toJSON(asnKey);jwk.ext=true;jwk.key_ops=key.usages;jwk.kty="RSA";jwk.alg=this.getJwkAlgorithm(key.algorithm);return jwk;}},{key:"getJwkAlgorithm",value:function getJwkAlgorithm(algorithm){switch(algorithm.name.toUpperCase()){case"RSA-OAEP":var mdSize=/(\d+)$/.exec(algorithm.hash.name)[1];return "RSA-OAEP".concat(mdSize!=="1"?"-".concat(mdSize):"");case"RSASSA-PKCS1-V1_5":return "RS".concat(/(\d+)$/.exec(algorithm.hash.name)[1]);case"RSA-PSS":return "PS".concat(/(\d+)$/.exec(algorithm.hash.name)[1]);case"RSA-PKCS1":return "PS1";default:throw new OperationError("algorithm: Is not recognized");}}},{key:"exportAsmKey",value:function exportAsmKey(asmKey){var key;if(asmKey.length>2){var privateKey=new RsaPrivateKey();privateKey.privateExponent=asmKey[2].buffer;privateKey.prime1=asmKey[3].buffer;privateKey.prime2=asmKey[4].buffer;privateKey.exponent1=asmKey[5].buffer;privateKey.exponent2=asmKey[6].buffer;privateKey.coefficient=asmKey[7].buffer;key=privateKey;}else{key=new RsaPublicKey();}key.modulus=asmKey[0].buffer;key.publicExponent=asmKey[1][1]===1?asmKey[1].buffer.slice(1):asmKey[1].buffer.slice(3);return key;}},{key:"importAsmKey",value:function importAsmKey(key){var expPadding=new Uint8Array(4-key.publicExponent.byteLength);var asmKey=[new Uint8Array(key.modulus),concat(expPadding,new Uint8Array(key.publicExponent))];if(key instanceof RsaPrivateKey){asmKey.push(new Uint8Array(key.privateExponent));asmKey.push(new Uint8Array(key.prime1));asmKey.push(new Uint8Array(key.prime2));asmKey.push(new Uint8Array(key.exponent1));asmKey.push(new Uint8Array(key.exponent2));asmKey.push(new Uint8Array(key.coefficient));}return asmKey;}}]);return RsaCrypto;}();RsaCrypto.RsaSsa="RSASSA-PKCS1-v1_5";RsaCrypto.RsaPss="RSA-PSS";RsaCrypto.RsaOaep="RSA-OAEP";RsaCrypto.privateUsages=["sign","decrypt","unwrapKey"];RsaCrypto.publicUsages=["verify","encrypt","wrapKey"];var ShaCrypto=/*#__PURE__*/function(){function ShaCrypto(){_classCallCheck(this,ShaCrypto);}_createClass(ShaCrypto,null,[{key:"getDigest",value:function getDigest(name){switch(name){case"SHA-1":return new Sha1();case"SHA-256":return new Sha256();case"SHA-512":return new Sha512();default:throw new AlgorithmError("keyAlgorithm.hash: Is not recognized");}}},{key:"digest",value:function digest(algorithm,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee65(){var mech,result;return regeneratorRuntime.wrap(function _callee65$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:mech=this.getDigest(algorithm.name);result=mech.process(BufferSourceConverter.toUint8Array(data)).finish().result;return _context65.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 3:case"end":return _context65.stop();}}},_callee65,this);}));}}]);return ShaCrypto;}();var RsaOaepProvider$1=/*#__PURE__*/function(_RsaOaepProvider){_inherits(RsaOaepProvider$1,_RsaOaepProvider);function RsaOaepProvider$1(){_classCallCheck(this,RsaOaepProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(RsaOaepProvider$1).apply(this,arguments));}_createClass(RsaOaepProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee66(){return regeneratorRuntime.wrap(function _callee66$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:return _context66.abrupt("return",RsaCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context66.stop();}}},_callee66);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee67(){return regeneratorRuntime.wrap(function _callee67$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:return _context67.abrupt("return",RsaCrypto.exportKey(format,key));case 1:case"end":return _context67.stop();}}},_callee67);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){return regeneratorRuntime.wrap(function _callee68$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:return _context68.abrupt("return",RsaCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context68.stop();}}},_callee68);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee69(){return regeneratorRuntime.wrap(function _callee69$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:return _context69.abrupt("return",this.cipher(algorithm,key,data));case 1:case"end":return _context69.stop();}}},_callee69,this);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee70(){return regeneratorRuntime.wrap(function _callee70$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:return _context70.abrupt("return",this.cipher(algorithm,key,data));case 1:case"end":return _context70.stop();}}},_callee70,this);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(RsaOaepProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);RsaCrypto.checkCryptoKey(key);}},{key:"cipher",value:function cipher(algorithm,key,data){var digest=ShaCrypto.getDigest(key.algorithm.hash.name);var label;if(algorithm.label){label=BufferSourceConverter.toUint8Array(algorithm.label);}var cipher=new RSA_OAEP(key.data,digest,label);var res;var u8Data=BufferSourceConverter.toUint8Array(data);if(key.type==="public"){res=cipher.encrypt(u8Data);}else{res=cipher.decrypt(u8Data);}return BufferSourceConverter.toArrayBuffer(res);}}]);return RsaOaepProvider$1;}(RsaOaepProvider);var RsaPssProvider$1=/*#__PURE__*/function(_RsaPssProvider){_inherits(RsaPssProvider$1,_RsaPssProvider);function RsaPssProvider$1(){_classCallCheck(this,RsaPssProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(RsaPssProvider$1).apply(this,arguments));}_createClass(RsaPssProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee71(){return regeneratorRuntime.wrap(function _callee71$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:return _context71.abrupt("return",RsaCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context71.stop();}}},_callee71);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee72(){return regeneratorRuntime.wrap(function _callee72$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:return _context72.abrupt("return",RsaCrypto.exportKey(format,key));case 1:case"end":return _context72.stop();}}},_callee72);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee73(){return regeneratorRuntime.wrap(function _callee73$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:return _context73.abrupt("return",RsaCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context73.stop();}}},_callee73);}));}},{key:"onSign",value:function onSign(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee74(){var rsa,result;return regeneratorRuntime.wrap(function _callee74$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:rsa=new RSA_PSS(key.data,ShaCrypto.getDigest(key.algorithm.hash.name),algorithm.saltLength);result=rsa.sign(BufferSourceConverter.toUint8Array(data));return _context74.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 3:case"end":return _context74.stop();}}},_callee74);}));}},{key:"onVerify",value:function onVerify(algorithm,key,signature,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee75(){var rsa;return regeneratorRuntime.wrap(function _callee75$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:rsa=new RSA_PSS(key.data,ShaCrypto.getDigest(key.algorithm.hash.name),algorithm.saltLength);_context75.prev=1;rsa.verify(BufferSourceConverter.toUint8Array(signature),BufferSourceConverter.toUint8Array(data));_context75.next=8;break;case 5:_context75.prev=5;_context75.t0=_context75["catch"](1);return _context75.abrupt("return",false);case 8:return _context75.abrupt("return",true);case 9:case"end":return _context75.stop();}}},_callee75,null,[[1,5]]);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(RsaPssProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);RsaCrypto.checkCryptoKey(key);}}]);return RsaPssProvider$1;}(RsaPssProvider);var RsaSsaProvider$1=/*#__PURE__*/function(_RsaSsaProvider){_inherits(RsaSsaProvider$1,_RsaSsaProvider);function RsaSsaProvider$1(){_classCallCheck(this,RsaSsaProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(RsaSsaProvider$1).apply(this,arguments));}_createClass(RsaSsaProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee76(){return regeneratorRuntime.wrap(function _callee76$(_context76){while(1){switch(_context76.prev=_context76.next){case 0:return _context76.abrupt("return",RsaCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context76.stop();}}},_callee76);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee77(){return regeneratorRuntime.wrap(function _callee77$(_context77){while(1){switch(_context77.prev=_context77.next){case 0:return _context77.abrupt("return",RsaCrypto.exportKey(format,key));case 1:case"end":return _context77.stop();}}},_callee77);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee78(){return regeneratorRuntime.wrap(function _callee78$(_context78){while(1){switch(_context78.prev=_context78.next){case 0:return _context78.abrupt("return",RsaCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context78.stop();}}},_callee78);}));}},{key:"onSign",value:function onSign(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee79(){var rsa,result;return regeneratorRuntime.wrap(function _callee79$(_context79){while(1){switch(_context79.prev=_context79.next){case 0:rsa=new RSA_PKCS1_v1_5(key.data,ShaCrypto.getDigest(key.algorithm.hash.name));result=rsa.sign(BufferSourceConverter.toUint8Array(data));return _context79.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 3:case"end":return _context79.stop();}}},_callee79);}));}},{key:"onVerify",value:function onVerify(algorithm,key,signature,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee80(){var rsa;return regeneratorRuntime.wrap(function _callee80$(_context80){while(1){switch(_context80.prev=_context80.next){case 0:rsa=new RSA_PKCS1_v1_5(key.data,ShaCrypto.getDigest(key.algorithm.hash.name));_context80.prev=1;rsa.verify(BufferSourceConverter.toUint8Array(signature),BufferSourceConverter.toUint8Array(data));_context80.next=8;break;case 5:_context80.prev=5;_context80.t0=_context80["catch"](1);return _context80.abrupt("return",false);case 8:return _context80.abrupt("return",true);case 9:case"end":return _context80.stop();}}},_callee80,null,[[1,5]]);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(RsaSsaProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);RsaCrypto.checkCryptoKey(key);}}]);return RsaSsaProvider$1;}(RsaSsaProvider);var RsaEsProvider=/*#__PURE__*/function(_ProviderCrypto7){_inherits(RsaEsProvider,_ProviderCrypto7);function RsaEsProvider(){var _this87;_classCallCheck(this,RsaEsProvider);_this87=_possibleConstructorReturn(this,_getPrototypeOf(RsaEsProvider).apply(this,arguments));_this87.name="RSAES-PKCS1-v1_5";_this87.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]};_this87.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"];return _this87;}_createClass(RsaEsProvider,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee81(){return regeneratorRuntime.wrap(function _callee81$(_context81){while(1){switch(_context81.prev=_context81.next){case 0:return _context81.abrupt("return",RsaCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context81.stop();}}},_callee81);}));}},{key:"checkGenerateKeyParams",value:function checkGenerateKeyParams(algorithm){this.checkRequiredProperty(algorithm,"publicExponent");if(!(algorithm.publicExponent&&algorithm.publicExponent instanceof Uint8Array)){throw new TypeError("publicExponent: Missing or not a Uint8Array");}var publicExponent=Convert.ToBase64(algorithm.publicExponent);if(!(publicExponent==="Aw=="||publicExponent==="AQAB")){throw new TypeError("publicExponent: Must be [3] or [1,0,1]");}this.checkRequiredProperty(algorithm,"modulusLength");switch(algorithm.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096");}}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee82(){var EM,k,offset;return regeneratorRuntime.wrap(function _callee82$(_context82){while(1){switch(_context82.prev=_context82.next){case 0:EM=new RSA(key.data).decrypt(new BigNumber(BufferSourceConverter.toUint8Array(data))).result;k=key.algorithm.modulusLength>>3;if(!(data.byteLength!==k)){_context82.next=4;break;}throw new CryptoError("Decryption error. Encrypted message size doesn't match to key length");case 4:offset=0;if(!(EM[offset++]||EM[offset++]!==2)){_context82.next=7;break;}throw new CryptoError("Decryption error");case 7:if(!(EM[offset++]===0)){_context82.next=9;break;}return _context82.abrupt("break",10);case 9:if(offset<EM.length){_context82.next=7;break;}case 10:if(!(offset<11)){_context82.next=12;break;}throw new CryptoError("Decryption error. PS is less than 8 octets.");case 12:if(!(offset===EM.length)){_context82.next=14;break;}throw new CryptoError("Decryption error. There is no octet with hexadecimal value 0x00 to separate PS from M");case 14:return _context82.abrupt("return",EM.buffer.slice(offset));case 15:case"end":return _context82.stop();}}},_callee82);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee83(){var k,psLen,PS,EM,result;return regeneratorRuntime.wrap(function _callee83$(_context83){while(1){switch(_context83.prev=_context83.next){case 0:k=key.algorithm.modulusLength>>3;if(!(data.byteLength>k-11)){_context83.next=3;break;}throw new CryptoError("Message too long");case 3:psLen=k-data.byteLength-3;PS=RsaCrypto.randomNonZeroValues(new Uint8Array(psLen));EM=new Uint8Array(k);EM[0]=0;EM[1]=2;EM.set(PS,2);EM[2+psLen]=0;EM.set(new Uint8Array(data),3+psLen);result=new RSA(key.data).encrypt(new BigNumber(EM)).result;return _context83.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 13:case"end":return _context83.stop();}}},_callee83);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee84(){return regeneratorRuntime.wrap(function _callee84$(_context84){while(1){switch(_context84.prev=_context84.next){case 0:return _context84.abrupt("return",RsaCrypto.exportKey(format,key));case 1:case"end":return _context84.stop();}}},_callee84);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee85(){var key;return regeneratorRuntime.wrap(function _callee85$(_context85){while(1){switch(_context85.prev=_context85.next){case 0:_context85.next=2;return RsaCrypto.importKey(format,keyData,Object.assign(Object.assign({},algorithm),{name:this.name}),extractable,keyUsages);case 2:key=_context85.sent;return _context85.abrupt("return",key);case 4:case"end":return _context85.stop();}}},_callee85,this);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(RsaEsProvider.prototype),"checkCryptoKey",this).call(this,key,keyUsage);RsaCrypto.checkCryptoKey(key);}},{key:"prepareSignData",value:function prepareSignData(algorithm,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee86(){var crypto;return regeneratorRuntime.wrap(function _callee86$(_context86){while(1){switch(_context86.prev=_context86.next){case 0:crypto=new Crypto$1();return _context86.abrupt("return",crypto.subtle.digest(algorithm.hash,data));case 2:case"end":return _context86.stop();}}},_callee86);}));}}]);return RsaEsProvider;}(ProviderCrypto);var _args=[["elliptic@6.5.2","/Users/microshine/github/pv/webcrypto-liner"]];var _from="elliptic@6.5.2";var _id="elliptic@6.5.2";var _inBundle=false;var _integrity="sha512-f4x70okzZbIQl/NSRLkI/+tteV/9WqL98zx+SQ69KbXxmVrmjwsNUPn/gYJJ0sHvEak24cZgHIPegRePAtA/xw==";var _location="/elliptic";var _phantomChildren={};var _requested={type:"version",registry:true,raw:"elliptic@6.5.2",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.2",saveSpec:null,fetchSpec:"6.5.2"};var _requiredBy=["/","/browserify-sign","/create-ecdh"];var _resolved="https://registry.npmjs.org/elliptic/-/elliptic-6.5.2.tgz";var _spec="6.5.2";var _where="/Users/microshine/github/pv/webcrypto-liner";var author={name:"Fedor Indutny",email:"fedor@indutny.com"};var bugs={url:"https://github.com/indutny/elliptic/issues"};var dependencies={"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"};var description="EC cryptography";var devDependencies={brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"};var files=["lib"];var homepage="https://github.com/indutny/elliptic";var keywords=["EC","Elliptic","curve","Cryptography"];var license="MIT";var main="lib/elliptic.js";var name="elliptic";var repository={type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"};var scripts={jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"};var version="6.5.2";var _package={_args:_args,_from:_from,_id:_id,_inBundle:_inBundle,_integrity:_integrity,_location:_location,_phantomChildren:_phantomChildren,_requested:_requested,_requiredBy:_requiredBy,_resolved:_resolved,_spec:_spec,_where:_where,author:author,bugs:bugs,dependencies:dependencies,description:description,devDependencies:devDependencies,files:files,homepage:homepage,keywords:keywords,license:license,main:main,name:name,repository:repository,scripts:scripts,version:version};var _package$1=/*#__PURE__*/Object.freeze({__proto__:null,_args:_args,_from:_from,_id:_id,_inBundle:_inBundle,_integrity:_integrity,_location:_location,_phantomChildren:_phantomChildren,_requested:_requested,_requiredBy:_requiredBy,_resolved:_resolved,_spec:_spec,_where:_where,author:author,bugs:bugs,dependencies:dependencies,description:description,devDependencies:devDependencies,files:files,homepage:homepage,keywords:keywords,license:license,main:main,name:name,repository:repository,scripts:scripts,version:version,'default':_package});var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=='undefined'?Uint8Array:Array;var inited=false;function init(){inited=true;var code='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i;}revLookup['-'.charCodeAt(0)]=62;revLookup['_'.charCodeAt(0)]=63;}function toByteArray(b64){if(!inited){init();}var i,j,l,tmp,placeHolders,arr;var len=b64.length;if(len%4>0){throw new Error('Invalid string. Length must be a multiple of 4');}placeHolders=b64[len-2]==='='?2:b64[len-1]==='='?1:0;arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&0xFF;arr[L++]=tmp>>8&0xFF;arr[L++]=tmp&0xFF;}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&0xFF;}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&0xFF;arr[L++]=tmp&0xFF;}return arr;}function tripletToBase64(num){return lookup[num>>18&0x3F]+lookup[num>>12&0x3F]+lookup[num>>6&0x3F]+lookup[num&0x3F];}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp));}return output.join('');}function fromByteArray(uint8){if(!inited){init();}var tmp;var len=uint8.length;var extraBytes=len%3;var output='';var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&0x3F];output+='==';}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&0x3F];output+=lookup[tmp<<2&0x3F];output+='=';}parts.push(output);return parts.join('');}function read(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias;}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity;}else{m=m+Math.pow(2,mLen);e=e-eBias;}return (s?-1:1)*m*Math.pow(2,e-mLen);}function write(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax;}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2;}if(e+eBias>=1){value+=rt/c;}else{value+=rt*Math.pow(2,1-eBias);}if(value*c>=2){e++;c/=2;}if(e+eBias>=eMax){m=0;e=eMax;}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias;}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0;}}for(;mLen>=8;buffer[offset+i]=m&0xff,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&0xff,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128;}var toString={}.toString;var isArray=Array.isArray||function(arr){return toString.call(arr)=='[object Array]';};/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   */var INSPECT_MAX_BYTES=50;Buffer$1.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:true;var _kMaxLength=kMaxLength();function kMaxLength(){return Buffer$1.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff;}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError('Invalid typed array length');}if(Buffer$1.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer$1.prototype;}else{if(that===null){that=new Buffer$1(length);}that.length=length;}return that;}function Buffer$1(arg,encodingOrOffset,length){if(!Buffer$1.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$1)){return new Buffer$1(arg,encodingOrOffset,length);}if(typeof arg==='number'){if(typeof encodingOrOffset==='string'){throw new Error('If encoding is specified then the first argument must be a string');}return allocUnsafe(this,arg);}return from(this,arg,encodingOrOffset,length);}Buffer$1.poolSize=8192;Buffer$1._augment=function(arr){arr.__proto__=Buffer$1.prototype;return arr;};function from(that,value,encodingOrOffset,length){if(typeof value==='number'){throw new TypeError('"value" argument must not be a number');}if(typeof ArrayBuffer!=='undefined'&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length);}if(typeof value==='string'){return fromString(that,value,encodingOrOffset);}return fromObject(that,value);}Buffer$1.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length);};if(Buffer$1.TYPED_ARRAY_SUPPORT){Buffer$1.prototype.__proto__=Uint8Array.prototype;Buffer$1.__proto__=Uint8Array;}function assertSize(size){if(typeof size!=='number'){throw new TypeError('"size" argument must be a number');}else if(size<0){throw new RangeError('"size" argument must not be negative');}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size);}if(fill!==undefined){return typeof encoding==='string'?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill);}return createBuffer(that,size);}Buffer$1.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding);};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer$1.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0;}}return that;}Buffer$1.allocUnsafe=function(size){return allocUnsafe(null,size);};Buffer$1.allocUnsafeSlow=function(size){return allocUnsafe(null,size);};function fromString(that,string,encoding){if(typeof encoding!=='string'||encoding===''){encoding='utf8';}if(!Buffer$1.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding');}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual);}return that;}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255;}return that;}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('\'offset\' is out of bounds');}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('\'length\' is out of bounds');}if(byteOffset===undefined&&length===undefined){array=new Uint8Array(array);}else if(length===undefined){array=new Uint8Array(array,byteOffset);}else{array=new Uint8Array(array,byteOffset,length);}if(Buffer$1.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer$1.prototype;}else{that=fromArrayLike(that,array);}return that;}function fromObject(that,obj){if(internalIsBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that;}obj.copy(that,0,0,len);return that;}if(obj){if(typeof ArrayBuffer!=='undefined'&&obj.buffer instanceof ArrayBuffer||'length'in obj){if(typeof obj.length!=='number'||isnan(obj.length)){return createBuffer(that,0);}return fromArrayLike(that,obj);}if(obj.type==='Buffer'&&isArray(obj.data)){return fromArrayLike(that,obj.data);}}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');}function checked(length){if(length>=kMaxLength()){throw new RangeError('Attempt to allocate Buffer larger than maximum '+'size: 0x'+kMaxLength().toString(16)+' bytes');}return length|0;}function SlowBuffer(length){if(+length!=length){length=0;}return Buffer$1.alloc(+length);}Buffer$1.isBuffer=isBuffer;function internalIsBuffer(b){return !!(b!=null&&b._isBuffer);}Buffer$1.compare=function compare(a,b){if(!internalIsBuffer(a)||!internalIsBuffer(b)){throw new TypeError('Arguments must be Buffers');}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break;}}if(x<y)return -1;if(y<x)return 1;return 0;};Buffer$1.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return true;default:return false;}};Buffer$1.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers');}if(list.length===0){return Buffer$1.alloc(0);}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length;}}var buffer=Buffer$1.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!internalIsBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers');}buf.copy(buffer,pos);pos+=buf.length;}return buffer;};function byteLength(string,encoding){if(internalIsBuffer(string)){return string.length;}if(typeof ArrayBuffer!=='undefined'&&typeof ArrayBuffer.isView==='function'&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength;}if(typeof string!=='string'){string=''+string;}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case'ascii':case'latin1':case'binary':return len;case'utf8':case'utf-8':case undefined:return utf8ToBytes(string).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return len*2;case'hex':return len>>>1;case'base64':return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(''+encoding).toLowerCase();loweredCase=true;}}}Buffer$1.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0;}if(start>this.length){return '';}if(end===undefined||end>this.length){end=this.length;}if(end<=0){return '';}end>>>=0;start>>>=0;if(end<=start){return '';}if(!encoding)encoding='utf8';while(true){switch(encoding){case'hex':return hexSlice(this,start,end);case'utf8':case'utf-8':return utf8Slice(this,start,end);case'ascii':return asciiSlice(this,start,end);case'latin1':case'binary':return latin1Slice(this,start,end);case'base64':return base64Slice(this,start,end);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding);encoding=(encoding+'').toLowerCase();loweredCase=true;}}}Buffer$1.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i;}Buffer$1.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError('Buffer size must be a multiple of 16-bits');}for(var i=0;i<len;i+=2){swap(this,i,i+1);}return this;};Buffer$1.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError('Buffer size must be a multiple of 32-bits');}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2);}return this;};Buffer$1.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError('Buffer size must be a multiple of 64-bits');}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4);}return this;};Buffer$1.prototype.toString=function toString(){var length=this.length|0;if(length===0)return '';if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments);};Buffer$1.prototype.equals=function equals(b){if(!internalIsBuffer(b))throw new TypeError('Argument must be a Buffer');if(this===b)return true;return Buffer$1.compare(this,b)===0;};Buffer$1.prototype.inspect=function inspect(){var str='';var max=INSPECT_MAX_BYTES;if(this.length>0){str=this.toString('hex',0,max).match(/.{2}/g).join(' ');if(this.length>max)str+=' ... ';}return '<Buffer '+str+'>';};Buffer$1.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!internalIsBuffer(target)){throw new TypeError('Argument must be a Buffer');}if(start===undefined){start=0;}if(end===undefined){end=target?target.length:0;}if(thisStart===undefined){thisStart=0;}if(thisEnd===undefined){thisEnd=this.length;}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError('out of range index');}if(thisStart>=thisEnd&&start>=end){return 0;}if(thisStart>=thisEnd){return -1;}if(start>=end){return 1;}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break;}}if(x<y)return -1;if(y<x)return 1;return 0;};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return -1;if(typeof byteOffset==='string'){encoding=byteOffset;byteOffset=0;}else if(byteOffset>0x7fffffff){byteOffset=0x7fffffff;}else if(byteOffset<-0x80000000){byteOffset=-0x80000000;}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1;}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return -1;else byteOffset=buffer.length-1;}else if(byteOffset<0){if(dir)byteOffset=0;else return -1;}if(typeof val==='string'){val=Buffer$1.from(val,encoding);}if(internalIsBuffer(val)){if(val.length===0){return -1;}return arrayIndexOf(buffer,val,byteOffset,encoding,dir);}else if(typeof val==='number'){val=val&0xFF;if(Buffer$1.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==='function'){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset);}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset);}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir);}throw new TypeError('val must be string, number or Buffer');}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==='ucs2'||encoding==='ucs-2'||encoding==='utf16le'||encoding==='utf-16le'){if(arr.length<2||val.length<2){return -1;}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2;}}function read(buf,i){if(indexSize===1){return buf[i];}else{return buf.readUInt16BE(i*indexSize);}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize;}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1;}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break;}}if(found)return i;}}return -1;}Buffer$1.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1;};Buffer$1.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true);};Buffer$1.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false);};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining;}else{length=Number(length);if(length>remaining){length=remaining;}}var strLen=string.length;if(strLen%2!==0)throw new TypeError('Invalid hex string');if(length>strLen/2){length=strLen/2;}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed;}return i;}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length);}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length);}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length);}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length);}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length);}Buffer$1.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding='utf8';length=this.length;offset=0;}else if(length===undefined&&typeof offset==='string'){encoding=offset;length=this.length;offset=0;}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding='utf8';}else{encoding=length;length=undefined;}}else{throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError('Attempt to write outside buffer bounds');}if(!encoding)encoding='utf8';var loweredCase=false;for(;;){switch(encoding){case'hex':return hexWrite(this,string,offset,length);case'utf8':case'utf-8':return utf8Write(this,string,offset,length);case'ascii':return asciiWrite(this,string,offset,length);case'latin1':case'binary':return latin1Write(this,string,offset,length);case'base64':return base64Write(this,string,offset,length);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding);encoding=(''+encoding).toLowerCase();loweredCase=true;}}};Buffer$1.prototype.toJSON=function toJSON(){return {type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)};};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return fromByteArray(buf);}else{return fromByteArray(buf.slice(start,end));}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>0xEF?4:firstByte>0xDF?3:firstByte>0xBF?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<0x80){codePoint=firstByte;}break;case 2:secondByte=buf[i+1];if((secondByte&0xC0)===0x80){tempCodePoint=(firstByte&0x1F)<<0x6|secondByte&0x3F;if(tempCodePoint>0x7F){codePoint=tempCodePoint;}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80){tempCodePoint=(firstByte&0xF)<<0xC|(secondByte&0x3F)<<0x6|thirdByte&0x3F;if(tempCodePoint>0x7FF&&(tempCodePoint<0xD800||tempCodePoint>0xDFFF)){codePoint=tempCodePoint;}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80&&(fourthByte&0xC0)===0x80){tempCodePoint=(firstByte&0xF)<<0x12|(secondByte&0x3F)<<0xC|(thirdByte&0x3F)<<0x6|fourthByte&0x3F;if(tempCodePoint>0xFFFF&&tempCodePoint<0x110000){codePoint=tempCodePoint;}}}}if(codePoint===null){codePoint=0xFFFD;bytesPerSequence=1;}else if(codePoint>0xFFFF){codePoint-=0x10000;res.push(codePoint>>>10&0x3FF|0xD800);codePoint=0xDC00|codePoint&0x3FF;}res.push(codePoint);i+=bytesPerSequence;}return decodeCodePointsArray(res);}var MAX_ARGUMENTS_LENGTH=0x1000;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints);}var res='';var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));}return res;}function asciiSlice(buf,start,end){var ret='';end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&0x7F);}return ret;}function latin1Slice(buf,start,end){var ret='';end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]);}return ret;}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out='';for(var i=start;i<end;++i){out+=toHex(buf[i]);}return out;}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res='';for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256);}return res;}Buffer$1.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0;}else if(start>len){start=len;}if(end<0){end+=len;if(end<0)end=0;}else if(end>len){end=len;}if(end<start)end=start;var newBuf;if(Buffer$1.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer$1.prototype;}else{var sliceLen=end-start;newBuf=new Buffer$1(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start];}}return newBuf;};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError('offset is not uint');if(offset+ext>length)throw new RangeError('Trying to access beyond buffer length');}Buffer$1.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=0x100)){val+=this[offset+i]*mul;}return val;};Buffer$1.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length);}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=0x100)){val+=this[offset+--byteLength]*mul;}return val;};Buffer$1.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset];};Buffer$1.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8;};Buffer$1.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1];};Buffer$1.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return (this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*0x1000000;};Buffer$1.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*0x1000000+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3]);};Buffer$1.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=0x100)){val+=this[offset+i]*mul;}mul*=0x80;if(val>=mul)val-=Math.pow(2,8*byteLength);return val;};Buffer$1.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=0x100)){val+=this[offset+--i]*mul;}mul*=0x80;if(val>=mul)val-=Math.pow(2,8*byteLength);return val;};Buffer$1.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&0x80))return this[offset];return (0xff-this[offset]+1)*-1;};Buffer$1.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&0x8000?val|0xFFFF0000:val;};Buffer$1.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&0x8000?val|0xFFFF0000:val;};Buffer$1.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24;};Buffer$1.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3];};Buffer$1.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return read(this,offset,true,23,4);};Buffer$1.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return read(this,offset,false,23,4);};Buffer$1.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return read(this,offset,true,52,8);};Buffer$1.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return read(this,offset,false,52,8);};function checkInt(buf,value,offset,ext,max,min){if(!internalIsBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError('Index out of range');}Buffer$1.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0);}var mul=1;var i=0;this[offset]=value&0xFF;while(++i<byteLength&&(mul*=0x100)){this[offset+i]=value/mul&0xFF;}return offset+byteLength;};Buffer$1.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0);}var i=byteLength-1;var mul=1;this[offset+i]=value&0xFF;while(--i>=0&&(mul*=0x100)){this[offset+i]=value/mul&0xFF;}return offset+byteLength;};Buffer$1.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,0xff,0);if(!Buffer$1.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&0xff;return offset+1;};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=0xffff+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&0xff<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8;}}Buffer$1.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,0xffff,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value&0xff;this[offset+1]=value>>>8;}else{objectWriteUInt16(this,value,offset,true);}return offset+2;};Buffer$1.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,0xffff,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&0xff;}else{objectWriteUInt16(this,value,offset,false);}return offset+2;};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=0xffffffff+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&0xff;}}Buffer$1.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&0xff;}else{objectWriteUInt32(this,value,offset,true);}return offset+4;};Buffer$1.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&0xff;}else{objectWriteUInt32(this,value,offset,false);}return offset+4;};Buffer$1.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit);}var i=0;var mul=1;var sub=0;this[offset]=value&0xFF;while(++i<byteLength&&(mul*=0x100)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1;}this[offset+i]=(value/mul>>0)-sub&0xFF;}return offset+byteLength;};Buffer$1.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit);}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&0xFF;while(--i>=0&&(mul*=0x100)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1;}this[offset+i]=(value/mul>>0)-sub&0xFF;}return offset+byteLength;};Buffer$1.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,0x7f,-0x80);if(!Buffer$1.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=0xff+value+1;this[offset]=value&0xff;return offset+1;};Buffer$1.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value&0xff;this[offset+1]=value>>>8;}else{objectWriteUInt16(this,value,offset,true);}return offset+2;};Buffer$1.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&0xff;}else{objectWriteUInt16(this,value,offset,false);}return offset+2;};Buffer$1.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value&0xff;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;}else{objectWriteUInt32(this,value,offset,true);}return offset+4;};Buffer$1.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000);if(value<0)value=0xffffffff+value+1;if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&0xff;}else{objectWriteUInt32(this,value,offset,false);}return offset+4;};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError('Index out of range');if(offset<0)throw new RangeError('Index out of range');}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4);}write(buf,value,offset,littleEndian,23,4);return offset+4;}Buffer$1.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert);};Buffer$1.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert);};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8);}write(buf,value,offset,littleEndian,52,8);return offset+8;}Buffer$1.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert);};Buffer$1.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert);};Buffer$1.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError('targetStart out of bounds');}if(start<0||start>=this.length)throw new RangeError('sourceStart out of bounds');if(end<0)throw new RangeError('sourceEnd out of bounds');if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start;}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start];}}else if(len<1000||!Buffer$1.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start];}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);}return len;};Buffer$1.prototype.fill=function fill(val,start,end,encoding){if(typeof val==='string'){if(typeof start==='string'){encoding=start;start=0;end=this.length;}else if(typeof end==='string'){encoding=end;end=this.length;}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code;}}if(encoding!==undefined&&typeof encoding!=='string'){throw new TypeError('encoding must be a string');}if(typeof encoding==='string'&&!Buffer$1.isEncoding(encoding)){throw new TypeError('Unknown encoding: '+encoding);}}else if(typeof val==='number'){val=val&255;}if(start<0||this.length<start||this.length<end){throw new RangeError('Out of range index');}if(end<=start){return this;}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==='number'){for(i=start;i<end;++i){this[i]=val;}}else{var bytes=internalIsBuffer(val)?val:utf8ToBytes(new Buffer$1(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len];}}return this;};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,'');if(str.length<2)return '';while(str.length%4!==0){str=str+'=';}return str;}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,'');}function toHex(n){if(n<16)return '0'+n.toString(16);return n.toString(16);}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>0xD7FF&&codePoint<0xE000){if(!leadSurrogate){if(codePoint>0xDBFF){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);continue;}else if(i+1===length){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);continue;}leadSurrogate=codePoint;continue;}if(codePoint<0xDC00){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);leadSurrogate=codePoint;continue;}codePoint=(leadSurrogate-0xD800<<10|codePoint-0xDC00)+0x10000;}else if(leadSurrogate){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);}leadSurrogate=null;if(codePoint<0x80){if((units-=1)<0)break;bytes.push(codePoint);}else if(codePoint<0x800){if((units-=2)<0)break;bytes.push(codePoint>>0x6|0xC0,codePoint&0x3F|0x80);}else if(codePoint<0x10000){if((units-=3)<0)break;bytes.push(codePoint>>0xC|0xE0,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80);}else if(codePoint<0x110000){if((units-=4)<0)break;bytes.push(codePoint>>0x12|0xF0,codePoint>>0xC&0x3F|0x80,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80);}else{throw new Error('Invalid code point');}}return bytes;}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&0xFF);}return byteArray;}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi);}return byteArray;}function base64ToBytes(str){return toByteArray(base64clean(str));}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i];}return i;}function isnan(val){return val!==val;}function isBuffer(obj){return obj!=null&&(!!obj._isBuffer||isFastBuffer(obj)||isSlowBuffer(obj));}function isFastBuffer(obj){return !!obj.constructor&&typeof obj.constructor.isBuffer==='function'&&obj.constructor.isBuffer(obj);}function isSlowBuffer(obj){return typeof obj.readFloatLE==='function'&&typeof obj.slice==='function'&&isFastBuffer(obj.slice(0,0));}var bufferEs6=/*#__PURE__*/Object.freeze({__proto__:null,INSPECT_MAX_BYTES:INSPECT_MAX_BYTES,kMaxLength:_kMaxLength,Buffer:Buffer$1,SlowBuffer:SlowBuffer,isBuffer:isBuffer});var bn=createCommonjsModule(function(module){(function(module,exports){function assert(val,msg){if(!val)throw new Error(msg||'Assertion failed');}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor();ctor.prototype.constructor=ctor;}function BN(number,base,endian){if(BN.isBN(number)){return number;}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==='le'||base==='be'){endian=base;base=10;}this._init(number||0,base||10,endian||'be');}}if(_typeof(module)==='object'){module.exports=BN;}else{exports.BN=BN;}BN.BN=BN;BN.wordSize=26;var Buffer;try{Buffer=bufferEs6.Buffer;}catch(e){}BN.isBN=function isBN(num){if(num instanceof BN){return true;}return num!==null&&_typeof(num)==='object'&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words);};BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right;};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right;};BN.prototype._init=function init(number,base,endian){if(typeof number==='number'){return this._initNumber(number,base,endian);}if(_typeof(number)==='object'){return this._initArray(number,base,endian);}if(base==='hex'){base=16;}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,'');var start=0;if(number[0]==='-'){start++;}if(base===16){this._parseHex(number,start);}else{this._parseBase(number,base,start);}if(number[0]==='-'){this.negative=1;}this.strip();if(endian!=='le')return;this._initArray(this.toArray(),base,endian);};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number;}if(number<0x4000000){this.words=[number&0x3ffffff];this.length=1;}else if(number<0x10000000000000){this.words=[number&0x3ffffff,number/0x4000000&0x3ffffff];this.length=2;}else{assert(number<0x20000000000000);this.words=[number&0x3ffffff,number/0x4000000&0x3ffffff,1];this.length=3;}if(endian!=='le')return;this._initArray(this.toArray(),base,endian);};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==='number');if(number.length<=0){this.words=[0];this.length=1;return this;}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0;}var j,w;var off=0;if(endian==='be'){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&0x3ffffff;this.words[j+1]=w>>>26-off&0x3ffffff;off+=24;if(off>=26){off-=26;j++;}}}else if(endian==='le'){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&0x3ffffff;this.words[j+1]=w>>>26-off&0x3ffffff;off+=24;if(off>=26){off-=26;j++;}}}return this.strip();};function parseHex(str,start,end){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4;if(c>=49&&c<=54){r|=c-49+0xa;}else if(c>=17&&c<=22){r|=c-17+0xa;}else{r|=c&0xf;}}return r;}BN.prototype._parseHex=function _parseHex(number,start){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0;}var j,w;var off=0;for(i=number.length-6,j=0;i>=start;i-=6){w=parseHex(number,i,i+6);this.words[j]|=w<<off&0x3ffffff;this.words[j+1]|=w>>>26-off&0x3fffff;off+=24;if(off>=26){off-=26;j++;}}if(i+6!==start){w=parseHex(number,start,i+6);this.words[j]|=w<<off&0x3ffffff;this.words[j+1]|=w>>>26-off&0x3fffff;}this.strip();};function parseBase(str,start,end,mul){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){r+=c-49+0xa;}else if(c>=17){r+=c-17+0xa;}else{r+=c;}}return r;}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=0x3ffffff;limbPow*=base){limbLen++;}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<0x4000000){this.words[0]+=word;}else{this._iaddn(word);}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base;}this.imuln(pow);if(this.words[0]+word<0x4000000){this.words[0]+=word;}else{this._iaddn(word);}}};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i];}dest.length=this.length;dest.negative=this.negative;dest.red=this.red;};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r;};BN.prototype._expand=function _expand(size){while(this.length<size){this.words[this.length++]=0;}return this;};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--;}return this._normSign();};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0;}return this;};BN.prototype.inspect=function inspect(){return (this.red?'<BN-R: ':'<BN: ')+this.toString(16)+'>';};var zeros=['','0','00','000','0000','00000','000000','0000000','00000000','000000000','0000000000','00000000000','000000000000','0000000000000','00000000000000','000000000000000','0000000000000000','00000000000000000','000000000000000000','0000000000000000000','00000000000000000000','000000000000000000000','0000000000000000000000','00000000000000000000000','000000000000000000000000','0000000000000000000000000'];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,10000000,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==='hex'){out='';var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&0xffffff).toString(16);carry=w>>>24-off&0xffffff;if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out;}else{out=word+out;}off+=2;if(off>=26){off-=26;i--;}}if(carry!==0){out=carry.toString(16)+out;}while(out.length%padding!==0){out='0'+out;}if(this.negative!==0){out='-'+out;}return out;}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out='';var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out;}else{out=r+out;}}if(this.isZero()){out='0'+out;}while(out.length%padding!==0){out='0'+out;}if(this.negative!==0){out='-'+out;}return out;}assert(false,'Base should be between 2 and 36');};BN.prototype.toNumber=function toNumber(){var ret=this.words[0];if(this.length===2){ret+=this.words[1]*0x4000000;}else if(this.length===3&&this.words[2]===0x01){ret+=0x10000000000000+this.words[1]*0x4000000;}else if(this.length>2){assert(false,'Number can only safely store up to 53 bits');}return this.negative!==0?-ret:ret;};BN.prototype.toJSON=function toJSON(){return this.toString(16);};BN.prototype.toBuffer=function toBuffer(endian,length){assert(typeof Buffer!=='undefined');return this.toArrayLike(Buffer,endian,length);};BN.prototype.toArray=function toArray(endian,length){return this.toArrayLike(Array,endian,length);};BN.prototype.toArrayLike=function toArrayLike(ArrayType,endian,length){var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,'byte array longer than desired length');assert(reqLength>0,'Requested array length <= 0');this.strip();var littleEndian=endian==='le';var res=new ArrayType(reqLength);var b,i;var q=this.clone();if(!littleEndian){for(i=0;i<reqLength-byteLength;i++){res[i]=0;}for(i=0;!q.isZero();i++){b=q.andln(0xff);q.iushrn(8);res[reqLength-i-1]=b;}}else{for(i=0;!q.isZero();i++){b=q.andln(0xff);q.iushrn(8);res[i]=b;}for(;i<reqLength;i++){res[i]=0;}}return res;};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w);};}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=0x1000){r+=13;t>>>=13;}if(t>=0x40){r+=7;t>>>=7;}if(t>=0x8){r+=4;t>>>=4;}if(t>=0x02){r+=2;t>>>=2;}return r+t;};}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&0x1fff)===0){r+=13;t>>>=13;}if((t&0x7f)===0){r+=7;t>>>=7;}if((t&0xf)===0){r+=4;t>>>=4;}if((t&0x3)===0){r+=2;t>>>=2;}if((t&0x1)===0){r++;}return r;};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return (this.length-1)*26+hi;};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit;}return w;}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break;}return r;};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8);};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1);}return this.clone();};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg();}return this.clone();};BN.prototype.isNeg=function isNeg(){return this.negative!==0;};BN.prototype.neg=function neg(){return this.clone().ineg();};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1;}return this;};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0;}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i];}return this.strip();};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num);};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this);};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this);};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num;}else{b=this;}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i];}this.length=b.length;return this.strip();};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num);};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this);};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this);};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num;}else{a=num;b=this;}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i];}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i];}}this.length=a.length;return this.strip();};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num);};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this);};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this);};BN.prototype.inotn=function inotn(width){assert(typeof width==='number'&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;this._expand(bytesNeeded);if(bitsLeft>0){bytesNeeded--;}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&0x3ffffff;}if(bitsLeft>0){this.words[i]=~this.words[i]&0x3ffffff>>26-bitsLeft;}return this.strip();};BN.prototype.notn=function notn(width){return this.clone().inotn(width);};BN.prototype.setn=function setn(bit,val){assert(typeof bit==='number'&&bit>=0);var off=bit/26|0;var wbit=bit%26;this._expand(off+1);if(val){this.words[off]=this.words[off]|1<<wbit;}else{this.words[off]=this.words[off]&~(1<<wbit);}return this.strip();};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign();}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign();}var a,b;if(this.length>num.length){a=this;b=num;}else{a=num;b=this;}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&0x3ffffff;carry=r>>>26;}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&0x3ffffff;carry=r>>>26;}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++;}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i];}}return this;};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res;}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res;}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this);};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign();}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign();}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this;}var a,b;if(cmp>0){a=this;b=num;}else{a=num;b=this;}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&0x3ffffff;}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&0x3ffffff;}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i];}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1;}return this.strip();};BN.prototype.sub=function sub(num){return this.clone().isub(num);};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&0x3ffffff;var carry=r/0x4000000|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&0x3ffffff;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/0x4000000|0;rword=r&0x3ffffff;}out.words[k]=rword|0;carry=ncarry|0;}if(carry!==0){out.words[k]=carry|0;}else{out.length--;}return out.strip();}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&0x1fff;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&0x1fff;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&0x1fff;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&0x1fff;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&0x1fff;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&0x1fff;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&0x1fff;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&0x1fff;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&0x1fff;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&0x1fff;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&0x1fff;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&0x1fff;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&0x1fff;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&0x1fff;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&0x1fff;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&0x1fff;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&0x1fff;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&0x1fff;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&0x1fff;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&0x1fff;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid=mid+Math.imul(ah0,bl0)|0;hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0;w0&=0x3ffffff;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid=mid+Math.imul(ah1,bl0)|0;hi=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,bl1)|0;mid=mid+Math.imul(al0,bh1)|0;mid=mid+Math.imul(ah0,bl1)|0;hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0;w1&=0x3ffffff;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid=mid+Math.imul(ah2,bl0)|0;hi=Math.imul(ah2,bh0);lo=lo+Math.imul(al1,bl1)|0;mid=mid+Math.imul(al1,bh1)|0;mid=mid+Math.imul(ah1,bl1)|0;hi=hi+Math.imul(ah1,bh1)|0;lo=lo+Math.imul(al0,bl2)|0;mid=mid+Math.imul(al0,bh2)|0;mid=mid+Math.imul(ah0,bl2)|0;hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0;w2&=0x3ffffff;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid=mid+Math.imul(ah3,bl0)|0;hi=Math.imul(ah3,bh0);lo=lo+Math.imul(al2,bl1)|0;mid=mid+Math.imul(al2,bh1)|0;mid=mid+Math.imul(ah2,bl1)|0;hi=hi+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(al1,bl2)|0;mid=mid+Math.imul(al1,bh2)|0;mid=mid+Math.imul(ah1,bl2)|0;hi=hi+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,bl3)|0;mid=mid+Math.imul(al0,bh3)|0;mid=mid+Math.imul(ah0,bl3)|0;hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0;w3&=0x3ffffff;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid=mid+Math.imul(ah4,bl0)|0;hi=Math.imul(ah4,bh0);lo=lo+Math.imul(al3,bl1)|0;mid=mid+Math.imul(al3,bh1)|0;mid=mid+Math.imul(ah3,bl1)|0;hi=hi+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(al2,bl2)|0;mid=mid+Math.imul(al2,bh2)|0;mid=mid+Math.imul(ah2,bl2)|0;hi=hi+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(al1,bl3)|0;mid=mid+Math.imul(al1,bh3)|0;mid=mid+Math.imul(ah1,bl3)|0;hi=hi+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,bl4)|0;mid=mid+Math.imul(al0,bh4)|0;mid=mid+Math.imul(ah0,bl4)|0;hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0;w4&=0x3ffffff;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid=mid+Math.imul(ah5,bl0)|0;hi=Math.imul(ah5,bh0);lo=lo+Math.imul(al4,bl1)|0;mid=mid+Math.imul(al4,bh1)|0;mid=mid+Math.imul(ah4,bl1)|0;hi=hi+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(al3,bl2)|0;mid=mid+Math.imul(al3,bh2)|0;mid=mid+Math.imul(ah3,bl2)|0;hi=hi+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(al2,bl3)|0;mid=mid+Math.imul(al2,bh3)|0;mid=mid+Math.imul(ah2,bl3)|0;hi=hi+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(al1,bl4)|0;mid=mid+Math.imul(al1,bh4)|0;mid=mid+Math.imul(ah1,bl4)|0;hi=hi+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,bl5)|0;mid=mid+Math.imul(al0,bh5)|0;mid=mid+Math.imul(ah0,bl5)|0;hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0;w5&=0x3ffffff;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid=mid+Math.imul(ah6,bl0)|0;hi=Math.imul(ah6,bh0);lo=lo+Math.imul(al5,bl1)|0;mid=mid+Math.imul(al5,bh1)|0;mid=mid+Math.imul(ah5,bl1)|0;hi=hi+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(al4,bl2)|0;mid=mid+Math.imul(al4,bh2)|0;mid=mid+Math.imul(ah4,bl2)|0;hi=hi+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(al3,bl3)|0;mid=mid+Math.imul(al3,bh3)|0;mid=mid+Math.imul(ah3,bl3)|0;hi=hi+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(al2,bl4)|0;mid=mid+Math.imul(al2,bh4)|0;mid=mid+Math.imul(ah2,bl4)|0;hi=hi+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(al1,bl5)|0;mid=mid+Math.imul(al1,bh5)|0;mid=mid+Math.imul(ah1,bl5)|0;hi=hi+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,bl6)|0;mid=mid+Math.imul(al0,bh6)|0;mid=mid+Math.imul(ah0,bl6)|0;hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0;w6&=0x3ffffff;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid=mid+Math.imul(ah7,bl0)|0;hi=Math.imul(ah7,bh0);lo=lo+Math.imul(al6,bl1)|0;mid=mid+Math.imul(al6,bh1)|0;mid=mid+Math.imul(ah6,bl1)|0;hi=hi+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(al5,bl2)|0;mid=mid+Math.imul(al5,bh2)|0;mid=mid+Math.imul(ah5,bl2)|0;hi=hi+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(al4,bl3)|0;mid=mid+Math.imul(al4,bh3)|0;mid=mid+Math.imul(ah4,bl3)|0;hi=hi+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(al3,bl4)|0;mid=mid+Math.imul(al3,bh4)|0;mid=mid+Math.imul(ah3,bl4)|0;hi=hi+Math.imul(ah3,bh4)|0;lo=lo+Math.imul(al2,bl5)|0;mid=mid+Math.imul(al2,bh5)|0;mid=mid+Math.imul(ah2,bl5)|0;hi=hi+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(al1,bl6)|0;mid=mid+Math.imul(al1,bh6)|0;mid=mid+Math.imul(ah1,bl6)|0;hi=hi+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,bl7)|0;mid=mid+Math.imul(al0,bh7)|0;mid=mid+Math.imul(ah0,bl7)|0;hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0;w7&=0x3ffffff;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid=mid+Math.imul(ah8,bl0)|0;hi=Math.imul(ah8,bh0);lo=lo+Math.imul(al7,bl1)|0;mid=mid+Math.imul(al7,bh1)|0;mid=mid+Math.imul(ah7,bl1)|0;hi=hi+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(al6,bl2)|0;mid=mid+Math.imul(al6,bh2)|0;mid=mid+Math.imul(ah6,bl2)|0;hi=hi+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(al5,bl3)|0;mid=mid+Math.imul(al5,bh3)|0;mid=mid+Math.imul(ah5,bl3)|0;hi=hi+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(al4,bl4)|0;mid=mid+Math.imul(al4,bh4)|0;mid=mid+Math.imul(ah4,bl4)|0;hi=hi+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(al3,bl5)|0;mid=mid+Math.imul(al3,bh5)|0;mid=mid+Math.imul(ah3,bl5)|0;hi=hi+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(al2,bl6)|0;mid=mid+Math.imul(al2,bh6)|0;mid=mid+Math.imul(ah2,bl6)|0;hi=hi+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(al1,bl7)|0;mid=mid+Math.imul(al1,bh7)|0;mid=mid+Math.imul(ah1,bl7)|0;hi=hi+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,bl8)|0;mid=mid+Math.imul(al0,bh8)|0;mid=mid+Math.imul(ah0,bl8)|0;hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0;w8&=0x3ffffff;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid=mid+Math.imul(ah9,bl0)|0;hi=Math.imul(ah9,bh0);lo=lo+Math.imul(al8,bl1)|0;mid=mid+Math.imul(al8,bh1)|0;mid=mid+Math.imul(ah8,bl1)|0;hi=hi+Math.imul(ah8,bh1)|0;lo=lo+Math.imul(al7,bl2)|0;mid=mid+Math.imul(al7,bh2)|0;mid=mid+Math.imul(ah7,bl2)|0;hi=hi+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(al6,bl3)|0;mid=mid+Math.imul(al6,bh3)|0;mid=mid+Math.imul(ah6,bl3)|0;hi=hi+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(al5,bl4)|0;mid=mid+Math.imul(al5,bh4)|0;mid=mid+Math.imul(ah5,bl4)|0;hi=hi+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(al4,bl5)|0;mid=mid+Math.imul(al4,bh5)|0;mid=mid+Math.imul(ah4,bl5)|0;hi=hi+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(al3,bl6)|0;mid=mid+Math.imul(al3,bh6)|0;mid=mid+Math.imul(ah3,bl6)|0;hi=hi+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(al2,bl7)|0;mid=mid+Math.imul(al2,bh7)|0;mid=mid+Math.imul(ah2,bl7)|0;hi=hi+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(al1,bl8)|0;mid=mid+Math.imul(al1,bh8)|0;mid=mid+Math.imul(ah1,bl8)|0;hi=hi+Math.imul(ah1,bh8)|0;lo=lo+Math.imul(al0,bl9)|0;mid=mid+Math.imul(al0,bh9)|0;mid=mid+Math.imul(ah0,bl9)|0;hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0;w9&=0x3ffffff;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid=mid+Math.imul(ah9,bl1)|0;hi=Math.imul(ah9,bh1);lo=lo+Math.imul(al8,bl2)|0;mid=mid+Math.imul(al8,bh2)|0;mid=mid+Math.imul(ah8,bl2)|0;hi=hi+Math.imul(ah8,bh2)|0;lo=lo+Math.imul(al7,bl3)|0;mid=mid+Math.imul(al7,bh3)|0;mid=mid+Math.imul(ah7,bl3)|0;hi=hi+Math.imul(ah7,bh3)|0;lo=lo+Math.imul(al6,bl4)|0;mid=mid+Math.imul(al6,bh4)|0;mid=mid+Math.imul(ah6,bl4)|0;hi=hi+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(al5,bl5)|0;mid=mid+Math.imul(al5,bh5)|0;mid=mid+Math.imul(ah5,bl5)|0;hi=hi+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(al4,bl6)|0;mid=mid+Math.imul(al4,bh6)|0;mid=mid+Math.imul(ah4,bl6)|0;hi=hi+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(al3,bl7)|0;mid=mid+Math.imul(al3,bh7)|0;mid=mid+Math.imul(ah3,bl7)|0;hi=hi+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(al2,bl8)|0;mid=mid+Math.imul(al2,bh8)|0;mid=mid+Math.imul(ah2,bl8)|0;hi=hi+Math.imul(ah2,bh8)|0;lo=lo+Math.imul(al1,bl9)|0;mid=mid+Math.imul(al1,bh9)|0;mid=mid+Math.imul(ah1,bl9)|0;hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0;w10&=0x3ffffff;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid=mid+Math.imul(ah9,bl2)|0;hi=Math.imul(ah9,bh2);lo=lo+Math.imul(al8,bl3)|0;mid=mid+Math.imul(al8,bh3)|0;mid=mid+Math.imul(ah8,bl3)|0;hi=hi+Math.imul(ah8,bh3)|0;lo=lo+Math.imul(al7,bl4)|0;mid=mid+Math.imul(al7,bh4)|0;mid=mid+Math.imul(ah7,bl4)|0;hi=hi+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(al6,bl5)|0;mid=mid+Math.imul(al6,bh5)|0;mid=mid+Math.imul(ah6,bl5)|0;hi=hi+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(al5,bl6)|0;mid=mid+Math.imul(al5,bh6)|0;mid=mid+Math.imul(ah5,bl6)|0;hi=hi+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(al4,bl7)|0;mid=mid+Math.imul(al4,bh7)|0;mid=mid+Math.imul(ah4,bl7)|0;hi=hi+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(al3,bl8)|0;mid=mid+Math.imul(al3,bh8)|0;mid=mid+Math.imul(ah3,bl8)|0;hi=hi+Math.imul(ah3,bh8)|0;lo=lo+Math.imul(al2,bl9)|0;mid=mid+Math.imul(al2,bh9)|0;mid=mid+Math.imul(ah2,bl9)|0;hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0;w11&=0x3ffffff;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid=mid+Math.imul(ah9,bl3)|0;hi=Math.imul(ah9,bh3);lo=lo+Math.imul(al8,bl4)|0;mid=mid+Math.imul(al8,bh4)|0;mid=mid+Math.imul(ah8,bl4)|0;hi=hi+Math.imul(ah8,bh4)|0;lo=lo+Math.imul(al7,bl5)|0;mid=mid+Math.imul(al7,bh5)|0;mid=mid+Math.imul(ah7,bl5)|0;hi=hi+Math.imul(ah7,bh5)|0;lo=lo+Math.imul(al6,bl6)|0;mid=mid+Math.imul(al6,bh6)|0;mid=mid+Math.imul(ah6,bl6)|0;hi=hi+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(al5,bl7)|0;mid=mid+Math.imul(al5,bh7)|0;mid=mid+Math.imul(ah5,bl7)|0;hi=hi+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(al4,bl8)|0;mid=mid+Math.imul(al4,bh8)|0;mid=mid+Math.imul(ah4,bl8)|0;hi=hi+Math.imul(ah4,bh8)|0;lo=lo+Math.imul(al3,bl9)|0;mid=mid+Math.imul(al3,bh9)|0;mid=mid+Math.imul(ah3,bl9)|0;hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0;w12&=0x3ffffff;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid=mid+Math.imul(ah9,bl4)|0;hi=Math.imul(ah9,bh4);lo=lo+Math.imul(al8,bl5)|0;mid=mid+Math.imul(al8,bh5)|0;mid=mid+Math.imul(ah8,bl5)|0;hi=hi+Math.imul(ah8,bh5)|0;lo=lo+Math.imul(al7,bl6)|0;mid=mid+Math.imul(al7,bh6)|0;mid=mid+Math.imul(ah7,bl6)|0;hi=hi+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(al6,bl7)|0;mid=mid+Math.imul(al6,bh7)|0;mid=mid+Math.imul(ah6,bl7)|0;hi=hi+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(al5,bl8)|0;mid=mid+Math.imul(al5,bh8)|0;mid=mid+Math.imul(ah5,bl8)|0;hi=hi+Math.imul(ah5,bh8)|0;lo=lo+Math.imul(al4,bl9)|0;mid=mid+Math.imul(al4,bh9)|0;mid=mid+Math.imul(ah4,bl9)|0;hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0;w13&=0x3ffffff;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid=mid+Math.imul(ah9,bl5)|0;hi=Math.imul(ah9,bh5);lo=lo+Math.imul(al8,bl6)|0;mid=mid+Math.imul(al8,bh6)|0;mid=mid+Math.imul(ah8,bl6)|0;hi=hi+Math.imul(ah8,bh6)|0;lo=lo+Math.imul(al7,bl7)|0;mid=mid+Math.imul(al7,bh7)|0;mid=mid+Math.imul(ah7,bl7)|0;hi=hi+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(al6,bl8)|0;mid=mid+Math.imul(al6,bh8)|0;mid=mid+Math.imul(ah6,bl8)|0;hi=hi+Math.imul(ah6,bh8)|0;lo=lo+Math.imul(al5,bl9)|0;mid=mid+Math.imul(al5,bh9)|0;mid=mid+Math.imul(ah5,bl9)|0;hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0;w14&=0x3ffffff;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid=mid+Math.imul(ah9,bl6)|0;hi=Math.imul(ah9,bh6);lo=lo+Math.imul(al8,bl7)|0;mid=mid+Math.imul(al8,bh7)|0;mid=mid+Math.imul(ah8,bl7)|0;hi=hi+Math.imul(ah8,bh7)|0;lo=lo+Math.imul(al7,bl8)|0;mid=mid+Math.imul(al7,bh8)|0;mid=mid+Math.imul(ah7,bl8)|0;hi=hi+Math.imul(ah7,bh8)|0;lo=lo+Math.imul(al6,bl9)|0;mid=mid+Math.imul(al6,bh9)|0;mid=mid+Math.imul(ah6,bl9)|0;hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0;w15&=0x3ffffff;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid=mid+Math.imul(ah9,bl7)|0;hi=Math.imul(ah9,bh7);lo=lo+Math.imul(al8,bl8)|0;mid=mid+Math.imul(al8,bh8)|0;mid=mid+Math.imul(ah8,bl8)|0;hi=hi+Math.imul(ah8,bh8)|0;lo=lo+Math.imul(al7,bl9)|0;mid=mid+Math.imul(al7,bh9)|0;mid=mid+Math.imul(ah7,bl9)|0;hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0;w16&=0x3ffffff;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid=mid+Math.imul(ah9,bl8)|0;hi=Math.imul(ah9,bh8);lo=lo+Math.imul(al8,bl9)|0;mid=mid+Math.imul(al8,bh9)|0;mid=mid+Math.imul(ah8,bl9)|0;hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0;w17&=0x3ffffff;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid=mid+Math.imul(ah9,bl9)|0;hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((mid&0x1fff)<<13)|0;c=(hi+(mid>>>13)|0)+(w18>>>26)|0;w18&=0x3ffffff;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++;}return out;};if(!Math.imul){comb10MulTo=smallMulTo;}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&0x3ffffff;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&0x3ffffff;ncarry=ncarry+(r/0x4000000|0)|0;lo=lo+rword|0;rword=lo&0x3ffffff;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=0x3ffffff;}out.words[k]=rword;carry=ncarry;ncarry=hncarry;}if(carry!==0){out.words[k]=carry;}else{out.length--;}return out.strip();}function jumboMulTo(self,num,out){var fftm=new FFTM();return fftm.mulp(self,num,out);}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out);}else if(len<63){res=smallMulTo(this,num,out);}else if(len<1024){res=bigMulTo(this,num,out);}else{res=jumboMulTo(this,num,out);}return res;};function FFTM(x,y){this.x=x;this.y=y;}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N);}return t;};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1;}return rb;};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]];}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx;}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++;}return 1<<i+1+odd;};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t;}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*0x2000+Math.round(ws[2*i]/N)+carry;ws[i]=w&0x3ffffff;if(w<0x4000000){carry=0;}else{carry=w/0x4000000|0;}}return ws;};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&0x1fff;carry=carry>>>13;rws[2*i+1]=carry&0x1fff;carry=carry>>>13;}for(i=2*len;i<N;++i){rws[i]=0;}assert(carry===0);assert((carry&~0x1fff)===0);};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0;}return ph;};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx;}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip();};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out);};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out);};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this);};BN.prototype.imuln=function imuln(num){assert(typeof num==='number');assert(num<0x4000000);var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&0x3ffffff)+(carry&0x3ffffff);carry>>=26;carry+=w/0x4000000|0;carry+=lo>>>26;this.words[i]=lo&0x3ffffff;}if(carry!==0){this.words[i]=carry;this.length++;}return this;};BN.prototype.muln=function muln(num){return this.clone().imuln(num);};BN.prototype.sqr=function sqr(){return this.mul(this);};BN.prototype.isqr=function isqr(){return this.imul(this.clone());};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break;}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q);}}return res;};BN.prototype.iushln=function iushln(bits){assert(typeof bits==='number'&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=0x3ffffff>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r;}if(carry){this.words[i]=carry;this.length++;}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i];}for(i=0;i<s;i++){this.words[i]=0;}this.length+=s;}return this.strip();};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits);};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==='number'&&bits>=0);var h;if(hint){h=(hint-hint%26)/26;}else{h=0;}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=0x3ffffff^0x3ffffff>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i];}maskedWords.length=s;}if(s===0);else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s];}}else{this.words[0]=0;this.length=1;}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask;}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry;}if(this.length===0){this.words[0]=0;this.length=1;}return this.strip();};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended);};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits);};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits);};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits);};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits);};BN.prototype.testn=function testn(bit){assert(typeof bit==='number'&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return !!(w&q);};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==='number'&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,'imaskn works only with positive numbers');if(this.length<=s){return this;}if(r!==0){s++;}this.length=Math.min(s,this.length);if(r!==0){var mask=0x3ffffff^0x3ffffff>>>r<<r;this.words[this.length-1]&=mask;}return this.strip();};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits);};BN.prototype.iaddn=function iaddn(num){assert(typeof num==='number');assert(num<0x4000000);if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this;}this.negative=0;this.isubn(num);this.negative=1;return this;}return this._iaddn(num);};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=0x4000000;i++){this.words[i]-=0x4000000;if(i===this.length-1){this.words[i+1]=1;}else{this.words[i+1]++;}}this.length=Math.max(this.length,i+1);return this;};BN.prototype.isubn=function isubn(num){assert(typeof num==='number');assert(num<0x4000000);if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this;}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1;}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=0x4000000;this.words[i+1]-=1;}}return this.strip();};BN.prototype.addn=function addn(num){return this.clone().iaddn(num);};BN.prototype.subn=function subn(num){return this.clone().isubn(num);};BN.prototype.iabs=function iabs(){this.negative=0;return this;};BN.prototype.abs=function abs(){return this.clone().iabs();};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;this._expand(len);var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&0x3ffffff;carry=(w>>26)-(right/0x4000000|0);this.words[i+shift]=w&0x3ffffff;}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&0x3ffffff;}if(carry===0)return this.strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&0x3ffffff;}this.negative=1;return this.strip();};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0;}var m=a.length-b.length;var q;if(mode!=='mod'){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0;}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1;}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*0x4000000+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,0x3ffffff);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1;}}if(q){q.words[j]=qj;}}if(q){q.strip();}a.strip();if(mode!=='div'&&shift!==0){a.iushrn(shift);}return {div:q||null,mod:a};};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());if(this.isZero()){return {div:new BN(0),mod:new BN(0)};}var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=='mod'){div=res.div.neg();}if(mode!=='div'){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num);}}return {div:div,mod:mod};}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=='mod'){div=res.div.neg();}return {div:div,mod:res.mod};}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=='div'){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num);}}return {div:res.div,mod:mod};}if(num.length>this.length||this.cmp(num)<0){return {div:new BN(0),mod:this};}if(num.length===1){if(mode==='div'){return {div:this.divn(num.words[0]),mod:null};}if(mode==='mod'){return {div:null,mod:new BN(this.modn(num.words[0]))};}return {div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))};}return this._wordDiv(num,mode);};BN.prototype.div=function div(num){return this.divmod(num,'div',false).div;};BN.prototype.mod=function mod(num){return this.divmod(num,'mod',false).mod;};BN.prototype.umod=function umod(num){return this.divmod(num,'mod',true).mod;};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1);};BN.prototype.modn=function modn(num){assert(num<=0x3ffffff);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num;}return acc;};BN.prototype.idivn=function idivn(num){assert(num<=0x3ffffff);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*0x4000000;this.words[i]=w/num|0;carry=w%num;}return this.strip();};BN.prototype.divn=function divn(num){return this.clone().idivn(num);};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p);}else{x=x.clone();}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g;}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){x.iushrn(i);while(i-->0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp);}A.iushrn(1);B.iushrn(1);}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){y.iushrn(j);while(j-->0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp);}C.iushrn(1);D.iushrn(1);}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D);}else{y.isub(x);C.isub(A);D.isub(B);}}return {a:C,b:D,gcd:y.iushln(g)};};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p);}else{a=a.clone();}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1){}if(i>0){a.iushrn(i);while(i-->0){if(x1.isOdd()){x1.iadd(delta);}x1.iushrn(1);}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1){}if(j>0){b.iushrn(j);while(j-->0){if(x2.isOdd()){x2.iadd(delta);}x2.iushrn(1);}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2);}else{b.isub(a);x2.isub(x1);}}var res;if(a.cmpn(1)===0){res=x1;}else{res=x2;}if(res.cmpn(0)<0){res.iadd(p);}return res;};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1);}do{while(a.isEven()){a.iushrn(1);}while(b.isEven()){b.iushrn(1);}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t;}else if(r===0||b.cmpn(1)===0){break;}a.isub(b);}while(true);return b.iushln(shift);};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num);};BN.prototype.isEven=function isEven(){return (this.words[0]&1)===0;};BN.prototype.isOdd=function isOdd(){return (this.words[0]&1)===1;};BN.prototype.andln=function andln(num){return this.words[0]&num;};BN.prototype.bincn=function bincn(bit){assert(typeof bit==='number');var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){this._expand(s+1);this.words[s]|=q;return this;}var carry=q;for(var i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=0x3ffffff;this.words[i]=w;}if(carry!==0){this.words[i]=carry;this.length++;}return this;};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0;};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return -1;if(this.negative===0&&negative)return 1;this.strip();var res;if(this.length>1){res=1;}else{if(negative){num=-num;}assert(num<=0x3ffffff,'Number is too big');var w=this.words[0]|0;res=w===num?0:w<num?-1:1;}if(this.negative!==0)return -res|0;return res;};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return -1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return -res|0;return res;};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return -1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1;}else if(a>b){res=1;}break;}return res;};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1;};BN.prototype.gt=function gt(num){return this.cmp(num)===1;};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0;};BN.prototype.gte=function gte(num){return this.cmp(num)>=0;};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1;};BN.prototype.lt=function lt(num){return this.cmp(num)===-1;};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0;};BN.prototype.lte=function lte(num){return this.cmp(num)<=0;};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0;};BN.prototype.eq=function eq(num){return this.cmp(num)===0;};BN.red=function red(num){return new Red(num);};BN.prototype.toRed=function toRed(ctx){assert(!this.red,'Already a number in reduction context');assert(this.negative===0,'red works only with positives');return ctx.convertTo(this)._forceRed(ctx);};BN.prototype.fromRed=function fromRed(){assert(this.red,'fromRed works only with numbers in reduction context');return this.red.convertFrom(this);};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this;};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,'Already a number in reduction context');return this._forceRed(ctx);};BN.prototype.redAdd=function redAdd(num){assert(this.red,'redAdd works only with red numbers');return this.red.add(this,num);};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,'redIAdd works only with red numbers');return this.red.iadd(this,num);};BN.prototype.redSub=function redSub(num){assert(this.red,'redSub works only with red numbers');return this.red.sub(this,num);};BN.prototype.redISub=function redISub(num){assert(this.red,'redISub works only with red numbers');return this.red.isub(this,num);};BN.prototype.redShl=function redShl(num){assert(this.red,'redShl works only with red numbers');return this.red.shl(this,num);};BN.prototype.redMul=function redMul(num){assert(this.red,'redMul works only with red numbers');this.red._verify2(this,num);return this.red.mul(this,num);};BN.prototype.redIMul=function redIMul(num){assert(this.red,'redMul works only with red numbers');this.red._verify2(this,num);return this.red.imul(this,num);};BN.prototype.redSqr=function redSqr(){assert(this.red,'redSqr works only with red numbers');this.red._verify1(this);return this.red.sqr(this);};BN.prototype.redISqr=function redISqr(){assert(this.red,'redISqr works only with red numbers');this.red._verify1(this);return this.red.isqr(this);};BN.prototype.redSqrt=function redSqrt(){assert(this.red,'redSqrt works only with red numbers');this.red._verify1(this);return this.red.sqrt(this);};BN.prototype.redInvm=function redInvm(){assert(this.red,'redInvm works only with red numbers');this.red._verify1(this);return this.red.invm(this);};BN.prototype.redNeg=function redNeg(){assert(this.red,'redNeg works only with red numbers');this.red._verify1(this);return this.red.neg(this);};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,'redPow(normalNum)');this.red._verify1(this);return this.red.pow(this,num);};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp();}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp;};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength();}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1;}else if(cmp>0){r.isub(this.p);}else{r.strip();}return r;};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out);};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k);};function K256(){MPrime.call(this,'k256','ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=0x3fffff;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i];}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return;}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next;}prev>>>=22;input.words[i-10]=prev;if(prev===0&&input.length>10){input.length-=10;}else{input.length-=9;}};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*0x3d1;num.words[i]=lo&0x3ffffff;lo=w*0x40+(lo/0x4000000|0);}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--;}}return num;};function P224(){MPrime.call(this,'p224','ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');}inherits(P224,MPrime);function P192(){MPrime.call(this,'p192','ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');}inherits(P192,MPrime);function P25519(){MPrime.call(this,'25519','7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*0x13+carry;var lo=hi&0x3ffffff;hi>>>=26;num.words[i]=lo;carry=hi;}if(carry!==0){num.words[num.length++]=carry;}return num;};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==='k256'){prime=new K256();}else if(name==='p224'){prime=new P224();}else if(name==='p192'){prime=new P192();}else if(name==='p25519'){prime=new P25519();}else{throw new Error('Unknown prime '+name);}primes[name]=prime;return prime;};function Red(m){if(typeof m==='string'){var prime=BN._prime(m);this.m=prime.p;this.prime=prime;}else{assert(m.gtn(1),'modulus must be greater than 1');this.m=m;this.prime=null;}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,'red works only with positives');assert(a.red,'red works only with red numbers');};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,'red works only with positives');assert(a.red&&a.red===b.red,'red works only with red numbers');};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this);};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone();}return this.m.sub(a)._forceRed(this);};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m);}return res._forceRed(this);};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m);}return res;};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m);}return res._forceRed(this);};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m);}return res;};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num));};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b));};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b));};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone());};Red.prototype.sqr=function sqr(a){return this.mul(a,a);};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow);}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1);}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne);}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr();}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i;}return r;};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg();}else{return this.imod(inv);}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1).toRed(this);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a);}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26;}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res);}if(bit===0&&current===0){currentLen=0;continue;}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0;}start=26;}return res;};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r;};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res;};BN.mont=function mont(num){return new Mont(num);};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26;}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv);}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift));};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r;};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a;}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m);}else if(u.cmpn(0)<0){res=u.iadd(this.m);}return res._forceRed(this);};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m);}else if(u.cmpn(0)<0){res=u.iadd(this.m);}return res._forceRed(this);};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this);};})(module,commonjsGlobal);});var minimalisticAssert=assert;function assert(val,msg){if(!val)throw new Error(msg||'Assertion failed');}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||'Assertion failed: '+l+' != '+r);};var utils_1=createCommonjsModule(function(module,exports){var utils=exports;function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return [];var res=[];if(typeof msg!=='string'){for(var i=0;i<msg.length;i++){res[i]=msg[i]|0;}return res;}if(enc==='hex'){msg=msg.replace(/[^a-z0-9]+/ig,'');if(msg.length%2!==0)msg='0'+msg;for(var i=0;i<msg.length;i+=2){res.push(parseInt(msg[i]+msg[i+1],16));}}else{for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&0xff;if(hi)res.push(hi,lo);else res.push(lo);}}return res;}utils.toArray=toArray;function zero2(word){if(word.length===1)return '0'+word;else return word;}utils.zero2=zero2;function toHex(msg){var res='';for(var i=0;i<msg.length;i++){res+=zero2(msg[i].toString(16));}return res;}utils.toHex=toHex;utils.encode=function encode(arr,enc){if(enc==='hex')return toHex(arr);else return arr;};});var utils_1$1=createCommonjsModule(function(module,exports){var utils=exports;utils.assert=minimalisticAssert;utils.toArray=utils_1.toArray;utils.zero2=utils_1.zero2;utils.toHex=utils_1.toHex;utils.encode=utils_1.encode;function getNAF(num,w,bits){var naf=new Array(Math.max(num.bitLength(),bits)+1);naf.fill(0);var ws=1<<w+1;var k=num.clone();for(var i=0;i<naf.length;i++){var z;var mod=k.andln(ws-1);if(k.isOdd()){if(mod>(ws>>1)-1)z=(ws>>1)-mod;else z=mod;k.isubn(z);}else{z=0;}naf[i]=z;k.iushrn(1);}return naf;}utils.getNAF=getNAF;function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone();k2=k2.clone();var d1=0;var d2=0;while(k1.cmpn(-d1)>0||k2.cmpn(-d2)>0){var m14=k1.andln(3)+d1&3;var m24=k2.andln(3)+d2&3;if(m14===3)m14=-1;if(m24===3)m24=-1;var u1;if((m14&1)===0){u1=0;}else{var m8=k1.andln(7)+d1&7;if((m8===3||m8===5)&&m24===2)u1=-m14;else u1=m14;}jsf[0].push(u1);var u2;if((m24&1)===0){u2=0;}else{var m8=k2.andln(7)+d2&7;if((m8===3||m8===5)&&m14===2)u2=-m24;else u2=m24;}jsf[1].push(u2);if(2*d1===u1+1)d1=1-d1;if(2*d2===u2+1)d2=1-d2;k1.iushrn(1);k2.iushrn(1);}return jsf;}utils.getJSF=getJSF;function cachedProperty(obj,name,computer){var key='_'+name;obj.prototype[name]=function cachedProperty(){return this[key]!==undefined?this[key]:this[key]=computer.call(this);};}utils.cachedProperty=cachedProperty;function parseBytes(bytes){return typeof bytes==='string'?utils.toArray(bytes,'hex'):bytes;}utils.parseBytes=parseBytes;function intFromLE(bytes){return new bn(bytes,'hex','le');}utils.intFromLE=intFromLE;});var require$$0={};var r;var brorand=function rand(len){if(!r)r=new Rand(null);return r.generate(len);};function Rand(rand){this.rand=rand;}var Rand_1=Rand;Rand.prototype.generate=function generate(len){return this._rand(len);};Rand.prototype._rand=function _rand(n){if(this.rand.getBytes)return this.rand.getBytes(n);var res=new Uint8Array(n);for(var i=0;i<res.length;i++){res[i]=this.rand.getByte();}return res;};if((typeof self==="undefined"?"undefined":_typeof(self))==='object'){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);self.crypto.getRandomValues(arr);return arr;};}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);self.msCrypto.getRandomValues(arr);return arr;};}else if((typeof window==="undefined"?"undefined":_typeof(window))==='object'){Rand.prototype._rand=function(){throw new Error('Not implemented yet');};}}else{try{var crypto=require$$0;if(typeof crypto.randomBytes!=='function')throw new Error('Not supported');Rand.prototype._rand=function _rand(n){return crypto.randomBytes(n);};}catch(e){}}brorand.Rand=Rand_1;var getNAF=utils_1$1.getNAF;var getJSF=utils_1$1.getJSF;var assert$1=utils_1$1.assert;function BaseCurve(type,conf){this.type=type;this.p=new bn(conf.p,16);this.red=conf.prime?bn.red(conf.prime):bn.mont(this.p);this.zero=new bn(0).toRed(this.red);this.one=new bn(1).toRed(this.red);this.two=new bn(2).toRed(this.red);this.n=conf.n&&new bn(conf.n,16);this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var adjustCount=this.n&&this.p.div(this.n);if(!adjustCount||adjustCount.cmpn(100)>0){this.redN=null;}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red);}}var base=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error('Not implemented');};BaseCurve.prototype.validate=function validate(){throw new Error('Not implemented');};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(p,k){assert$1(p.precomputed);var doubles=p._getDoubles();var naf=getNAF(k,1,this._bitLength);var I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;var repr=[];for(var j=0;j<naf.length;j+=doubles.step){var nafW=0;for(var k=j+doubles.step-1;k>=j;k--){nafW=(nafW<<1)+naf[k];}repr.push(nafW);}var a=this.jpoint(null,null,null);var b=this.jpoint(null,null,null);for(var i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];if(nafW===i)b=b.mixedAdd(doubles.points[j]);else if(nafW===-i)b=b.mixedAdd(doubles.points[j].neg());}a=a.add(b);}return a.toP();};BaseCurve.prototype._wnafMul=function _wnafMul(p,k){var w=4;var nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;var wnd=nafPoints.points;var naf=getNAF(k,w,this._bitLength);var acc=this.jpoint(null,null,null);for(var i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&naf[i]===0;i--){k++;}if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;var z=naf[i];assert$1(z!==0);if(p.type==='affine'){if(z>0)acc=acc.mixedAdd(wnd[z-1>>1]);else acc=acc.mixedAdd(wnd[-z-1>>1].neg());}else{if(z>0)acc=acc.add(wnd[z-1>>1]);else acc=acc.add(wnd[-z-1>>1].neg());}}return p.type==='affine'?acc.toP():acc;};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(defW,points,coeffs,len,jacobianResult){var wndWidth=this._wnafT1;var wnd=this._wnafT2;var naf=this._wnafT3;var max=0;for(var i=0;i<len;i++){var p=points[i];var nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd;wnd[i]=nafPoints.points;}for(var i=len-1;i>=1;i-=2){var a=i-1;var b=i;if(wndWidth[a]!==1||wndWidth[b]!==1){naf[a]=getNAF(coeffs[a],wndWidth[a],this._bitLength);naf[b]=getNAF(coeffs[b],wndWidth[b],this._bitLength);max=Math.max(naf[a].length,max);max=Math.max(naf[b].length,max);continue;}var comb=[points[a],null,null,points[b]];if(points[a].y.cmp(points[b].y)===0){comb[1]=points[a].add(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg());}else if(points[a].y.cmp(points[b].y.redNeg())===0){comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].add(points[b].neg());}else{comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg());}var index=[-3,-1,-5,-7,0,7,5,1,3];var jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max);naf[a]=new Array(max);naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=jsf[0][j]|0;var jb=jsf[1][j]|0;naf[a][j]=index[(ja+1)*3+(jb+1)];naf[b][j]=0;wnd[a]=comb;}}var acc=this.jpoint(null,null,null);var tmp=this._wnafT4;for(var i=max;i>=0;i--){var k=0;while(i>=0){var zero=true;for(var j=0;j<len;j++){tmp[j]=naf[j][i]|0;if(tmp[j]!==0)zero=false;}if(!zero)break;k++;i--;}if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;for(var j=0;j<len;j++){var z=tmp[j];var p;if(z===0)continue;else if(z>0)p=wnd[j][z-1>>1];else if(z<0)p=wnd[j][-z-1>>1].neg();if(p.type==='affine')acc=acc.mixedAdd(p);else acc=acc.add(p);}}for(var i=0;i<len;i++){wnd[i]=null;}if(jacobianResult)return acc;else return acc.toP();};function BasePoint(curve,type){this.curve=curve;this.type=type;this.precomputed=null;}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error('Not implemented');};BasePoint.prototype.validate=function validate(){return this.curve.validate(this);};BaseCurve.prototype.decodePoint=function decodePoint(bytes,enc){bytes=utils_1$1.toArray(bytes,enc);var len=this.p.byteLength();if((bytes[0]===0x04||bytes[0]===0x06||bytes[0]===0x07)&&bytes.length-1===2*len){if(bytes[0]===0x06)assert$1(bytes[bytes.length-1]%2===0);else if(bytes[0]===0x07)assert$1(bytes[bytes.length-1]%2===1);var res=this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));return res;}else if((bytes[0]===0x02||bytes[0]===0x03)&&bytes.length-1===len){return this.pointFromX(bytes.slice(1,1+len),bytes[0]===0x03);}throw new Error('Unknown point format');};BasePoint.prototype.encodeCompressed=function encodeCompressed(enc){return this.encode(enc,true);};BasePoint.prototype._encode=function _encode(compact){var len=this.curve.p.byteLength();var x=this.getX().toArray('be',len);if(compact)return [this.getY().isEven()?0x02:0x03].concat(x);return [0x04].concat(x,this.getY().toArray('be',len));};BasePoint.prototype.encode=function encode(enc,compact){return utils_1$1.encode(this._encode(compact),enc);};BasePoint.prototype.precompute=function precompute(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};precomputed.naf=this._getNAFPoints(8);precomputed.doubles=this._getDoubles(4,power);precomputed.beta=this._getBeta();this.precomputed=precomputed;return this;};BasePoint.prototype._hasDoubles=function _hasDoubles(k){if(!this.precomputed)return false;var doubles=this.precomputed.doubles;if(!doubles)return false;return doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step);};BasePoint.prototype._getDoubles=function _getDoubles(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var doubles=[this];var acc=this;for(var i=0;i<power;i+=step){for(var j=0;j<step;j++){acc=acc.dbl();}doubles.push(acc);}return {step:step,points:doubles};};BasePoint.prototype._getNAFPoints=function _getNAFPoints(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var res=[this];var max=(1<<wnd)-1;var dbl=max===1?null:this.dbl();for(var i=1;i<max;i++){res[i]=res[i-1].add(dbl);}return {wnd:wnd,points:res};};BasePoint.prototype._getBeta=function _getBeta(){return null;};BasePoint.prototype.dblp=function dblp(k){var r=this;for(var i=0;i<k;i++){r=r.dbl();}return r;};var inherits;if(typeof Object.create==='function'){inherits=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};}else{inherits=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor();ctor.prototype.constructor=ctor;};}var inherits$1=inherits;var formatRegExp=/%[sdj%]/g;function format(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]));}return objects.join(' ');}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==='%%')return '%';if(i>=len)return x;switch(x){case'%s':return String(args[i++]);case'%d':return Number(args[i++]);case'%j':try{return JSON.stringify(args[i++]);}catch(_){return '[Circular]';}default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=' '+x;}else{str+=' '+inspect(x);}}return str;}function deprecate(fn,msg){if(isUndefined(global.process)){return function(){return deprecate(fn,msg).apply(this,arguments);};}var warned=false;function deprecated(){if(!warned){{console.error(msg);}warned=true;}return fn.apply(this,arguments);}return deprecated;}var debugs={};var debugEnviron;function debuglog(set){if(isUndefined(debugEnviron))debugEnviron='';set=set.toUpperCase();if(!debugs[set]){if(new RegExp('\\b'+set+'\\b','i').test(debugEnviron)){var pid=0;debugs[set]=function(){var msg=format.apply(null,arguments);console.error('%s %d: %s',set,pid,msg);};}else{debugs[set]=function(){};}}return debugs[set];}function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts;}else if(opts){_extend(ctx,opts);}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth);}inspect.colors={'bold':[1,22],'italic':[3,23],'underline':[4,24],'inverse':[7,27],'white':[37,39],'grey':[90,39],'black':[30,39],'blue':[34,39],'cyan':[36,39],'green':[32,39],'magenta':[35,39],'red':[31,39],'yellow':[33,39]};inspect.styles={'special':'cyan','number':'yellow','boolean':'yellow','undefined':'grey','null':'bold','string':'green','date':'magenta','regexp':'red'};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return "\x1B["+inspect.colors[style][0]+'m'+str+"\x1B["+inspect.colors[style][1]+'m';}else{return str;}}function stylizeNoColor(str,styleType){return str;}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true;});return hash;}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes);}return ret;}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive;}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value);}if(isError(value)&&(keys.indexOf('message')>=0||keys.indexOf('description')>=0)){return formatError(value);}if(keys.length===0){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}if(isError(value)){return formatError(value);}}var base='',array=false,braces=['{','}'];if(isArray$1(value)){array=true;braces=['[',']'];}if(isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}if(isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}if(isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}if(isError(value)){base=' '+formatError(value);}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}ctx.seen.pop();return reduceToSingleString(output,base,braces);}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');}if(isNumber(value))return ctx.stylize(''+value,'number');if(isBoolean(value))return ctx.stylize(''+value,'boolean');if(isNull(value))return ctx.stylize('null','null');}function formatError(value){return '['+Error.prototype.toString.call(value)+']';}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}if(!hasOwnProperty(visibleKeys,key)){name='['+key+']';}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null);}else{str=formatValue(ctx,desc.value,recurseTimes-1);}if(str.indexOf('\n')>-1){if(array){str=str.split('\n').map(function(line){return '  '+line;}).join('\n').substr(2);}else{str='\n'+str.split('\n').map(function(line){return '   '+line;}).join('\n');}}}else{str=ctx.stylize('[Circular]','special');}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str;}name=JSON.stringify(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}return name+': '+str;}function reduceToSingleString(output,base,braces){var length=output.reduce(function(prev,cur){if(cur.indexOf('\n')>=0);return prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1;},0);if(length>60){return braces[0]+(base===''?'':base+'\n ')+' '+output.join(',\n  ')+' '+braces[1];}return braces[0]+base+' '+output.join(', ')+' '+braces[1];}function isArray$1(ar){return Array.isArray(ar);}function isBoolean(arg){return typeof arg==='boolean';}function isNull(arg){return arg===null;}function isNullOrUndefined(arg){return arg==null;}function isNumber(arg){return typeof arg==='number';}function isString(arg){return typeof arg==='string';}function isSymbol(arg){return _typeof(arg)==='symbol';}function isUndefined(arg){return arg===void 0;}function isRegExp(re){return isObject(re)&&objectToString(re)==='[object RegExp]';}function isObject(arg){return _typeof(arg)==='object'&&arg!==null;}function isDate(d){return isObject(d)&&objectToString(d)==='[object Date]';}function isError(e){return isObject(e)&&(objectToString(e)==='[object Error]'||e instanceof Error);}function isFunction(arg){return typeof arg==='function';}function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||_typeof(arg)==='symbol'||typeof arg==='undefined';}function isBuffer$1(maybeBuf){return Buffer.isBuffer(maybeBuf);}function objectToString(o){return Object.prototype.toString.call(o);}function pad(n){return n<10?'0'+n.toString(10):n.toString(10);}var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function timestamp(){var d=new Date();var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return [d.getDate(),months[d.getMonth()],time].join(' ');}function log(){console.log('%s - %s',timestamp(),format.apply(null,arguments));}function _extend(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]];}return origin;}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}var require$$0$1={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer$1,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray$1,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};var inherits_browser=createCommonjsModule(function(module){if(typeof Object.create==='function'){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor();ctor.prototype.constructor=ctor;};}});var inherits$2=createCommonjsModule(function(module){try{var util=require$$0$1;if(typeof util.inherits!=='function')throw '';module.exports=util.inherits;}catch(e){module.exports=inherits_browser;}});var assert$2=utils_1$1.assert;function ShortCurve(conf){base.call(this,'short',conf);this.a=new bn(conf.a,16).toRed(this.red);this.b=new bn(conf.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(conf);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4);}inherits$2(ShortCurve,base);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(conf){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var beta;var lambda;if(conf.beta){beta=new bn(conf.beta,16).toRed(this.red);}else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1];beta=beta.toRed(this.red);}if(conf.lambda){lambda=new bn(conf.lambda,16);}else{var lambdas=this._getEndoRoots(this.n);if(this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))===0){lambda=lambdas[0];}else{lambda=lambdas[1];assert$2(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))===0);}}var basis;if(conf.basis){basis=conf.basis.map(function(vec){return {a:new bn(vec.a,16),b:new bn(vec.b,16)};});}else{basis=this._getEndoBasis(lambda);}return {beta:beta,lambda:lambda,basis:basis};};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(num){var red=num===this.p?this.red:bn.mont(num);var tinv=new bn(2).toRed(red).redInvm();var ntinv=tinv.redNeg();var s=new bn(3).toRed(red).redNeg().redSqrt().redMul(tinv);var l1=ntinv.redAdd(s).fromRed();var l2=ntinv.redSub(s).fromRed();return [l1,l2];};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(lambda){var aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2));var u=lambda;var v=this.n.clone();var x1=new bn(1);var y1=new bn(0);var x2=new bn(0);var y2=new bn(1);var a0;var b0;var a1;var b1;var a2;var b2;var prevR;var i=0;var r;var x;while(u.cmpn(0)!==0){var q=v.div(u);r=v.sub(q.mul(u));x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0){a0=prevR.neg();b0=x1;a1=r.neg();b1=x;}else if(a1&&++i===2){break;}prevR=r;v=u;u=r;x2=x1;x1=x;y2=y1;y1=y;}a2=r.neg();b2=x;var len1=a1.sqr().add(b1.sqr());var len2=a2.sqr().add(b2.sqr());if(len2.cmp(len1)>=0){a2=a0;b2=b0;}if(a1.negative){a1=a1.neg();b1=b1.neg();}if(a2.negative){a2=a2.neg();b2=b2.neg();}return [{a:a1,b:b1},{a:a2,b:b2}];};ShortCurve.prototype._endoSplit=function _endoSplit(k){var basis=this.endo.basis;var v1=basis[0];var v2=basis[1];var c1=v2.b.mul(k).divRound(this.n);var c2=v1.b.neg().mul(k).divRound(this.n);var p1=c1.mul(v1.a);var p2=c2.mul(v2.a);var q1=c1.mul(v1.b);var q2=c2.mul(v2.b);var k1=k.sub(p1).sub(p2);var k2=q1.add(q2).neg();return {k1:k1,k2:k2};};ShortCurve.prototype.pointFromX=function pointFromX(x,odd){x=new bn(x,16);if(!x.red)x=x.toRed(this.red);var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error('invalid point');var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y);};ShortCurve.prototype.validate=function validate(point){if(point.inf)return true;var x=point.x;var y=point.y;var ax=this.a.redMul(x);var rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return y.redSqr().redISub(rhs).cmpn(0)===0;};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(points,coeffs,jacobianResult){var npoints=this._endoWnafT1;var ncoeffs=this._endoWnafT2;for(var i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]);var p=points[i];var beta=p._getBeta();if(split.k1.negative){split.k1.ineg();p=p.neg(true);}if(split.k2.negative){split.k2.ineg();beta=beta.neg(true);}npoints[i*2]=p;npoints[i*2+1]=beta;ncoeffs[i*2]=split.k1;ncoeffs[i*2+1]=split.k2;}var res=this._wnafMulAdd(1,npoints,ncoeffs,i*2,jacobianResult);for(var j=0;j<i*2;j++){npoints[j]=null;ncoeffs[j]=null;}return res;};function Point(curve,x,y,isRed){base.BasePoint.call(this,curve,'affine');if(x===null&&y===null){this.x=null;this.y=null;this.inf=true;}else{this.x=new bn(x,16);this.y=new bn(y,16);if(isRed){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red);}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false;}}inherits$2(Point,base.BasePoint);ShortCurve.prototype.point=function point(x,y,isRed){return new Point(this,x,y,isRed);};ShortCurve.prototype.pointFromJSON=function pointFromJSON(obj,red){return Point.fromJSON(this,obj,red);};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve;var endoMul=function endoMul(p){return curve.point(p.x.redMul(curve.endo.beta),p.y);};pre.beta=beta;beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}};}return beta;};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return [this.x,this.y];return [this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}];};Point.fromJSON=function fromJSON(curve,obj,red){if(typeof obj==='string')obj=JSON.parse(obj);var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red);}var pre=obj[2];res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}};return res;};Point.prototype.inspect=function inspect(){if(this.isInfinity())return '<EC Point Infinity>';return '<EC Point x: '+this.x.fromRed().toString(16,2)+' y: '+this.y.fromRed().toString(16,2)+'>';};Point.prototype.isInfinity=function isInfinity(){return this.inf;};Point.prototype.add=function add(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var c=this.y.redSub(p.y);if(c.cmpn(0)!==0)c=c.redMul(this.x.redSub(p.x).redInvm());var nx=c.redSqr().redISub(this.x).redISub(p.x);var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny);};Point.prototype.dbl=function dbl(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(ys1.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a;var x2=this.x.redSqr();var dyinv=ys1.redInvm();var c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);var nx=c.redSqr().redISub(this.x.redAdd(this.x));var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny);};Point.prototype.getX=function getX(){return this.x.fromRed();};Point.prototype.getY=function getY(){return this.y.fromRed();};Point.prototype.mul=function mul(k){k=new bn(k,16);if(this.isInfinity())return this;else if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[k]);else return this.curve._wnafMul(this,k);};Point.prototype.mulAdd=function mulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs);else return this.curve._wnafMulAdd(1,points,coeffs,2);};Point.prototype.jmulAdd=function jmulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs,true);else return this.curve._wnafMulAdd(1,points,coeffs,2,true);};Point.prototype.eq=function eq(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0);};Point.prototype.neg=function neg(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed;var negate=function negate(p){return p.neg();};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}};}return res;};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res;};function JPoint(curve,x,y,z){base.BasePoint.call(this,curve,'jacobian');if(x===null&&y===null&&z===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new bn(0);}else{this.x=new bn(x,16);this.y=new bn(y,16);this.z=new bn(z,16);}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one;}inherits$2(JPoint,base.BasePoint);ShortCurve.prototype.jpoint=function jpoint(x,y,z){return new JPoint(this,x,y,z);};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm();var zinv2=zinv.redSqr();var ax=this.x.redMul(zinv2);var ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay);};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z);};JPoint.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr();var z2=this.z.redSqr();var u1=this.x.redMul(pz2);var u2=p.x.redMul(z2);var s1=this.y.redMul(pz2.redMul(p.z));var s2=p.y.redMul(z2.redMul(this.z));var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz);};JPoint.prototype.mixedAdd=function mixedAdd(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr();var u1=this.x;var u2=p.x.redMul(z2);var s1=this.y;var s2=p.y.redMul(z2).redMul(this.z);var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz);};JPoint.prototype.dblp=function dblp(pow){if(pow===0)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var r=this;for(var i=0;i<pow;i++){r=r.dbl();}return r;}var a=this.curve.a;var tinv=this.curve.tinv;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jyd=jy.redAdd(jy);for(var i=0;i<pow;i++){var jx2=jx.redSqr();var jyd2=jyd.redSqr();var jyd4=jyd2.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var t1=jx.redMul(jyd2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);if(i+1<pow)jz4=jz4.redMul(jyd4);jx=nx;jz=nz;jyd=dny;}return this.curve.jpoint(jx,jyd.redMul(tinv),jz);};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl();};JPoint.prototype._zeroDbl=function _zeroDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx);var t=m.redSqr().redISub(s).redISub(s);var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);nx=t;ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y);}else{var a=this.x.redSqr();var b=this.y.redSqr();var c=b.redSqr();var d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a);var f=e.redSqr();var c8=c.redIAdd(c);c8=c8.redIAdd(c8);c8=c8.redIAdd(c8);nx=f.redISub(d).redISub(d);ny=e.redMul(d.redISub(nx)).redISub(c8);nz=this.y.redMul(this.z);nz=nz.redIAdd(nz);}return this.curve.jpoint(nx,ny,nz);};JPoint.prototype._threeDbl=function _threeDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);var t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y);}else{var delta=this.z.redSqr();var gamma=this.y.redSqr();var beta=this.x.redMul(gamma);var alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8);nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);}return this.curve.jpoint(nx,ny,nz);};JPoint.prototype._dbl=function _dbl(){var a=this.curve.a;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jx2=jx.redSqr();var jy2=jy.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8);var nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz);};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr();var yy=this.y.redSqr();var zz=this.z.redSqr();var yyyy=yy.redSqr();var m=xx.redAdd(xx).redIAdd(xx);var mm=m.redSqr();var e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e);e=e.redAdd(e).redIAdd(e);e=e.redISub(mm);var ee=e.redSqr();var t=yyyy.redIAdd(yyyy);t=t.redIAdd(t);t=t.redIAdd(t);t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);var yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4);yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx);nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz);};JPoint.prototype.mul=function mul(k,kbase){k=new bn(k,kbase);return this.curve._wnafMul(this,k);};JPoint.prototype.eq=function eq(p){if(p.type==='affine')return this.eq(p.toJ());if(this===p)return true;var z2=this.z.redSqr();var pz2=p.z.redSqr();if(this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0)!==0)return false;var z3=z2.redMul(this.z);var pz3=pz2.redMul(p.z);return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)===0;};JPoint.prototype.eqXToP=function eqXToP(x){var zs=this.z.redSqr();var rx=x.toRed(this.curve.red).redMul(zs);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(zs);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true;}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return '<EC JPoint Infinity>';return '<EC JPoint x: '+this.x.toString(16,2)+' y: '+this.y.toString(16,2)+' z: '+this.z.toString(16,2)+'>';};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0;};function MontCurve(conf){base.call(this,'mont',conf);this.a=new bn(conf.a,16).toRed(this.red);this.b=new bn(conf.b,16).toRed(this.red);this.i4=new bn(4).toRed(this.red).redInvm();this.two=new bn(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two));}inherits$2(MontCurve,base);var mont=MontCurve;MontCurve.prototype.validate=function validate(point){var x=point.normalize().x;var x2=x.redSqr();var rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);var y=rhs.redSqrt();return y.redSqr().cmp(rhs)===0;};function Point$1(curve,x,z){base.BasePoint.call(this,curve,'projective');if(x===null&&z===null){this.x=this.curve.one;this.z=this.curve.zero;}else{this.x=new bn(x,16);this.z=new bn(z,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);}}inherits$2(Point$1,base.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(bytes,enc){return this.point(utils_1$1.toArray(bytes,enc),1);};MontCurve.prototype.point=function point(x,z){return new Point$1(this,x,z);};MontCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point$1.fromJSON(this,obj);};Point$1.prototype.precompute=function precompute(){};Point$1.prototype._encode=function _encode(){return this.getX().toArray('be',this.curve.p.byteLength());};Point$1.fromJSON=function fromJSON(curve,obj){return new Point$1(curve,obj[0],obj[1]||curve.one);};Point$1.prototype.inspect=function inspect(){if(this.isInfinity())return '<EC Point Infinity>';return '<EC Point x: '+this.x.fromRed().toString(16,2)+' z: '+this.z.fromRed().toString(16,2)+'>';};Point$1.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0;};Point$1.prototype.dbl=function dbl(){var a=this.x.redAdd(this.z);var aa=a.redSqr();var b=this.x.redSub(this.z);var bb=b.redSqr();var c=aa.redSub(bb);var nx=aa.redMul(bb);var nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz);};Point$1.prototype.add=function add(){throw new Error('Not supported on Montgomery curve');};Point$1.prototype.diffAdd=function diffAdd(p,diff){var a=this.x.redAdd(this.z);var b=this.x.redSub(this.z);var c=p.x.redAdd(p.z);var d=p.x.redSub(p.z);var da=d.redMul(a);var cb=c.redMul(b);var nx=diff.z.redMul(da.redAdd(cb).redSqr());var nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz);};Point$1.prototype.mul=function mul(k){var t=k.clone();var a=this;var b=this.curve.point(null,null);var c=this;for(var bits=[];t.cmpn(0)!==0;t.iushrn(1)){bits.push(t.andln(1));}for(var i=bits.length-1;i>=0;i--){if(bits[i]===0){a=a.diffAdd(b,c);b=b.dbl();}else{b=a.diffAdd(b,c);a=a.dbl();}}return b;};Point$1.prototype.mulAdd=function mulAdd(){throw new Error('Not supported on Montgomery curve');};Point$1.prototype.jumlAdd=function jumlAdd(){throw new Error('Not supported on Montgomery curve');};Point$1.prototype.eq=function eq(other){return this.getX().cmp(other.getX())===0;};Point$1.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this;};Point$1.prototype.getX=function getX(){this.normalize();return this.x.fromRed();};var assert$3=utils_1$1.assert;function EdwardsCurve(conf){this.twisted=(conf.a|0)!==1;this.mOneA=this.twisted&&(conf.a|0)===-1;this.extended=this.mOneA;base.call(this,'edwards',conf);this.a=new bn(conf.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new bn(conf.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new bn(conf.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);assert$3(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(conf.c|0)===1;}inherits$2(EdwardsCurve,base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(num){if(this.mOneA)return num.redNeg();else return this.a.redMul(num);};EdwardsCurve.prototype._mulC=function _mulC(num){if(this.oneC)return num;else return this.c.redMul(num);};EdwardsCurve.prototype.jpoint=function jpoint(x,y,z,t){return this.point(x,y,z,t);};EdwardsCurve.prototype.pointFromX=function pointFromX(x,odd){x=new bn(x,16);if(!x.red)x=x.toRed(this.red);var x2=x.redSqr();var rhs=this.c2.redSub(this.a.redMul(x2));var lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2));var y2=rhs.redMul(lhs.redInvm());var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error('invalid point');var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y);};EdwardsCurve.prototype.pointFromY=function pointFromY(y,odd){y=new bn(y,16);if(!y.red)y=y.toRed(this.red);var y2=y.redSqr();var lhs=y2.redSub(this.c2);var rhs=y2.redMul(this.d).redMul(this.c2).redSub(this.a);var x2=lhs.redMul(rhs.redInvm());if(x2.cmp(this.zero)===0){if(odd)throw new Error('invalid point');else return this.point(this.zero,y);}var x=x2.redSqrt();if(x.redSqr().redSub(x2).cmp(this.zero)!==0)throw new Error('invalid point');if(x.fromRed().isOdd()!==odd)x=x.redNeg();return this.point(x,y);};EdwardsCurve.prototype.validate=function validate(point){if(point.isInfinity())return true;point.normalize();var x2=point.x.redSqr();var y2=point.y.redSqr();var lhs=x2.redMul(this.a).redAdd(y2);var rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return lhs.cmp(rhs)===0;};function Point$2(curve,x,y,z,t){base.BasePoint.call(this,curve,'projective');if(x===null&&y===null&&z===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true;}else{this.x=new bn(x,16);this.y=new bn(y,16);this.z=z?new bn(z,16):this.curve.one;this.t=t&&new bn(t,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm());}}}inherits$2(Point$2,base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point$2.fromJSON(this,obj);};EdwardsCurve.prototype.point=function point(x,y,z,t){return new Point$2(this,x,y,z,t);};Point$2.fromJSON=function fromJSON(curve,obj){return new Point$2(curve,obj[0],obj[1],obj[2]);};Point$2.prototype.inspect=function inspect(){if(this.isInfinity())return '<EC Point Infinity>';return '<EC Point x: '+this.x.fromRed().toString(16,2)+' y: '+this.y.fromRed().toString(16,2)+' z: '+this.z.fromRed().toString(16,2)+'>';};Point$2.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0);};Point$2.prototype._extDbl=function _extDbl(){var a=this.x.redSqr();var b=this.y.redSqr();var c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a);var e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);var g=d.redAdd(b);var f=g.redSub(c);var h=d.redSub(b);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt);};Point$2.prototype._projDbl=function _projDbl(){var b=this.x.redAdd(this.y).redSqr();var c=this.x.redSqr();var d=this.y.redSqr();var nx;var ny;var nz;if(this.curve.twisted){var e=this.curve._mulA(c);var f=e.redAdd(d);if(this.zOne){nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));ny=f.redMul(e.redSub(d));nz=f.redSqr().redSub(f).redSub(f);}else{var h=this.z.redSqr();var j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j);ny=f.redMul(e.redSub(d));nz=f.redMul(j);}}else{var e=c.redAdd(d);var h=this.curve._mulC(this.z).redSqr();var j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j);ny=this.curve._mulC(e).redMul(c.redISub(d));nz=e.redMul(j);}return this.curve.point(nx,ny,nz);};Point$2.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl();};Point$2.prototype._extAdd=function _extAdd(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x));var b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));var c=this.t.redMul(this.curve.dd).redMul(p.t);var d=this.z.redMul(p.z.redAdd(p.z));var e=b.redSub(a);var f=d.redSub(c);var g=d.redAdd(c);var h=b.redAdd(a);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt);};Point$2.prototype._projAdd=function _projAdd(p){var a=this.z.redMul(p.z);var b=a.redSqr();var c=this.x.redMul(p.x);var d=this.y.redMul(p.y);var e=this.curve.d.redMul(c).redMul(d);var f=b.redSub(e);var g=b.redAdd(e);var tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);var nx=a.redMul(f).redMul(tmp);var ny;var nz;if(this.curve.twisted){ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));nz=f.redMul(g);}else{ny=a.redMul(g).redMul(d.redSub(c));nz=this.curve._mulC(f).redMul(g);}return this.curve.point(nx,ny,nz);};Point$2.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;if(this.curve.extended)return this._extAdd(p);else return this._projAdd(p);};Point$2.prototype.mul=function mul(k){if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else return this.curve._wnafMul(this,k);};Point$2.prototype.mulAdd=function mulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,false);};Point$2.prototype.jmulAdd=function jmulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,true);};Point$2.prototype.normalize=function normalize(){if(this.zOne)return this;var zi=this.z.redInvm();this.x=this.x.redMul(zi);this.y=this.y.redMul(zi);if(this.t)this.t=this.t.redMul(zi);this.z=this.curve.one;this.zOne=true;return this;};Point$2.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg());};Point$2.prototype.getX=function getX(){this.normalize();return this.x.fromRed();};Point$2.prototype.getY=function getY(){this.normalize();return this.y.fromRed();};Point$2.prototype.eq=function eq(other){return this===other||this.getX().cmp(other.getX())===0&&this.getY().cmp(other.getY())===0;};Point$2.prototype.eqXToP=function eqXToP(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(this.z);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true;}};Point$2.prototype.toP=Point$2.prototype.normalize;Point$2.prototype.mixedAdd=Point$2.prototype.add;var curve_1=createCommonjsModule(function(module,exports){var curve=exports;curve.base=base;curve.short=short_1;curve.mont=mont;curve.edwards=edwards;});var inherits_1=inherits$2;function isSurrogatePair(msg,i){if((msg.charCodeAt(i)&0xFC00)!==0xD800){return false;}if(i<0||i+1>=msg.length){return false;}return (msg.charCodeAt(i+1)&0xFC00)===0xDC00;}function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return [];var res=[];if(typeof msg==='string'){if(!enc){var p=0;for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);if(c<128){res[p++]=c;}else if(c<2048){res[p++]=c>>6|192;res[p++]=c&63|128;}else if(isSurrogatePair(msg,i)){c=0x10000+((c&0x03FF)<<10)+(msg.charCodeAt(++i)&0x03FF);res[p++]=c>>18|240;res[p++]=c>>12&63|128;res[p++]=c>>6&63|128;res[p++]=c&63|128;}else{res[p++]=c>>12|224;res[p++]=c>>6&63|128;res[p++]=c&63|128;}}}else if(enc==='hex'){msg=msg.replace(/[^a-z0-9]+/ig,'');if(msg.length%2!==0)msg='0'+msg;for(i=0;i<msg.length;i+=2){res.push(parseInt(msg[i]+msg[i+1],16));}}}else{for(i=0;i<msg.length;i++){res[i]=msg[i]|0;}}return res;}var toArray_1=toArray;function toHex$1(msg){var res='';for(var i=0;i<msg.length;i++){res+=zero2(msg[i].toString(16));}return res;}var toHex_1=toHex$1;function htonl(w){var res=w>>>24|w>>>8&0xff00|w<<8&0xff0000|(w&0xff)<<24;return res>>>0;}var htonl_1=htonl;function toHex32(msg,endian){var res='';for(var i=0;i<msg.length;i++){var w=msg[i];if(endian==='little')w=htonl(w);res+=zero8(w.toString(16));}return res;}var toHex32_1=toHex32;function zero2(word){if(word.length===1)return '0'+word;else return word;}var zero2_1=zero2;function zero8(word){if(word.length===7)return '0'+word;else if(word.length===6)return '00'+word;else if(word.length===5)return '000'+word;else if(word.length===4)return '0000'+word;else if(word.length===3)return '00000'+word;else if(word.length===2)return '000000'+word;else if(word.length===1)return '0000000'+word;else return word;}var zero8_1=zero8;function join32(msg,start,end,endian){var len=end-start;minimalisticAssert(len%4===0);var res=new Array(len/4);for(var i=0,k=start;i<res.length;i++,k+=4){var w;if(endian==='big')w=msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3];else w=msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0;}return res;}var join32_1=join32;function split32(msg,endian){var res=new Array(msg.length*4);for(var i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];if(endian==='big'){res[k]=m>>>24;res[k+1]=m>>>16&0xff;res[k+2]=m>>>8&0xff;res[k+3]=m&0xff;}else{res[k+3]=m>>>24;res[k+2]=m>>>16&0xff;res[k+1]=m>>>8&0xff;res[k]=m&0xff;}}return res;}var split32_1=split32;function rotr32(w,b){return w>>>b|w<<32-b;}var rotr32_1=rotr32;function rotl32(w,b){return w<<b|w>>>32-b;}var rotl32_1=rotl32;function sum32(a,b){return a+b>>>0;}var sum32_1=sum32;function sum32_3(a,b,c){return a+b+c>>>0;}var sum32_3_1=sum32_3;function sum32_4(a,b,c,d){return a+b+c+d>>>0;}var sum32_4_1=sum32_4;function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0;}var sum32_5_1=sum32_5;function sum64(buf,pos,ah,al){var bh=buf[pos];var bl=buf[pos+1];var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0;buf[pos+1]=lo;}var sum64_1=sum64;function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;return hi>>>0;}var sum64_hi_1=sum64_hi;function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0;}var sum64_lo_1=sum64_lo;function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0;}var sum64_4_hi_1=sum64_4_hi;function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0;}var sum64_4_lo_1=sum64_4_lo;function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;lo=lo+el>>>0;carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0;}var sum64_5_hi_1=sum64_5_hi;function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0;}var sum64_5_lo_1=sum64_5_lo;function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0;}var rotr64_hi_1=rotr64_hi;function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0;}var rotr64_lo_1=rotr64_lo;function shr64_hi(ah,al,num){return ah>>>num;}var shr64_hi_1=shr64_hi;function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0;}var shr64_lo_1=shr64_lo;var utils$1={inherits:inherits_1,toArray:toArray_1,toHex:toHex_1,htonl:htonl_1,toHex32:toHex32_1,zero2:zero2_1,zero8:zero8_1,join32:join32_1,split32:split32_1,rotr32:rotr32_1,rotl32:rotl32_1,sum32:sum32_1,sum32_3:sum32_3_1,sum32_4:sum32_4_1,sum32_5:sum32_5_1,sum64:sum64_1,sum64_hi:sum64_hi_1,sum64_lo:sum64_lo_1,sum64_4_hi:sum64_4_hi_1,sum64_4_lo:sum64_4_lo_1,sum64_5_hi:sum64_5_hi_1,sum64_5_lo:sum64_5_lo_1,rotr64_hi:rotr64_hi_1,rotr64_lo:rotr64_lo_1,shr64_hi:shr64_hi_1,shr64_lo:shr64_lo_1};function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian='big';this._delta8=this.blockSize/8;this._delta32=this.blockSize/32;}var BlockHash_1=BlockHash;BlockHash.prototype.update=function update(msg,enc){msg=utils$1.toArray(msg,enc);if(!this.pending)this.pending=msg;else this.pending=this.pending.concat(msg);this.pendingTotal+=msg.length;if(this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length);if(this.pending.length===0)this.pending=null;msg=utils$1.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32){this._update(msg,i,i+this._delta32);}}return this;};BlockHash.prototype.digest=function digest(enc){this.update(this._pad());minimalisticAssert(this.pending===null);return this._digest(enc);};BlockHash.prototype._pad=function pad(){var len=this.pendingTotal;var bytes=this._delta8;var k=bytes-(len+this.padLength)%bytes;var res=new Array(k+this.padLength);res[0]=0x80;for(var i=1;i<k;i++){res[i]=0;}len<<=3;if(this.endian==='big'){for(var t=8;t<this.padLength;t++){res[i++]=0;}res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=len>>>24&0xff;res[i++]=len>>>16&0xff;res[i++]=len>>>8&0xff;res[i++]=len&0xff;}else{res[i++]=len&0xff;res[i++]=len>>>8&0xff;res[i++]=len>>>16&0xff;res[i++]=len>>>24&0xff;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;for(t=8;t<this.padLength;t++){res[i++]=0;}}return res;};var common={BlockHash:BlockHash_1};var rotr32$1=utils$1.rotr32;function ft_1(s,x,y,z){if(s===0)return ch32(x,y,z);if(s===1||s===3)return p32(x,y,z);if(s===2)return maj32(x,y,z);}var ft_1_1=ft_1;function ch32(x,y,z){return x&y^~x&z;}var ch32_1=ch32;function maj32(x,y,z){return x&y^x&z^y&z;}var maj32_1=maj32;function p32(x,y,z){return x^y^z;}var p32_1=p32;function s0_256(x){return rotr32$1(x,2)^rotr32$1(x,13)^rotr32$1(x,22);}var s0_256_1=s0_256;function s1_256(x){return rotr32$1(x,6)^rotr32$1(x,11)^rotr32$1(x,25);}var s1_256_1=s1_256;function g0_256(x){return rotr32$1(x,7)^rotr32$1(x,18)^x>>>3;}var g0_256_1=g0_256;function g1_256(x){return rotr32$1(x,17)^rotr32$1(x,19)^x>>>10;}var g1_256_1=g1_256;var common$1={ft_1:ft_1_1,ch32:ch32_1,maj32:maj32_1,p32:p32_1,s0_256:s0_256_1,s1_256:s1_256_1,g0_256:g0_256_1,g1_256:g1_256_1};var rotl32$1=utils$1.rotl32;var sum32$1=utils$1.sum32;var sum32_5$1=utils$1.sum32_5;var ft_1$1=common$1.ft_1;var BlockHash$1=common.BlockHash;var sha1_K=[0x5A827999,0x6ED9EBA1,0x8F1BBCDC,0xCA62C1D6];function SHA1(){if(!(this instanceof SHA1))return new SHA1();BlockHash$1.call(this);this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];this.W=new Array(80);}utils$1.inherits(SHA1,BlockHash$1);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++){W[i]=msg[start+i];}for(;i<W.length;i++){W[i]=rotl32$1(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);}var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];for(i=0;i<W.length;i++){var s=~~(i/20);var t=sum32_5$1(rotl32$1(a,5),ft_1$1(s,b,c,d),e,W[i],sha1_K[s]);e=d;d=c;c=rotl32$1(b,30);b=a;a=t;}this.h[0]=sum32$1(this.h[0],a);this.h[1]=sum32$1(this.h[1],b);this.h[2]=sum32$1(this.h[2],c);this.h[3]=sum32$1(this.h[3],d);this.h[4]=sum32$1(this.h[4],e);};SHA1.prototype._digest=function digest(enc){if(enc==='hex')return utils$1.toHex32(this.h,'big');else return utils$1.split32(this.h,'big');};var sum32$2=utils$1.sum32;var sum32_4$1=utils$1.sum32_4;var sum32_5$2=utils$1.sum32_5;var ch32$1=common$1.ch32;var maj32$1=common$1.maj32;var s0_256$1=common$1.s0_256;var s1_256$1=common$1.s1_256;var g0_256$1=common$1.g0_256;var g1_256$1=common$1.g1_256;var BlockHash$2=common.BlockHash;var sha256_K=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function SHA256(){if(!(this instanceof SHA256))return new SHA256();BlockHash$2.call(this);this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19];this.k=sha256_K;this.W=new Array(64);}utils$1.inherits(SHA256,BlockHash$2);var _256=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++){W[i]=msg[start+i];}for(;i<W.length;i++){W[i]=sum32_4$1(g1_256$1(W[i-2]),W[i-7],g0_256$1(W[i-15]),W[i-16]);}var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];var f=this.h[5];var g=this.h[6];var h=this.h[7];minimalisticAssert(this.k.length===W.length);for(i=0;i<W.length;i++){var T1=sum32_5$2(h,s1_256$1(e),ch32$1(e,f,g),this.k[i],W[i]);var T2=sum32$2(s0_256$1(a),maj32$1(a,b,c));h=g;g=f;f=e;e=sum32$2(d,T1);d=c;c=b;b=a;a=sum32$2(T1,T2);}this.h[0]=sum32$2(this.h[0],a);this.h[1]=sum32$2(this.h[1],b);this.h[2]=sum32$2(this.h[2],c);this.h[3]=sum32$2(this.h[3],d);this.h[4]=sum32$2(this.h[4],e);this.h[5]=sum32$2(this.h[5],f);this.h[6]=sum32$2(this.h[6],g);this.h[7]=sum32$2(this.h[7],h);};SHA256.prototype._digest=function digest(enc){if(enc==='hex')return utils$1.toHex32(this.h,'big');else return utils$1.split32(this.h,'big');};function SHA224(){if(!(this instanceof SHA224))return new SHA224();_256.call(this);this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4];}utils$1.inherits(SHA224,_256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(enc){if(enc==='hex')return utils$1.toHex32(this.h.slice(0,7),'big');else return utils$1.split32(this.h.slice(0,7),'big');};var rotr64_hi$1=utils$1.rotr64_hi;var rotr64_lo$1=utils$1.rotr64_lo;var shr64_hi$1=utils$1.shr64_hi;var shr64_lo$1=utils$1.shr64_lo;var sum64$1=utils$1.sum64;var sum64_hi$1=utils$1.sum64_hi;var sum64_lo$1=utils$1.sum64_lo;var sum64_4_hi$1=utils$1.sum64_4_hi;var sum64_4_lo$1=utils$1.sum64_4_lo;var sum64_5_hi$1=utils$1.sum64_5_hi;var sum64_5_lo$1=utils$1.sum64_5_lo;var BlockHash$3=common.BlockHash;var sha512_K=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0x0fc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x06ca6351,0xe003826f,0x14292967,0x0a0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x0654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x06f067aa,0x72176fba,0x0a637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function SHA512(){if(!(this instanceof SHA512))return new SHA512();BlockHash$3.call(this);this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179];this.k=sha512_K;this.W=new Array(160);}utils$1.inherits(SHA512,BlockHash$3);var _512=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(msg,start){var W=this.W;for(var i=0;i<32;i++){W[i]=msg[start+i];}for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]);var c0_lo=g1_512_lo(W[i-4],W[i-3]);var c1_hi=W[i-14];var c1_lo=W[i-13];var c2_hi=g0_512_hi(W[i-30],W[i-29]);var c2_lo=g0_512_lo(W[i-30],W[i-29]);var c3_hi=W[i-32];var c3_lo=W[i-31];W[i]=sum64_4_hi$1(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo);W[i+1]=sum64_4_lo$1(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo);}};SHA512.prototype._update=function _update(msg,start){this._prepareBlock(msg,start);var W=this.W;var ah=this.h[0];var al=this.h[1];var bh=this.h[2];var bl=this.h[3];var ch=this.h[4];var cl=this.h[5];var dh=this.h[6];var dl=this.h[7];var eh=this.h[8];var el=this.h[9];var fh=this.h[10];var fl=this.h[11];var gh=this.h[12];var gl=this.h[13];var hh=this.h[14];var hl=this.h[15];minimalisticAssert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh;var c0_lo=hl;var c1_hi=s1_512_hi(eh,el);var c1_lo=s1_512_lo(eh,el);var c2_hi=ch64_hi(eh,el,fh,fl,gh);var c2_lo=ch64_lo(eh,el,fh,fl,gh,gl);var c3_hi=this.k[i];var c3_lo=this.k[i+1];var c4_hi=W[i];var c4_lo=W[i+1];var T1_hi=sum64_5_hi$1(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var T1_lo=sum64_5_lo$1(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);c0_hi=s0_512_hi(ah,al);c0_lo=s0_512_lo(ah,al);c1_hi=maj64_hi(ah,al,bh,bl,ch);c1_lo=maj64_lo(ah,al,bh,bl,ch,cl);var T2_hi=sum64_hi$1(c0_hi,c0_lo,c1_hi,c1_lo);var T2_lo=sum64_lo$1(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;eh=sum64_hi$1(dh,dl,T1_hi,T1_lo);el=sum64_lo$1(dl,dl,T1_hi,T1_lo);dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;ah=sum64_hi$1(T1_hi,T1_lo,T2_hi,T2_lo);al=sum64_lo$1(T1_hi,T1_lo,T2_hi,T2_lo);}sum64$1(this.h,0,ah,al);sum64$1(this.h,2,bh,bl);sum64$1(this.h,4,ch,cl);sum64$1(this.h,6,dh,dl);sum64$1(this.h,8,eh,el);sum64$1(this.h,10,fh,fl);sum64$1(this.h,12,gh,gl);sum64$1(this.h,14,hh,hl);};SHA512.prototype._digest=function digest(enc){if(enc==='hex')return utils$1.toHex32(this.h,'big');else return utils$1.split32(this.h,'big');};function ch64_hi(xh,xl,yh,yl,zh){var r=xh&yh^~xh&zh;if(r<0)r+=0x100000000;return r;}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;if(r<0)r+=0x100000000;return r;}function maj64_hi(xh,xl,yh,yl,zh){var r=xh&yh^xh&zh^yh&zh;if(r<0)r+=0x100000000;return r;}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;if(r<0)r+=0x100000000;return r;}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi$1(xh,xl,28);var c1_hi=rotr64_hi$1(xl,xh,2);var c2_hi=rotr64_hi$1(xl,xh,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=0x100000000;return r;}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo$1(xh,xl,28);var c1_lo=rotr64_lo$1(xl,xh,2);var c2_lo=rotr64_lo$1(xl,xh,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=0x100000000;return r;}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi$1(xh,xl,14);var c1_hi=rotr64_hi$1(xh,xl,18);var c2_hi=rotr64_hi$1(xl,xh,9);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=0x100000000;return r;}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo$1(xh,xl,14);var c1_lo=rotr64_lo$1(xh,xl,18);var c2_lo=rotr64_lo$1(xl,xh,9);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=0x100000000;return r;}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi$1(xh,xl,1);var c1_hi=rotr64_hi$1(xh,xl,8);var c2_hi=shr64_hi$1(xh,xl,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=0x100000000;return r;}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo$1(xh,xl,1);var c1_lo=rotr64_lo$1(xh,xl,8);var c2_lo=shr64_lo$1(xh,xl,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=0x100000000;return r;}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi$1(xh,xl,19);var c1_hi=rotr64_hi$1(xl,xh,29);var c2_hi=shr64_hi$1(xh,xl,6);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=0x100000000;return r;}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo$1(xh,xl,19);var c1_lo=rotr64_lo$1(xl,xh,29);var c2_lo=shr64_lo$1(xh,xl,6);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=0x100000000;return r;}function SHA384(){if(!(this instanceof SHA384))return new SHA384();_512.call(this);this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4];}utils$1.inherits(SHA384,_512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(enc){if(enc==='hex')return utils$1.toHex32(this.h.slice(0,12),'big');else return utils$1.split32(this.h.slice(0,12),'big');};var sha1=_1;var sha224=_224;var sha256=_256;var sha384=_384;var sha512=_512;var sha={sha1:sha1,sha224:sha224,sha256:sha256,sha384:sha384,sha512:sha512};var rotl32$2=utils$1.rotl32;var sum32$3=utils$1.sum32;var sum32_3$1=utils$1.sum32_3;var sum32_4$2=utils$1.sum32_4;var BlockHash$4=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160();BlockHash$4.call(this);this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];this.endian='little';}utils$1.inherits(RIPEMD160,BlockHash$4);var ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(msg,start){var A=this.h[0];var B=this.h[1];var C=this.h[2];var D=this.h[3];var E=this.h[4];var Ah=A;var Bh=B;var Ch=C;var Dh=D;var Eh=E;for(var j=0;j<80;j++){var T=sum32$3(rotl32$2(sum32_4$2(A,f(j,B,C,D),msg[r$1[j]+start],K(j)),s[j]),E);A=E;E=D;D=rotl32$2(C,10);C=B;B=T;T=sum32$3(rotl32$2(sum32_4$2(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh);Ah=Eh;Eh=Dh;Dh=rotl32$2(Ch,10);Ch=Bh;Bh=T;}T=sum32_3$1(this.h[1],C,Dh);this.h[1]=sum32_3$1(this.h[2],D,Eh);this.h[2]=sum32_3$1(this.h[3],E,Ah);this.h[3]=sum32_3$1(this.h[4],A,Bh);this.h[4]=sum32_3$1(this.h[0],B,Ch);this.h[0]=T;};RIPEMD160.prototype._digest=function digest(enc){if(enc==='hex')return utils$1.toHex32(this.h,'little');else return utils$1.split32(this.h,'little');};function f(j,x,y,z){if(j<=15)return x^y^z;else if(j<=31)return x&y|~x&z;else if(j<=47)return (x|~y)^z;else if(j<=63)return x&z|y&~z;else return x^(y|~z);}function K(j){if(j<=15)return 0x00000000;else if(j<=31)return 0x5a827999;else if(j<=47)return 0x6ed9eba1;else if(j<=63)return 0x8f1bbcdc;else return 0xa953fd4e;}function Kh(j){if(j<=15)return 0x50a28be6;else if(j<=31)return 0x5c4dd124;else if(j<=47)return 0x6d703ef3;else if(j<=63)return 0x7a6d76e9;else return 0x00000000;}var r$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var ripemd={ripemd160:ripemd160};function Hmac$1(hash,key,enc){if(!(this instanceof Hmac$1))return new Hmac$1(hash,key,enc);this.Hash=hash;this.blockSize=hash.blockSize/8;this.outSize=hash.outSize/8;this.inner=null;this.outer=null;this._init(utils$1.toArray(key,enc));}var hmac=Hmac$1;Hmac$1.prototype._init=function init(key){if(key.length>this.blockSize)key=new this.Hash().update(key).digest();minimalisticAssert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++){key.push(0);}for(i=0;i<key.length;i++){key[i]^=0x36;}this.inner=new this.Hash().update(key);for(i=0;i<key.length;i++){key[i]^=0x6a;}this.outer=new this.Hash().update(key);};Hmac$1.prototype.update=function update(msg,enc){this.inner.update(msg,enc);return this;};Hmac$1.prototype.digest=function digest(enc){this.outer.update(this.inner.digest());return this.outer.digest(enc);};var hash_1=createCommonjsModule(function(module,exports){var hash=exports;hash.utils=utils$1;hash.common=common;hash.sha=sha;hash.ripemd=ripemd;hash.hmac=hmac;hash.sha1=hash.sha.sha1;hash.sha256=hash.sha.sha256;hash.sha224=hash.sha.sha224;hash.sha384=hash.sha.sha384;hash.sha512=hash.sha.sha512;hash.ripemd160=hash.ripemd.ripemd160;});var secp256k1={doubles:{step:4,points:[['e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a','f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821'],['8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508','11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf'],['175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739','d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695'],['363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640','4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9'],['8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c','4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36'],['723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda','96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f'],['eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa','5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999'],['100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0','cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09'],['e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d','9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d'],['feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d','e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088'],['da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1','9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d'],['53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0','5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8'],['8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047','10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a'],['385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862','283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453'],['6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7','7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160'],['3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd','56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0'],['85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83','7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6'],['948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a','53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589'],['6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8','bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17'],['e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d','4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda'],['e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725','7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd'],['213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754','4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2'],['4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c','17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6'],['fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6','6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f'],['76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39','c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01'],['c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891','893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3'],['d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b','febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f'],['b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03','2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7'],['e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d','eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78'],['a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070','7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1'],['90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4','e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150'],['8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da','662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82'],['e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11','1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc'],['8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e','efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b'],['e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41','2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51'],['b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef','67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45'],['d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8','db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120'],['324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d','648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84'],['4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96','35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d'],['9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd','ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d'],['6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5','9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8'],['a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266','40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8'],['7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71','34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac'],['928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac','c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f'],['85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751','1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962'],['ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e','493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907'],['827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241','c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec'],['eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3','be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d'],['e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f','4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414'],['1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19','aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd'],['146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be','b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0'],['fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9','6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811'],['da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2','8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1'],['a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13','7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c'],['174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c','ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73'],['959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba','2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd'],['d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151','e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405'],['64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073','d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589'],['8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458','38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e'],['13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b','69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27'],['bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366','d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1'],['8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa','40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482'],['8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0','620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945'],['dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787','7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573'],['f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e','ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82']]},naf:{wnd:7,points:[['f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9','388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672'],['2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4','d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6'],['5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc','6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da'],['acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe','cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37'],['774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb','d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b'],['f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8','ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81'],['d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e','581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58'],['defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34','4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77'],['2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c','85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a'],['352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5','321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c'],['2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f','2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67'],['9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714','73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402'],['daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729','a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55'],['c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db','2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482'],['6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4','e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82'],['1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5','b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396'],['605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479','2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49'],['62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d','80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf'],['80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f','1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a'],['7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb','d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7'],['d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9','eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933'],['49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963','758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a'],['77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74','958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6'],['f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530','e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37'],['463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b','5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e'],['f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247','cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6'],['caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1','cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476'],['2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120','4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40'],['7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435','91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61'],['754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18','673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683'],['e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8','59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5'],['186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb','3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b'],['df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f','55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417'],['5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143','efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868'],['290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba','e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a'],['af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45','f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6'],['766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a','744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996'],['59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e','c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e'],['f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8','e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d'],['7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c','30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2'],['948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519','e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e'],['7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab','100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437'],['3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca','ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311'],['d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf','8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4'],['1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610','68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575'],['733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4','f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d'],['15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c','d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d'],['a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940','edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629'],['e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980','a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06'],['311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3','66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374'],['34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf','9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee'],['f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63','4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1'],['d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448','fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b'],['32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf','5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661'],['7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5','8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6'],['ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6','8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e'],['16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5','5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d'],['eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99','f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc'],['78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51','f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4'],['494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5','42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c'],['a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5','204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b'],['c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997','4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913'],['841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881','73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154'],['5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5','39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865'],['36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66','d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc'],['336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726','ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224'],['8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede','6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e'],['1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94','60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6'],['85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31','3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511'],['29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51','b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b'],['a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252','ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2'],['4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5','cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c'],['d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b','6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3'],['ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4','322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d'],['af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f','6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700'],['e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889','2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4'],['591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246','b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196'],['11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984','998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4'],['3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a','b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257'],['cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030','bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13'],['c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197','6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096'],['c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593','c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38'],['a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef','21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f'],['347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38','60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448'],['da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a','49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a'],['c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111','5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4'],['4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502','7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437'],['3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea','be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7'],['cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26','8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d'],['b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986','39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a'],['d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e','62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54'],['48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4','25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77'],['dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda','ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517'],['6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859','cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10'],['e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f','f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125'],['eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c','6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e'],['13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942','fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1'],['ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a','1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2'],['b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80','5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423'],['ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d','438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8'],['8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1','cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758'],['52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63','c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375'],['e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352','6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d'],['7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193','ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec'],['5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00','9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0'],['32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58','ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c'],['e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7','d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4'],['8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8','c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f'],['4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e','67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649'],['3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d','cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826'],['674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b','299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5'],['d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f','f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87'],['30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6','462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b'],['be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297','62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc'],['93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a','7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c'],['b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c','ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f'],['d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52','4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a'],['d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb','bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46'],['463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065','bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f'],['7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917','603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03'],['74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9','cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08'],['30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3','553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8'],['9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57','712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373'],['176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66','ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3'],['75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8','9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8'],['809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721','9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1'],['1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180','4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9']]}};var curves_1=createCommonjsModule(function(module,exports){var curves=exports;var assert=utils_1$1.assert;function PresetCurve(options){if(options.type==='short')this.curve=new curve_1.short(options);else if(options.type==='edwards')this.curve=new curve_1.edwards(options);else this.curve=new curve_1.mont(options);this.g=this.curve.g;this.n=this.curve.n;this.hash=options.hash;assert(this.g.validate(),'Invalid curve');assert(this.g.mul(this.n).isInfinity(),'Invalid curve, G*N != O');}curves.PresetCurve=PresetCurve;function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:true,enumerable:true,get:function get(){var curve=new PresetCurve(options);Object.defineProperty(curves,name,{configurable:true,enumerable:true,value:curve});return curve;}});}defineCurve('p192',{type:'short',prime:'p192',p:'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',a:'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',b:'64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',n:'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',hash:hash_1.sha256,gRed:false,g:['188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012','07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811']});defineCurve('p224',{type:'short',prime:'p224',p:'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',a:'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',b:'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',n:'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',hash:hash_1.sha256,gRed:false,g:['b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21','bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34']});defineCurve('p256',{type:'short',prime:null,p:'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',a:'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',b:'5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',n:'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',hash:hash_1.sha256,gRed:false,g:['6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296','4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5']});defineCurve('p384',{type:'short',prime:null,p:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff '+'fffffffe ffffffff 00000000 00000000 ffffffff',a:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff '+'fffffffe ffffffff 00000000 00000000 fffffffc',b:'b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f '+'5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef',n:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 '+'f4372ddf 581a0db2 48b0a77a ecec196a ccc52973',hash:hash_1.sha384,gRed:false,g:['aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 '+'5502f25d bf55296c 3a545e38 72760ab7','3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 '+'0a60b1ce 1d7e819d 7a431d7c 90ea0e5f']});defineCurve('p521',{type:'short',prime:null,p:'000001ff ffffffff ffffffff ffffffff ffffffff ffffffff '+'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff '+'ffffffff ffffffff ffffffff ffffffff ffffffff',a:'000001ff ffffffff ffffffff ffffffff ffffffff ffffffff '+'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff '+'ffffffff ffffffff ffffffff ffffffff fffffffc',b:'00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b '+'99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd '+'3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00',n:'000001ff ffffffff ffffffff ffffffff ffffffff ffffffff '+'ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 '+'f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409',hash:hash_1.sha512,gRed:false,g:['000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 '+'053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 '+'a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66','00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 '+'579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 '+'3fad0761 353c7086 a272c240 88be9476 9fd16650']});defineCurve('curve25519',{type:'mont',prime:'p25519',p:'7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',a:'76d06',b:'1',n:'1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',hash:hash_1.sha256,gRed:false,g:['9']});defineCurve('ed25519',{type:'edwards',prime:'p25519',p:'7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',a:'-1',c:'1',d:'52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',n:'1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',hash:hash_1.sha256,gRed:false,g:['216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a','6666666666666666666666666666666666666666666666666666666666666658']});var pre;try{pre=secp256k1;}catch(e){pre=undefined;}defineCurve('secp256k1',{type:'short',prime:'k256',p:'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',a:'0',b:'7',n:'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',h:'1',hash:hash_1.sha256,beta:'7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',lambda:'5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',basis:[{a:'3086d221a7d46bcde86c90e49284eb15',b:'-e4437ed6010e88286f547fa90abfe4c3'},{a:'114ca50f7a8e2f3f657c1108d9d44cfd8',b:'3086d221a7d46bcde86c90e49284eb15'}],gRed:false,g:['79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798','483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',pre]});});function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash;this.predResist=!!options.predResist;this.outLen=this.hash.outSize;this.minEntropy=options.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var entropy=utils_1.toArray(options.entropy,options.entropyEnc||'hex');var nonce=utils_1.toArray(options.nonce,options.nonceEnc||'hex');var pers=utils_1.toArray(options.pers,options.persEnc||'hex');minimalisticAssert(entropy.length>=this.minEntropy/8,'Not enough entropy. Minimum is: '+this.minEntropy+' bits');this._init(entropy,nonce,pers);}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function init(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++){this.K[i]=0x00;this.V[i]=0x01;}this._update(seed);this._reseed=1;this.reseedInterval=0x1000000000000;};HmacDRBG.prototype._hmac=function hmac(){return new hash_1.hmac(this.hash,this.K);};HmacDRBG.prototype._update=function update(seed){var kmac=this._hmac().update(this.V).update([0x00]);if(seed)kmac=kmac.update(seed);this.K=kmac.digest();this.V=this._hmac().update(this.V).digest();if(!seed)return;this.K=this._hmac().update(this.V).update([0x01]).update(seed).digest();this.V=this._hmac().update(this.V).digest();};HmacDRBG.prototype.reseed=function reseed(entropy,entropyEnc,add,addEnc){if(typeof entropyEnc!=='string'){addEnc=add;add=entropyEnc;entropyEnc=null;}entropy=utils_1.toArray(entropy,entropyEnc);add=utils_1.toArray(add,addEnc);minimalisticAssert(entropy.length>=this.minEntropy/8,'Not enough entropy. Minimum is: '+this.minEntropy+' bits');this._update(entropy.concat(add||[]));this._reseed=1;};HmacDRBG.prototype.generate=function generate(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error('Reseed is required');if(typeof enc!=='string'){addEnc=add;add=enc;enc=null;}if(add){add=utils_1.toArray(add,addEnc||'hex');this._update(add);}var temp=[];while(temp.length<len){this.V=this._hmac().update(this.V).digest();temp=temp.concat(this.V);}var res=temp.slice(0,len);this._update(add);this._reseed++;return utils_1.encode(res,enc);};var assert$4=utils_1$1.assert;function KeyPair(ec,options){this.ec=ec;this.priv=null;this.pub=null;if(options.priv)this._importPrivate(options.priv,options.privEnc);if(options.pub)this._importPublic(options.pub,options.pubEnc);}var key=KeyPair;KeyPair.fromPublic=function fromPublic(ec,pub,enc){if(pub instanceof KeyPair)return pub;return new KeyPair(ec,{pub:pub,pubEnc:enc});};KeyPair.fromPrivate=function fromPrivate(ec,priv,enc){if(priv instanceof KeyPair)return priv;return new KeyPair(ec,{priv:priv,privEnc:enc});};KeyPair.prototype.validate=function validate(){var pub=this.getPublic();if(pub.isInfinity())return {result:false,reason:'Invalid public key'};if(!pub.validate())return {result:false,reason:'Public key is not a point'};if(!pub.mul(this.ec.curve.n).isInfinity())return {result:false,reason:'Public key * N != O'};return {result:true,reason:null};};KeyPair.prototype.getPublic=function getPublic(compact,enc){if(typeof compact==='string'){enc=compact;compact=null;}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!enc)return this.pub;return this.pub.encode(enc,compact);};KeyPair.prototype.getPrivate=function getPrivate(enc){if(enc==='hex')return this.priv.toString(16,2);else return this.priv;};KeyPair.prototype._importPrivate=function _importPrivate(key,enc){this.priv=new bn(key,enc||16);this.priv=this.priv.umod(this.ec.curve.n);};KeyPair.prototype._importPublic=function _importPublic(key,enc){if(key.x||key.y){if(this.ec.curve.type==='mont'){assert$4(key.x,'Need x coordinate');}else if(this.ec.curve.type==='short'||this.ec.curve.type==='edwards'){assert$4(key.x&&key.y,'Need both x and y coordinate');}this.pub=this.ec.curve.point(key.x,key.y);return;}this.pub=this.ec.curve.decodePoint(key,enc);};KeyPair.prototype.derive=function derive(pub){return pub.mul(this.priv).getX();};KeyPair.prototype.sign=function sign(msg,enc,options){return this.ec.sign(msg,this,enc,options);};KeyPair.prototype.verify=function verify(msg,signature){return this.ec.verify(msg,signature,this);};KeyPair.prototype.inspect=function inspect(){return '<Key priv: '+(this.priv&&this.priv.toString(16,2))+' pub: '+(this.pub&&this.pub.inspect())+' >';};var assert$5=utils_1$1.assert;function Signature(options,enc){if(options instanceof Signature)return options;if(this._importDER(options,enc))return;assert$5(options.r&&options.s,'Signature without r or s');this.r=new bn(options.r,16);this.s=new bn(options.s,16);if(options.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=options.recoveryParam;}var signature=Signature;function Position(){this.place=0;}function getLength(buf,p){var initial=buf[p.place++];if(!(initial&0x80)){return initial;}var octetLen=initial&0xf;var val=0;for(var i=0,off=p.place;i<octetLen;i++,off++){val<<=8;val|=buf[off];}p.place=off;return val;}function rmPadding(buf){var i=0;var len=buf.length-1;while(!buf[i]&&!(buf[i+1]&0x80)&&i<len){i++;}if(i===0){return buf;}return buf.slice(i);}Signature.prototype._importDER=function _importDER(data,enc){data=utils_1$1.toArray(data,enc);var p=new Position();if(data[p.place++]!==0x30){return false;}var len=getLength(data,p);if(len+p.place!==data.length){return false;}if(data[p.place++]!==0x02){return false;}var rlen=getLength(data,p);var r=data.slice(p.place,rlen+p.place);p.place+=rlen;if(data[p.place++]!==0x02){return false;}var slen=getLength(data,p);if(data.length!==slen+p.place){return false;}var s=data.slice(p.place,slen+p.place);if(r[0]===0&&r[1]&0x80){r=r.slice(1);}if(s[0]===0&&s[1]&0x80){s=s.slice(1);}this.r=new bn(r);this.s=new bn(s);this.recoveryParam=null;return true;};function constructLength(arr,len){if(len<0x80){arr.push(len);return;}var octets=1+(Math.log(len)/Math.LN2>>>3);arr.push(octets|0x80);while(--octets){arr.push(len>>>(octets<<3)&0xff);}arr.push(len);}Signature.prototype.toDER=function toDER(enc){var r=this.r.toArray();var s=this.s.toArray();if(r[0]&0x80)r=[0].concat(r);if(s[0]&0x80)s=[0].concat(s);r=rmPadding(r);s=rmPadding(s);while(!s[0]&&!(s[1]&0x80)){s=s.slice(1);}var arr=[0x02];constructLength(arr,r.length);arr=arr.concat(r);arr.push(0x02);constructLength(arr,s.length);var backHalf=arr.concat(s);var res=[0x30];constructLength(res,backHalf.length);res=res.concat(backHalf);return utils_1$1.encode(res,enc);};var assert$6=utils_1$1.assert;function EC(options){if(!(this instanceof EC))return new EC(options);if(typeof options==='string'){assert$6(curves_1.hasOwnProperty(options),'Unknown curve '+options);options=curves_1[options];}if(options instanceof curves_1.PresetCurve)options={curve:options};this.curve=options.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=options.curve.g;this.g.precompute(options.curve.n.bitLength()+1);this.hash=options.hash||options.curve.hash;}var ec=EC;EC.prototype.keyPair=function keyPair(options){return new key(this,options);};EC.prototype.keyFromPrivate=function keyFromPrivate(priv,enc){return key.fromPrivate(this,priv,enc);};EC.prototype.keyFromPublic=function keyFromPublic(pub,enc){return key.fromPublic(this,pub,enc);};EC.prototype.genKeyPair=function genKeyPair(options){if(!options)options={};var drbg=new hmacDrbg({hash:this.hash,pers:options.pers,persEnc:options.persEnc||'utf8',entropy:options.entropy||brorand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||'utf8',nonce:this.n.toArray()});var bytes=this.n.byteLength();var ns2=this.n.sub(new bn(2));do{var priv=new bn(drbg.generate(bytes));if(priv.cmp(ns2)>0)continue;priv.iaddn(1);return this.keyFromPrivate(priv);}while(true);};EC.prototype._truncateToN=function truncateToN(msg,truncOnly){var delta=msg.byteLength()*8-this.n.bitLength();if(delta>0)msg=msg.ushrn(delta);if(!truncOnly&&msg.cmp(this.n)>=0)return msg.sub(this.n);else return msg;};EC.prototype.sign=function sign(msg,key,enc,options){if(_typeof(enc)==='object'){options=enc;enc=null;}if(!options)options={};key=this.keyFromPrivate(key,enc);msg=this._truncateToN(new bn(msg,16));var bytes=this.n.byteLength();var bkey=key.getPrivate().toArray('be',bytes);var nonce=msg.toArray('be',bytes);var drbg=new hmacDrbg({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||'utf8'});var ns1=this.n.sub(new bn(1));for(var iter=0;true;iter++){var k=options.k?options.k(iter):new bn(drbg.generate(this.n.byteLength()));k=this._truncateToN(k,true);if(k.cmpn(1)<=0||k.cmp(ns1)>=0)continue;var kp=this.g.mul(k);if(kp.isInfinity())continue;var kpX=kp.getX();var r=kpX.umod(this.n);if(r.cmpn(0)===0)continue;var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));s=s.umod(this.n);if(s.cmpn(0)===0)continue;var recoveryParam=(kp.getY().isOdd()?1:0)|(kpX.cmp(r)!==0?2:0);if(options.canonical&&s.cmp(this.nh)>0){s=this.n.sub(s);recoveryParam^=1;}return new signature({r:r,s:s,recoveryParam:recoveryParam});}};EC.prototype.verify=function verify(msg,signature$1,key,enc){msg=this._truncateToN(new bn(msg,16));key=this.keyFromPublic(key,enc);signature$1=new signature(signature$1,'hex');var r=signature$1.r;var s=signature$1.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return false;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;var sinv=s.invm(this.n);var u1=sinv.mul(msg).umod(this.n);var u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick){var p=this.g.mulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.getX().umod(this.n).cmp(r)===0;}var p=this.g.jmulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.eqXToP(r);};EC.prototype.recoverPubKey=function(msg,signature$1,j,enc){assert$6((3&j)===j,'The recovery param is more than two bits');signature$1=new signature(signature$1,enc);var n=this.n;var e=new bn(msg);var r=signature$1.r;var s=signature$1.s;var isYOdd=j&1;var isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error('Unable to find sencond key candinate');if(isSecondKey)r=this.curve.pointFromX(r.add(this.curve.n),isYOdd);else r=this.curve.pointFromX(r,isYOdd);var rInv=signature$1.r.invm(n);var s1=n.sub(e).mul(rInv).umod(n);var s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2);};EC.prototype.getKeyRecoveryParam=function(e,signature$1,Q,enc){signature$1=new signature(signature$1,enc);if(signature$1.recoveryParam!==null)return signature$1.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature$1,i);}catch(e){continue;}if(Qprime.eq(Q))return i;}throw new Error('Unable to find valid recovery factor');};var assert$7=utils_1$1.assert;var parseBytes=utils_1$1.parseBytes;var cachedProperty=utils_1$1.cachedProperty;function KeyPair$1(eddsa,params){this.eddsa=eddsa;this._secret=parseBytes(params.secret);if(eddsa.isPoint(params.pub))this._pub=params.pub;else this._pubBytes=parseBytes(params.pub);}KeyPair$1.fromPublic=function fromPublic(eddsa,pub){if(pub instanceof KeyPair$1)return pub;return new KeyPair$1(eddsa,{pub:pub});};KeyPair$1.fromSecret=function fromSecret(eddsa,secret){if(secret instanceof KeyPair$1)return secret;return new KeyPair$1(eddsa,{secret:secret});};KeyPair$1.prototype.secret=function secret(){return this._secret;};cachedProperty(KeyPair$1,'pubBytes',function pubBytes(){return this.eddsa.encodePoint(this.pub());});cachedProperty(KeyPair$1,'pub',function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv());});cachedProperty(KeyPair$1,'privBytes',function privBytes(){var eddsa=this.eddsa;var hash=this.hash();var lastIx=eddsa.encodingLength-1;var a=hash.slice(0,eddsa.encodingLength);a[0]&=248;a[lastIx]&=127;a[lastIx]|=64;return a;});cachedProperty(KeyPair$1,'priv',function priv(){return this.eddsa.decodeInt(this.privBytes());});cachedProperty(KeyPair$1,'hash',function hash(){return this.eddsa.hash().update(this.secret()).digest();});cachedProperty(KeyPair$1,'messagePrefix',function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength);});KeyPair$1.prototype.sign=function sign(message){assert$7(this._secret,'KeyPair can only verify');return this.eddsa.sign(message,this);};KeyPair$1.prototype.verify=function verify(message,sig){return this.eddsa.verify(message,sig,this);};KeyPair$1.prototype.getSecret=function getSecret(enc){assert$7(this._secret,'KeyPair is public only');return utils_1$1.encode(this.secret(),enc);};KeyPair$1.prototype.getPublic=function getPublic(enc){return utils_1$1.encode(this.pubBytes(),enc);};var key$1=KeyPair$1;var assert$8=utils_1$1.assert;var cachedProperty$1=utils_1$1.cachedProperty;var parseBytes$1=utils_1$1.parseBytes;function Signature$1(eddsa,sig){this.eddsa=eddsa;if(_typeof(sig)!=='object')sig=parseBytes$1(sig);if(Array.isArray(sig)){sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)};}assert$8(sig.R&&sig.S,'Signature without R or S');if(eddsa.isPoint(sig.R))this._R=sig.R;if(sig.S instanceof bn)this._S=sig.S;this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded;this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded;}cachedProperty$1(Signature$1,'S',function S(){return this.eddsa.decodeInt(this.Sencoded());});cachedProperty$1(Signature$1,'R',function R(){return this.eddsa.decodePoint(this.Rencoded());});cachedProperty$1(Signature$1,'Rencoded',function Rencoded(){return this.eddsa.encodePoint(this.R());});cachedProperty$1(Signature$1,'Sencoded',function Sencoded(){return this.eddsa.encodeInt(this.S());});Signature$1.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded());};Signature$1.prototype.toHex=function toHex(){return utils_1$1.encode(this.toBytes(),'hex').toUpperCase();};var signature$1=Signature$1;var assert$9=utils_1$1.assert;var parseBytes$2=utils_1$1.parseBytes;function EDDSA(curve){assert$9(curve==='ed25519','only tested with ed25519 so far');if(!(this instanceof EDDSA))return new EDDSA(curve);var curve=curves_1[curve].curve;this.curve=curve;this.g=curve.g;this.g.precompute(curve.n.bitLength()+1);this.pointClass=curve.point().constructor;this.encodingLength=Math.ceil(curve.n.bitLength()/8);this.hash=hash_1.sha512;}var eddsa=EDDSA;EDDSA.prototype.sign=function sign(message,secret){message=parseBytes$2(message);var key=this.keyFromSecret(secret);var r=this.hashInt(key.messagePrefix(),message);var R=this.g.mul(r);var Rencoded=this.encodePoint(R);var s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv());var S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded});};EDDSA.prototype.verify=function verify(message,sig,pub){message=parseBytes$2(message);sig=this.makeSignature(sig);var key=this.keyFromPublic(pub);var h=this.hashInt(sig.Rencoded(),key.pubBytes(),message);var SG=this.g.mul(sig.S());var RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG);};EDDSA.prototype.hashInt=function hashInt(){var hash=this.hash();for(var i=0;i<arguments.length;i++){hash.update(arguments[i]);}return utils_1$1.intFromLE(hash.digest()).umod(this.curve.n);};EDDSA.prototype.keyFromPublic=function keyFromPublic(pub){return key$1.fromPublic(this,pub);};EDDSA.prototype.keyFromSecret=function keyFromSecret(secret){return key$1.fromSecret(this,secret);};EDDSA.prototype.makeSignature=function makeSignature(sig){if(sig instanceof signature$1)return sig;return new signature$1(this,sig);};EDDSA.prototype.encodePoint=function encodePoint(point){var enc=point.getY().toArray('le',this.encodingLength);enc[this.encodingLength-1]|=point.getX().isOdd()?0x80:0;return enc;};EDDSA.prototype.decodePoint=function decodePoint(bytes){bytes=utils_1$1.parseBytes(bytes);var lastIx=bytes.length-1;var normed=bytes.slice(0,lastIx).concat(bytes[lastIx]&~0x80);var xIsOdd=(bytes[lastIx]&0x80)!==0;var y=utils_1$1.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd);};EDDSA.prototype.encodeInt=function encodeInt(num){return num.toArray('le',this.encodingLength);};EDDSA.prototype.decodeInt=function decodeInt(bytes){return utils_1$1.intFromLE(bytes);};EDDSA.prototype.isPoint=function isPoint(val){return val instanceof this.pointClass;};var require$$0$2=getCjsExportFromNamespace(_package$1);var elliptic_1=createCommonjsModule(function(module,exports){var elliptic=exports;elliptic.version=require$$0$2.version;elliptic.utils=utils_1$1;elliptic.rand=brorand;elliptic.curve=curve_1;elliptic.curves=curves_1;elliptic.ec=ec;elliptic.eddsa=eddsa;});var elliptic=/*#__PURE__*/Object.freeze({__proto__:null,'default':elliptic_1,__moduleExports:elliptic_1});var namedOIDs={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10"};function getOidByNamedCurve(namedCurve){var oid=namedOIDs[namedCurve];if(!oid){throw new OperationError("Cannot convert WebCrypto named curve '".concat(namedCurve,"' to OID"));}return oid;}var EcCryptoKey=/*#__PURE__*/function(_CryptoKey$3){_inherits(EcCryptoKey,_CryptoKey$3);function EcCryptoKey(algorithm,extractable,type,usages,data){var _this88;_classCallCheck(this,EcCryptoKey);_this88=_possibleConstructorReturn(this,_getPrototypeOf(EcCryptoKey).call(this,algorithm,extractable,type,usages));_this88.data=data;return _this88;}return EcCryptoKey;}(CryptoKey$1);var EcCrypto=/*#__PURE__*/function(){function EcCrypto(){_classCallCheck(this,EcCrypto);}_createClass(EcCrypto,null,[{key:"checkLib",value:function checkLib(){if(typeof elliptic==="undefined"){throw new OperationError("Cannot implement EC mechanism. Add 'https://peculiarventures.github.io/pv-webcrypto-tests/src/elliptic.js' script to your project");}}},{key:"generateKey",value:function generateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee87(){var _this89=this;var key,ecKey,prvKey,pubKey;return regeneratorRuntime.wrap(function _callee87$(_context87){while(1){switch(_context87.prev=_context87.next){case 0:this.checkLib();key=this.initEcKey(algorithm.namedCurve);ecKey=key.genKeyPair();ecKey.getPublic();prvKey=new EcCryptoKey(Object.assign({},algorithm),extractable,"private",keyUsages.filter(function(usage){return ~_this89.privateUsages.indexOf(usage);}),ecKey);pubKey=new EcCryptoKey(Object.assign({},algorithm),true,"public",keyUsages.filter(function(usage){return ~_this89.publicUsages.indexOf(usage);}),ecKey);return _context87.abrupt("return",{privateKey:prvKey,publicKey:pubKey});case 7:case"end":return _context87.stop();}}},_callee87,this);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key){if(!(key instanceof EcCryptoKey)){throw new TypeError("key: Is not EcCryptoKey");}}},{key:"concat",value:function concat(){for(var _len13=arguments.length,buf=new Array(_len13),_key22=0;_key22<_len13;_key22++){buf[_key22]=arguments[_key22];}var res=new Uint8Array(buf.map(function(item){return item.length;}).reduce(function(prev,cur){return prev+cur;}));var offset=0;buf.forEach(function(item,index){for(var i=0;i<item.length;i++){res[offset+i]=item[i];}offset+=item.length;});return res;}},{key:"exportKey",value:function exportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee88(){return regeneratorRuntime.wrap(function _callee88$(_context88){while(1){switch(_context88.prev=_context88.next){case 0:this.checkLib();_context88.t0=format;_context88.next=_context88.t0==="pkcs8"?4:_context88.t0==="spki"?5:_context88.t0==="jwk"?6:_context88.t0==="raw"?7:8;break;case 4:return _context88.abrupt("return",this.exportPkcs8Key(key));case 5:return _context88.abrupt("return",this.exportSpkiKey(key));case 6:return _context88.abrupt("return",this.exportJwkKey(key));case 7:return _context88.abrupt("return",new Uint8Array(key.data.getPublic("der")).buffer);case 8:throw new OperationError("format: Must be 'jwk', 'raw, 'pkcs8' or 'spki'");case 9:case"end":return _context88.stop();}}},_callee88,this);}));}},{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee89(){var ecKey,key;return regeneratorRuntime.wrap(function _callee89$(_context89){while(1){switch(_context89.prev=_context89.next){case 0:this.checkLib();_context89.t0=format;_context89.next=_context89.t0==="pkcs8"?4:_context89.t0==="spki"?6:_context89.t0==="raw"?8:_context89.t0==="jwk"?10:12;break;case 4:ecKey=this.importPkcs8Key(keyData,algorithm.namedCurve);return _context89.abrupt("break",13);case 6:ecKey=this.importSpkiKey(keyData,algorithm.namedCurve);return _context89.abrupt("break",13);case 8:ecKey=this.importEcKey(new EcPublicKey(keyData),algorithm.namedCurve);return _context89.abrupt("break",13);case 10:ecKey=this.importJwkKey(keyData);return _context89.abrupt("break",13);case 12:throw new OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'");case 13:key=new EcCryptoKey(Object.assign({},algorithm),extractable,ecKey.priv?"private":"public",keyUsages,ecKey);return _context89.abrupt("return",key);case 15:case"end":return _context89.stop();}}},_callee89,this);}));}},{key:"getNamedCurve",value:function getNamedCurve(wcNamedCurve){var crv=wcNamedCurve.toUpperCase();var res="";if(["P-256","P-384","P-521"].indexOf(crv)>-1){res=crv.replace("-","").toLowerCase();}else if(crv==="K-256"){res="secp256k1";}else{throw new OperationError("Unsupported named curve '".concat(wcNamedCurve,"'"));}return res;}},{key:"initEcKey",value:function initEcKey(namedCurve){return undefined(this.getNamedCurve(namedCurve));}},{key:"exportPkcs8Key",value:function exportPkcs8Key(key){var keyInfo=new PrivateKeyInfo();keyInfo.privateKeyAlgorithm.algorithm=this.ASN_ALGORITHM;keyInfo.privateKeyAlgorithm.parameters=AsnSerializer.serialize(new ObjectIdentifier(getOidByNamedCurve(key.algorithm.namedCurve)));keyInfo.privateKey=AsnSerializer.serialize(this.exportEcKey(key));return AsnSerializer.serialize(keyInfo);}},{key:"importPkcs8Key",value:function importPkcs8Key(data,namedCurve){var keyInfo=AsnParser.parse(data,PrivateKeyInfo);var privateKey=AsnParser.parse(keyInfo.privateKey,EcPrivateKey);return this.importEcKey(privateKey,namedCurve);}},{key:"importSpkiKey",value:function importSpkiKey(data,namedCurve){var keyInfo=AsnParser.parse(data,PublicKeyInfo);var publicKey=new EcPublicKey(keyInfo.publicKey);return this.importEcKey(publicKey,namedCurve);}},{key:"exportSpkiKey",value:function exportSpkiKey(key){var publicKey=new EcPublicKey(new Uint8Array(key.data.getPublic("der")).buffer);var keyInfo=new PublicKeyInfo();keyInfo.publicKeyAlgorithm.algorithm=this.ASN_ALGORITHM;keyInfo.publicKeyAlgorithm.parameters=AsnSerializer.serialize(new ObjectIdentifier(getOidByNamedCurve(key.algorithm.namedCurve)));keyInfo.publicKey=publicKey.value;return AsnSerializer.serialize(keyInfo);}},{key:"importJwkKey",value:function importJwkKey(data){var key;if(data.d){key=build_2.fromJSON(data,{targetSchema:EcPrivateKey});}else{key=build_2.fromJSON(data,{targetSchema:EcPublicKey});}return this.importEcKey(key,data.crv);}},{key:"exportJwkKey",value:function exportJwkKey(key){var asnKey=this.exportEcKey(key);var jwk=build_4.toJSON(asnKey);jwk.ext=true;jwk.key_ops=key.usages;jwk.crv=key.algorithm.namedCurve;jwk.kty="EC";return jwk;}},{key:"exportEcKey",value:function exportEcKey(ecKey){if(ecKey.type==="private"){var privateKey=new EcPrivateKey();var point=new Uint8Array(ecKey.data.getPrivate("der").toArray());var pointPad=new Uint8Array(this.getPointSize(ecKey.algorithm.namedCurve)-point.length);privateKey.privateKey=concat(pointPad,point);privateKey.publicKey=new Uint8Array(ecKey.data.getPublic("der"));return privateKey;}else if(ecKey.data.pub){return new EcPublicKey(new Uint8Array(ecKey.data.getPublic("der")).buffer);}else{throw new Error("Cannot get private or public key");}}},{key:"importEcKey",value:function importEcKey(key,namedCurve){var ecKey=this.initEcKey(namedCurve);if(key instanceof EcPublicKey){return ecKey.keyFromPublic(new Uint8Array(key.value));}return ecKey.keyFromPrivate(new Uint8Array(key.privateKey));}},{key:"getPointSize",value:function getPointSize(namedCurve){switch(namedCurve){case"P-256":case"K-256":return 32;case"P-384":return 48;case"P-521":return 66;}throw new Error("namedCurve: Is not recognized");}}]);return EcCrypto;}();EcCrypto.privateUsages=["sign","deriveKey","deriveBits"];EcCrypto.publicUsages=["verify"];EcCrypto.ASN_ALGORITHM="1.2.840.10045.2.1";var EcdhProvider$1=/*#__PURE__*/function(_EcdhProvider){_inherits(EcdhProvider$1,_EcdhProvider);function EcdhProvider$1(){_classCallCheck(this,EcdhProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(EcdhProvider$1).apply(this,arguments));}_createClass(EcdhProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee90(){return regeneratorRuntime.wrap(function _callee90$(_context90){while(1){switch(_context90.prev=_context90.next){case 0:return _context90.abrupt("return",EcCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context90.stop();}}},_callee90);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee91(){return regeneratorRuntime.wrap(function _callee91$(_context91){while(1){switch(_context91.prev=_context91.next){case 0:return _context91.abrupt("return",EcCrypto.exportKey(format,key));case 1:case"end":return _context91.stop();}}},_callee91);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee92(){return regeneratorRuntime.wrap(function _callee92$(_context92){while(1){switch(_context92.prev=_context92.next){case 0:return _context92.abrupt("return",EcCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context92.stop();}}},_callee92);}));}},{key:"onDeriveBits",value:function onDeriveBits(algorithm,baseKey,length){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee93(){var shared,array,len,buf;return regeneratorRuntime.wrap(function _callee93$(_context93){while(1){switch(_context93.prev=_context93.next){case 0:EcCrypto.checkLib();shared=baseKey.data.derive(algorithm.public.data.getPublic());array=new Uint8Array(shared.toArray());len=array.length;len=len>32?len>48?66:48:32;if(array.length<len){array=EcCrypto.concat(new Uint8Array(len-array.length),array);}buf=array.slice(0,length/8).buffer;return _context93.abrupt("return",buf);case 8:case"end":return _context93.stop();}}},_callee93);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(EcdhProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);EcCrypto.checkCryptoKey(key);}}]);return EcdhProvider$1;}(EcdhProvider);function b2a(buffer){var buf=new Uint8Array(buffer);var res=[];for(var i=0;i<buf.length;i++){res.push(buf[i]);}return res;}function hex2buffer(hexString,padded){if(hexString.length%2){hexString="0"+hexString;}var res=new Uint8Array(hexString.length/2);for(var i=0;i<hexString.length;i++){var c=hexString.slice(i,++i+1);res[(i-1)/2]=parseInt(c,16);}if(padded){var len=res.length;len=len>32?len>48?66:48:32;if(res.length<len){res=EcCrypto.concat(new Uint8Array(len-res.length),res);}}return res;}function buffer2hex(buffer,padded){var res="";for(var i=0;i<buffer.length;i++){var char=buffer[i].toString(16);res+=char.length%2?"0"+char:char;}if(padded){var len=buffer.length;len=len>32?len>48?66:48:32;if(res.length/2<len){res=new Array(len*2-res.length+1).join("0")+res;}}return res;}var EcdsaProvider$1=/*#__PURE__*/function(_EcdsaProvider){_inherits(EcdsaProvider$1,_EcdsaProvider);function EcdsaProvider$1(){_classCallCheck(this,EcdsaProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(EcdsaProvider$1).apply(this,arguments));}_createClass(EcdsaProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee94(){return regeneratorRuntime.wrap(function _callee94$(_context94){while(1){switch(_context94.prev=_context94.next){case 0:return _context94.abrupt("return",EcCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context94.stop();}}},_callee94);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee95(){return regeneratorRuntime.wrap(function _callee95$(_context95){while(1){switch(_context95.prev=_context95.next){case 0:return _context95.abrupt("return",EcCrypto.exportKey(format,key));case 1:case"end":return _context95.stop();}}},_callee95);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee96(){return regeneratorRuntime.wrap(function _callee96$(_context96){while(1){switch(_context96.prev=_context96.next){case 0:return _context96.abrupt("return",EcCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context96.stop();}}},_callee96);}));}},{key:"onSign",value:function onSign(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee97(){var crypto,array,hash,signature,hexSignature;return regeneratorRuntime.wrap(function _callee97$(_context97){while(1){switch(_context97.prev=_context97.next){case 0:EcCrypto.checkLib();crypto=new Crypto$1();_context97.next=4;return crypto.subtle.digest(algorithm.hash,data);case 4:hash=_context97.sent;array=b2a(hash);_context97.next=8;return key.data.sign(array);case 8:signature=_context97.sent;hexSignature=buffer2hex(signature.r.toArray(),true)+buffer2hex(signature.s.toArray(),true);return _context97.abrupt("return",hex2buffer(hexSignature).buffer);case 11:case"end":return _context97.stop();}}},_callee97);}));}},{key:"onVerify",value:function onVerify(algorithm,key,signature,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee98(){var crypto,sig,hashedData,array;return regeneratorRuntime.wrap(function _callee98$(_context98){while(1){switch(_context98.prev=_context98.next){case 0:EcCrypto.checkLib();crypto=new Crypto$1();sig={r:new Uint8Array(signature.slice(0,signature.byteLength/2)),s:new Uint8Array(signature.slice(signature.byteLength/2))};_context98.next=5;return crypto.subtle.digest(algorithm.hash,data);case 5:hashedData=_context98.sent;array=b2a(hashedData);return _context98.abrupt("return",key.data.verify(array,sig));case 8:case"end":return _context98.stop();}}},_callee98);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(EcdsaProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);EcCrypto.checkCryptoKey(key);}}]);return EcdsaProvider$1;}(EcdsaProvider);var Sha1Provider=/*#__PURE__*/function(_ProviderCrypto8){_inherits(Sha1Provider,_ProviderCrypto8);function Sha1Provider(){var _this90;_classCallCheck(this,Sha1Provider);_this90=_possibleConstructorReturn(this,_getPrototypeOf(Sha1Provider).apply(this,arguments));_this90.name="SHA-1";_this90.usages=[];return _this90;}_createClass(Sha1Provider,[{key:"onDigest",value:function onDigest(algorithm,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee99(){return regeneratorRuntime.wrap(function _callee99$(_context99){while(1){switch(_context99.prev=_context99.next){case 0:return _context99.abrupt("return",ShaCrypto.digest(algorithm,data));case 1:case"end":return _context99.stop();}}},_callee99);}));}}]);return Sha1Provider;}(ProviderCrypto);var Sha256Provider=/*#__PURE__*/function(_Sha1Provider){_inherits(Sha256Provider,_Sha1Provider);function Sha256Provider(){var _this91;_classCallCheck(this,Sha256Provider);_this91=_possibleConstructorReturn(this,_getPrototypeOf(Sha256Provider).apply(this,arguments));_this91.name="SHA-256";return _this91;}return Sha256Provider;}(Sha1Provider);var Sha512Provider=/*#__PURE__*/function(_Sha1Provider2){_inherits(Sha512Provider,_Sha1Provider2);function Sha512Provider(){var _this92;_classCallCheck(this,Sha512Provider);_this92=_possibleConstructorReturn(this,_getPrototypeOf(Sha512Provider).apply(this,arguments));_this92.name="SHA-512";return _this92;}return Sha512Provider;}(Sha1Provider);var PbkdfCryptoKey=/*#__PURE__*/function(_CryptoKey$4){_inherits(PbkdfCryptoKey,_CryptoKey$4);function PbkdfCryptoKey(algorithm,extractable,usages,raw){var _this93;_classCallCheck(this,PbkdfCryptoKey);_this93=_possibleConstructorReturn(this,_getPrototypeOf(PbkdfCryptoKey).call(this,algorithm,extractable,"secret",usages));_this93.raw=raw;return _this93;}return PbkdfCryptoKey;}(CryptoKey$1);var Pbkdf2Provider$1=/*#__PURE__*/function(_Pbkdf2Provider){_inherits(Pbkdf2Provider$1,_Pbkdf2Provider);function Pbkdf2Provider$1(){_classCallCheck(this,Pbkdf2Provider$1);return _possibleConstructorReturn(this,_getPrototypeOf(Pbkdf2Provider$1).apply(this,arguments));}_createClass(Pbkdf2Provider$1,[{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee100(){return regeneratorRuntime.wrap(function _callee100$(_context100){while(1){switch(_context100.prev=_context100.next){case 0:return _context100.abrupt("return",new PbkdfCryptoKey(algorithm,extractable,keyUsages,BufferSourceConverter.toUint8Array(keyData)));case 1:case"end":return _context100.stop();}}},_callee100);}));}},{key:"onDeriveBits",value:function onDeriveBits(algorithm,baseKey,length){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee101(){var result,salt,password;return regeneratorRuntime.wrap(function _callee101$(_context101){while(1){switch(_context101.prev=_context101.next){case 0:salt=BufferSourceConverter.toUint8Array(algorithm.salt);password=baseKey.raw;_context101.t0=algorithm.hash.name.toUpperCase();_context101.next=_context101.t0==="SHA-1"?5:_context101.t0==="SHA-256"?7:_context101.t0==="SHA-512"?9:11;break;case 5:result=Pbkdf2HmacSha1(password,salt,algorithm.iterations,length>>3);return _context101.abrupt("break",12);case 7:result=Pbkdf2HmacSha256(password,salt,algorithm.iterations,length>>3);return _context101.abrupt("break",12);case 9:result=Pbkdf2HmacSha512(password,salt,algorithm.iterations,length>>3);return _context101.abrupt("break",12);case 11:throw new OperationError("algorithm.hash: '".concat(algorithm.hash.name,"' hash algorithm is not supported"));case 12:return _context101.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 13:case"end":return _context101.stop();}}},_callee101);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(Pbkdf2Provider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);if(!(key instanceof PbkdfCryptoKey)){throw new TypeError("key: Is not PbkdfCryptoKey");}}}]);return Pbkdf2Provider$1;}(Pbkdf2Provider);var readUInt32BE=function readUInt32BE(bytes,off){var res=bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off];return res>>>0;};var writeUInt32BE=function writeUInt32BE(bytes,value,off){bytes[0+off]=value>>>24;bytes[1+off]=value>>>16&0xff;bytes[2+off]=value>>>8&0xff;bytes[3+off]=value&0xff;};var ip=function ip(inL,inR,out,off){var outL=0;var outR=0;for(var i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>>j+i&1;}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>>j+i&1;}}for(var i=6;i>=0;i-=2){for(var j=1;j<=25;j+=8){outR<<=1;outR|=inR>>>j+i&1;}for(var j=1;j<=25;j+=8){outR<<=1;outR|=inL>>>j+i&1;}}out[off+0]=outL>>>0;out[off+1]=outR>>>0;};var rip=function rip(inL,inR,out,off){var outL=0;var outR=0;for(var i=0;i<4;i++){for(var j=24;j>=0;j-=8){outL<<=1;outL|=inR>>>j+i&1;outL<<=1;outL|=inL>>>j+i&1;}}for(var i=4;i<8;i++){for(var j=24;j>=0;j-=8){outR<<=1;outR|=inR>>>j+i&1;outR<<=1;outR|=inL>>>j+i&1;}}out[off+0]=outL>>>0;out[off+1]=outR>>>0;};var pc1=function pc1(inL,inR,out,off){var outL=0;var outR=0;for(var i=7;i>=5;i--){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1;}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>j+i&1;}}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1;}for(var i=1;i<=3;i++){for(var j=0;j<=24;j+=8){outR<<=1;outR|=inR>>j+i&1;}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1;}}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1;}out[off+0]=outL>>>0;out[off+1]=outR>>>0;};var r28shl=function r28shl(num,shift){return num<<shift&0xfffffff|num>>>28-shift;};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];var pc2=function pc2(inL,inR,out,off){var outL=0;var outR=0;var len=pc2table.length>>>1;for(var i=0;i<len;i++){outL<<=1;outL|=inL>>>pc2table[i]&0x1;}for(var i=len;i<pc2table.length;i++){outR<<=1;outR|=inR>>>pc2table[i]&0x1;}out[off+0]=outL>>>0;out[off+1]=outR>>>0;};var expand=function expand(r,out,off){var outL=0;var outR=0;outL=(r&1)<<5|r>>>27;for(var i=23;i>=15;i-=4){outL<<=6;outL|=r>>>i&0x3f;}for(var i=11;i>=3;i-=4){outR|=r>>>i&0x3f;outR<<=6;}outR|=(r&0x1f)<<1|r>>>31;out[off+0]=outL>>>0;out[off+1]=outR>>>0;};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];var substitute=function substitute(inL,inR){var out=0;for(var i=0;i<4;i++){var b=inL>>>18-i*6&0x3f;var sb=sTable[i*0x40+b];out<<=4;out|=sb;}for(var i=0;i<4;i++){var b=inR>>>18-i*6&0x3f;var sb=sTable[4*0x40+i*0x40+b];out<<=4;out|=sb;}return out>>>0;};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];var permute=function permute(num){var out=0;for(var i=0;i<permuteTable.length;i++){out<<=1;out|=num>>>permuteTable[i]&0x1;}return out>>>0;};var padSplit=function padSplit(num,size,group){var str=num.toString(2);while(str.length<size){str='0'+str;}var out=[];for(var i=0;i<size;i+=group){out.push(str.slice(i,i+group));}return out.join(' ');};var utils$2={readUInt32BE:readUInt32BE,writeUInt32BE:writeUInt32BE,ip:ip,rip:rip,pc1:pc1,r28shl:r28shl,pc2:pc2,expand:expand,substitute:substitute,permute:permute,padSplit:padSplit};function Cipher(options){this.options=options;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=new Array(this.blockSize);this.bufferOff=0;}var cipher=Cipher;Cipher.prototype._init=function _init(){};Cipher.prototype.update=function update(data){if(data.length===0)return [];if(this.type==='decrypt')return this._updateDecrypt(data);else return this._updateEncrypt(data);};Cipher.prototype._buffer=function _buffer(data,off){var min=Math.min(this.buffer.length-this.bufferOff,data.length-off);for(var i=0;i<min;i++){this.buffer[this.bufferOff+i]=data[off+i];}this.bufferOff+=min;return min;};Cipher.prototype._flushBuffer=function _flushBuffer(out,off){this._update(this.buffer,0,out,off);this.bufferOff=0;return this.blockSize;};Cipher.prototype._updateEncrypt=function _updateEncrypt(data){var inputOff=0;var outputOff=0;var count=(this.bufferOff+data.length)/this.blockSize|0;var out=new Array(count*this.blockSize);if(this.bufferOff!==0){inputOff+=this._buffer(data,inputOff);if(this.bufferOff===this.buffer.length)outputOff+=this._flushBuffer(out,outputOff);}var max=data.length-(data.length-inputOff)%this.blockSize;for(;inputOff<max;inputOff+=this.blockSize){this._update(data,inputOff,out,outputOff);outputOff+=this.blockSize;}for(;inputOff<data.length;inputOff++,this.bufferOff++){this.buffer[this.bufferOff]=data[inputOff];}return out;};Cipher.prototype._updateDecrypt=function _updateDecrypt(data){var inputOff=0;var outputOff=0;var count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1;var out=new Array(count*this.blockSize);for(;count>0;count--){inputOff+=this._buffer(data,inputOff);outputOff+=this._flushBuffer(out,outputOff);}inputOff+=this._buffer(data,inputOff);return out;};Cipher.prototype.final=function final(buffer){var first;if(buffer)first=this.update(buffer);var last;if(this.type==='encrypt')last=this._finalEncrypt();else last=this._finalDecrypt();if(first)return first.concat(last);else return last;};Cipher.prototype._pad=function _pad(buffer,off){if(off===0)return false;while(off<buffer.length){buffer[off++]=0;}return true;};Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return [];var out=new Array(this.blockSize);this._update(this.buffer,0,out,0);return out;};Cipher.prototype._unpad=function _unpad(buffer){return buffer;};Cipher.prototype._finalDecrypt=function _finalDecrypt(){minimalisticAssert.equal(this.bufferOff,this.blockSize,'Not enough data to decrypt');var out=new Array(this.blockSize);this._flushBuffer(out,0);return this._unpad(out);};function DESState(){this.tmp=new Array(2);this.keys=null;}function DES(options){cipher.call(this,options);var state=new DESState();this._desState=state;this.deriveKeys(state,options.key);}inherits$2(DES,cipher);var des=DES;DES.create=function create(options){return new DES(options);};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(state,key){state.keys=new Array(16*2);minimalisticAssert.equal(key.length,this.blockSize,'Invalid key length');var kL=utils$2.readUInt32BE(key,0);var kR=utils$2.readUInt32BE(key,4);utils$2.pc1(kL,kR,state.tmp,0);kL=state.tmp[0];kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils$2.r28shl(kL,shift);kR=utils$2.r28shl(kR,shift);utils$2.pc2(kL,kR,state.keys,i);}};DES.prototype._update=function _update(inp,inOff,out,outOff){var state=this._desState;var l=utils$2.readUInt32BE(inp,inOff);var r=utils$2.readUInt32BE(inp,inOff+4);utils$2.ip(l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];if(this.type==='encrypt')this._encrypt(state,l,r,state.tmp,0);else this._decrypt(state,l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];utils$2.writeUInt32BE(out,l,outOff);utils$2.writeUInt32BE(out,r,outOff+4);};DES.prototype._pad=function _pad(buffer,off){var value=buffer.length-off;for(var i=off;i<buffer.length;i++){buffer[i]=value;}return true;};DES.prototype._unpad=function _unpad(buffer){var pad=buffer[buffer.length-1];for(var i=buffer.length-pad;i<buffer.length;i++){minimalisticAssert.equal(buffer[i],pad);}return buffer.slice(0,buffer.length-pad);};DES.prototype._encrypt=function _encrypt(state,lStart,rStart,out,off){var l=lStart;var r=rStart;for(var i=0;i<state.keys.length;i+=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils$2.expand(r,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils$2.substitute(keyL,keyR);var f=utils$2.permute(s);var t=r;r=(l^f)>>>0;l=t;}utils$2.rip(r,l,out,off);};DES.prototype._decrypt=function _decrypt(state,lStart,rStart,out,off){var l=rStart;var r=lStart;for(var i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils$2.expand(l,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils$2.substitute(keyL,keyR);var f=utils$2.permute(s);var t=l;l=(r^f)>>>0;r=t;}utils$2.rip(l,r,out,off);};var proto={};function CBCState(iv){minimalisticAssert.equal(iv.length,8,'Invalid IV length');this.iv=new Array(8);for(var i=0;i<this.iv.length;i++){this.iv[i]=iv[i];}}function instantiate(Base){function CBC(options){Base.call(this,options);this._cbcInit();}inherits$2(CBC,Base);var keys=Object.keys(proto);for(var i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key];}CBC.create=function create(options){return new CBC(options);};return CBC;}var instantiate_1=instantiate;proto._cbcInit=function _cbcInit(){var state=new CBCState(this.options.iv);this._cbcState=state;};proto._update=function _update(inp,inOff,out,outOff){var state=this._cbcState;var superProto=this.constructor.super_.prototype;var iv=state.iv;if(this.type==='encrypt'){for(var i=0;i<this.blockSize;i++){iv[i]^=inp[inOff+i];}superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++){iv[i]=out[outOff+i];}}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++){out[outOff+i]^=iv[i];}for(var i=0;i<this.blockSize;i++){iv[i]=inp[inOff+i];}}};var cbc={instantiate:instantiate_1};function EDEState(type,key){minimalisticAssert.equal(key.length,24,'Invalid key length');var k1=key.slice(0,8);var k2=key.slice(8,16);var k3=key.slice(16,24);if(type==='encrypt'){this.ciphers=[des.create({type:'encrypt',key:k1}),des.create({type:'decrypt',key:k2}),des.create({type:'encrypt',key:k3})];}else{this.ciphers=[des.create({type:'decrypt',key:k3}),des.create({type:'encrypt',key:k2}),des.create({type:'decrypt',key:k1})];}}function EDE(options){cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state;}inherits$2(EDE,cipher);var ede=EDE;EDE.create=function create(options){return new EDE(options);};EDE.prototype._update=function _update(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff);state.ciphers[1]._update(out,outOff,out,outOff);state.ciphers[2]._update(out,outOff,out,outOff);};EDE.prototype._pad=des.prototype._pad;EDE.prototype._unpad=des.prototype._unpad;var utils$3=utils$2;var Cipher$1=cipher;var DES$1=des;var CBC=cbc;var EDE$1=ede;var des$1={utils:utils$3,Cipher:Cipher$1,DES:DES$1,CBC:CBC,EDE:EDE$1};var des$2=/*#__PURE__*/Object.freeze({__proto__:null,'default':des$1,__moduleExports:des$1,utils:utils$3,Cipher:Cipher$1,DES:DES$1,CBC:CBC,EDE:EDE$1});var DesCryptoKey=/*#__PURE__*/function(_CryptoKey$5){_inherits(DesCryptoKey,_CryptoKey$5);function DesCryptoKey(algorithm,extractable,usages,raw){var _this94;_classCallCheck(this,DesCryptoKey);_this94=_possibleConstructorReturn(this,_getPrototypeOf(DesCryptoKey).call(this,algorithm,extractable,"secret",usages));_this94.raw=raw;return _this94;}_createClass(DesCryptoKey,[{key:"toJSON",value:function toJSON(){var jwk={kty:"oct",alg:this.getJwkAlgorithm(),k:Convert.ToBase64Url(this.raw),ext:this.extractable,key_ops:this.usages};return jwk;}},{key:"getJwkAlgorithm",value:function getJwkAlgorithm(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return "DES-CBC";case"DES-EDE3-CBC":return "3DES-CBC";default:throw new AlgorithmError("Unsupported algorithm name");}}}]);return DesCryptoKey;}(CryptoKey$1);var DesCrypto=/*#__PURE__*/function(){function DesCrypto(){_classCallCheck(this,DesCrypto);}_createClass(DesCrypto,null,[{key:"checkLib",value:function checkLib(){if(typeof des$2==="undefined"){throw new OperationError("Cannot implement DES mechanism. Add 'https://peculiarventures.github.io/pv-webcrypto-tests/src/des.js' script to your project");}}},{key:"checkCryptoKey",value:function checkCryptoKey(key){if(!(key instanceof DesCryptoKey)){throw new TypeError("key: Is not DesCryptoKey");}}},{key:"generateKey",value:function generateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee102(){var raw;return regeneratorRuntime.wrap(function _callee102$(_context102){while(1){switch(_context102.prev=_context102.next){case 0:this.checkLib();raw=nativeCrypto.getRandomValues(new Uint8Array(algorithm.length/8));return _context102.abrupt("return",new DesCryptoKey(algorithm,extractable,keyUsages,raw));case 3:case"end":return _context102.stop();}}},_callee102,this);}));}},{key:"exportKey",value:function exportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee103(){return regeneratorRuntime.wrap(function _callee103$(_context103){while(1){switch(_context103.prev=_context103.next){case 0:this.checkLib();_context103.t0=format;_context103.next=_context103.t0==="jwk"?4:_context103.t0==="raw"?5:6;break;case 4:return _context103.abrupt("return",key.toJSON());case 5:return _context103.abrupt("return",key.raw.buffer);case 6:throw new OperationError("format: Must be 'jwk' or 'raw'");case 7:case"end":return _context103.stop();}}},_callee103,this);}));}},{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee104(){var raw,key;return regeneratorRuntime.wrap(function _callee104$(_context104){while(1){switch(_context104.prev=_context104.next){case 0:this.checkLib();if(isJWK(keyData)){raw=Convert.FromBase64Url(keyData.k);}else{raw=BufferSourceConverter.toArrayBuffer(keyData);}if(!(algorithm.name==="DES-CBC"&&raw.byteLength!==8||algorithm.name==="DES-EDE3-CBC"&&raw.byteLength!==24)){_context104.next=4;break;}throw new OperationError("keyData: Is wrong key length");case 4:key=new DesCryptoKey({name:algorithm.name,length:raw.byteLength<<3},extractable,keyUsages,new Uint8Array(raw));return _context104.abrupt("return",key);case 6:case"end":return _context104.stop();}}},_callee104,this);}));}},{key:"encrypt",value:function encrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee105(){return regeneratorRuntime.wrap(function _callee105$(_context105){while(1){switch(_context105.prev=_context105.next){case 0:return _context105.abrupt("return",this.cipher(algorithm,key,data,true));case 1:case"end":return _context105.stop();}}},_callee105,this);}));}},{key:"decrypt",value:function decrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee106(){return regeneratorRuntime.wrap(function _callee106$(_context106){while(1){switch(_context106.prev=_context106.next){case 0:return _context106.abrupt("return",this.cipher(algorithm,key,data,false));case 1:case"end":return _context106.stop();}}},_callee106,this);}));}},{key:"cipher",value:function cipher(algorithm,key,data,encrypt){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee107(){var type,DesCipher,iv,enc;return regeneratorRuntime.wrap(function _callee107$(_context107){while(1){switch(_context107.prev=_context107.next){case 0:this.checkLib();type=encrypt?"encrypt":"decrypt";iv=BufferSourceConverter.toUint8Array(algorithm.iv);_context107.t0=algorithm.name.toUpperCase();_context107.next=_context107.t0==="DES-CBC"?6:_context107.t0==="DES-EDE3-CBC"?8:10;break;case 6:DesCipher=CBC.instantiate(DES$1).create({key:key.raw,type:type,iv:iv});return _context107.abrupt("break",11);case 8:DesCipher=CBC.instantiate(EDE$1).create({key:key.raw,type:type,iv:iv});return _context107.abrupt("break",11);case 10:throw new OperationError("algorithm: Is not recognized");case 11:enc=DesCipher.update(new Uint8Array(data)).concat(DesCipher.final());return _context107.abrupt("return",new Uint8Array(enc).buffer);case 13:case"end":return _context107.stop();}}},_callee107,this);}));}}]);return DesCrypto;}();var DesCbcProvider=/*#__PURE__*/function(_DesProvider){_inherits(DesCbcProvider,_DesProvider);function DesCbcProvider(){var _this95;_classCallCheck(this,DesCbcProvider);_this95=_possibleConstructorReturn(this,_getPrototypeOf(DesCbcProvider).apply(this,arguments));_this95.keySizeBits=64;_this95.ivSize=8;_this95.name="DES-CBC";return _this95;}_createClass(DesCbcProvider,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee108(){return regeneratorRuntime.wrap(function _callee108$(_context108){while(1){switch(_context108.prev=_context108.next){case 0:return _context108.abrupt("return",DesCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context108.stop();}}},_callee108);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee109(){return regeneratorRuntime.wrap(function _callee109$(_context109){while(1){switch(_context109.prev=_context109.next){case 0:return _context109.abrupt("return",DesCrypto.exportKey(format,key));case 1:case"end":return _context109.stop();}}},_callee109);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee110(){return regeneratorRuntime.wrap(function _callee110$(_context110){while(1){switch(_context110.prev=_context110.next){case 0:return _context110.abrupt("return",DesCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context110.stop();}}},_callee110);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee111(){return regeneratorRuntime.wrap(function _callee111$(_context111){while(1){switch(_context111.prev=_context111.next){case 0:return _context111.abrupt("return",DesCrypto.encrypt(algorithm,key,data));case 1:case"end":return _context111.stop();}}},_callee111);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee112(){return regeneratorRuntime.wrap(function _callee112$(_context112){while(1){switch(_context112.prev=_context112.next){case 0:return _context112.abrupt("return",DesCrypto.decrypt(algorithm,key,data));case 1:case"end":return _context112.stop();}}},_callee112);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(DesCbcProvider.prototype),"checkCryptoKey",this).call(this,key,keyUsage);DesCrypto.checkCryptoKey(key);}}]);return DesCbcProvider;}(DesProvider);var DesEde3CbcProvider=/*#__PURE__*/function(_DesProvider2){_inherits(DesEde3CbcProvider,_DesProvider2);function DesEde3CbcProvider(){var _this96;_classCallCheck(this,DesEde3CbcProvider);_this96=_possibleConstructorReturn(this,_getPrototypeOf(DesEde3CbcProvider).apply(this,arguments));_this96.keySizeBits=192;_this96.ivSize=8;_this96.name="DES-EDE3-CBC";return _this96;}_createClass(DesEde3CbcProvider,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee113(){return regeneratorRuntime.wrap(function _callee113$(_context113){while(1){switch(_context113.prev=_context113.next){case 0:return _context113.abrupt("return",DesCrypto.generateKey(algorithm,extractable,keyUsages));case 1:case"end":return _context113.stop();}}},_callee113);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee114(){return regeneratorRuntime.wrap(function _callee114$(_context114){while(1){switch(_context114.prev=_context114.next){case 0:return _context114.abrupt("return",DesCrypto.exportKey(format,key));case 1:case"end":return _context114.stop();}}},_callee114);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee115(){return regeneratorRuntime.wrap(function _callee115$(_context115){while(1){switch(_context115.prev=_context115.next){case 0:return _context115.abrupt("return",DesCrypto.importKey(format,keyData,algorithm,extractable,keyUsages));case 1:case"end":return _context115.stop();}}},_callee115);}));}},{key:"onEncrypt",value:function onEncrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee116(){return regeneratorRuntime.wrap(function _callee116$(_context116){while(1){switch(_context116.prev=_context116.next){case 0:return _context116.abrupt("return",DesCrypto.encrypt(algorithm,key,data));case 1:case"end":return _context116.stop();}}},_callee116);}));}},{key:"onDecrypt",value:function onDecrypt(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee117(){return regeneratorRuntime.wrap(function _callee117$(_context117){while(1){switch(_context117.prev=_context117.next){case 0:return _context117.abrupt("return",DesCrypto.decrypt(algorithm,key,data));case 1:case"end":return _context117.stop();}}},_callee117);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(DesEde3CbcProvider.prototype),"checkCryptoKey",this).call(this,key,keyUsage);DesCrypto.checkCryptoKey(key);}}]);return DesEde3CbcProvider;}(DesProvider);var HmacCryptoKey=/*#__PURE__*/function(_CryptoKey$6){_inherits(HmacCryptoKey,_CryptoKey$6);function HmacCryptoKey(){var _this97;var algorithm=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{name:"HMAC"};var extractable=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var usages=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var data=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Uint8Array(0);_classCallCheck(this,HmacCryptoKey);_this97=_possibleConstructorReturn(this,_getPrototypeOf(HmacCryptoKey).call(this,algorithm,extractable,"secret",usages));_this97.kty="oct";_this97.data=data;return _this97;}_createClass(HmacCryptoKey,[{key:"alg",get:function get(){var hash=this.algorithm.hash.name.toUpperCase();return "HS".concat(hash.replace("SHA-",""));},set:function set(value){}}]);return HmacCryptoKey;}(CryptoKey$1);__decorate([build_3({name:"ext",type:build_1.Boolean,optional:true})],HmacCryptoKey.prototype,"extractable",void 0);__decorate([build_3({name:"key_ops",type:build_1.String,repeated:true,optional:true})],HmacCryptoKey.prototype,"usages",void 0);__decorate([build_3({name:"k",converter:JsonBase64UrlArrayBufferConverter})],HmacCryptoKey.prototype,"data",void 0);__decorate([build_3({type:build_1.String})],HmacCryptoKey.prototype,"kty",void 0);__decorate([build_3({type:build_1.String})],HmacCryptoKey.prototype,"alg",null);var HmacProvider$1=/*#__PURE__*/function(_HmacProvider){_inherits(HmacProvider$1,_HmacProvider);function HmacProvider$1(){_classCallCheck(this,HmacProvider$1);return _possibleConstructorReturn(this,_getPrototypeOf(HmacProvider$1).apply(this,arguments));}_createClass(HmacProvider$1,[{key:"onGenerateKey",value:function onGenerateKey(algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee118(){var length,raw,key;return regeneratorRuntime.wrap(function _callee118$(_context118){while(1){switch(_context118.prev=_context118.next){case 0:length=algorithm.length||this.getDefaultLength(algorithm.hash.name);raw=nativeCrypto.getRandomValues(new Uint8Array(length>>3));key=new HmacCryptoKey(algorithm,extractable,keyUsages,raw);return _context118.abrupt("return",key);case 4:case"end":return _context118.stop();}}},_callee118,this);}));}},{key:"onSign",value:function onSign(algorithm,key,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee119(){var fn,result;return regeneratorRuntime.wrap(function _callee119$(_context119){while(1){switch(_context119.prev=_context119.next){case 0:_context119.t0=key.algorithm.hash.name.toUpperCase();_context119.next=_context119.t0==="SHA-1"?3:_context119.t0==="SHA-256"?5:_context119.t0==="SHA-512"?7:9;break;case 3:fn=HmacSha1;return _context119.abrupt("break",10);case 5:fn=HmacSha256;return _context119.abrupt("break",10);case 7:fn=HmacSha512;return _context119.abrupt("break",10);case 9:throw new OperationError("key.algorithm.hash: Is not recognized");case 10:result=new fn(key.data).process(BufferSourceConverter.toUint8Array(data)).finish().result;return _context119.abrupt("return",BufferSourceConverter.toArrayBuffer(result));case 12:case"end":return _context119.stop();}}},_callee119);}));}},{key:"onVerify",value:function onVerify(algorithm,key,signature,data){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee120(){var signature2;return regeneratorRuntime.wrap(function _callee120$(_context120){while(1){switch(_context120.prev=_context120.next){case 0:_context120.next=2;return this.onSign(algorithm,key,data);case 2:signature2=_context120.sent;return _context120.abrupt("return",Convert.ToHex(signature2)===Convert.ToHex(signature));case 4:case"end":return _context120.stop();}}},_callee120,this);}));}},{key:"onImportKey",value:function onImportKey(format,keyData,algorithm,extractable,keyUsages){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee121(){var key;return regeneratorRuntime.wrap(function _callee121$(_context121){while(1){switch(_context121.prev=_context121.next){case 0:_context121.t0=format.toLowerCase();_context121.next=_context121.t0==="jwk"?3:_context121.t0==="raw"?5:9;break;case 3:key=build_2.fromJSON(keyData,{targetSchema:HmacCryptoKey});return _context121.abrupt("break",10);case 5:if(BufferSourceConverter.isBufferSource(keyData)){_context121.next=7;break;}throw new TypeError("keyData: Is not ArrayBuffer or ArrayBufferView");case 7:key=new HmacCryptoKey(algorithm,extractable,keyUsages,BufferSourceConverter.toUint8Array(keyData));return _context121.abrupt("break",10);case 9:throw new OperationError("format: Must be 'jwk' or 'raw'");case 10:key.algorithm={hash:{name:algorithm.hash.name},name:this.name,length:key.data.length<<3};key.extractable=extractable;key.usages=keyUsages;return _context121.abrupt("return",key);case 14:case"end":return _context121.stop();}}},_callee121,this);}));}},{key:"onExportKey",value:function onExportKey(format,key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee122(){var jwk;return regeneratorRuntime.wrap(function _callee122$(_context122){while(1){switch(_context122.prev=_context122.next){case 0:_context122.t0=format.toLowerCase();_context122.next=_context122.t0==="jwk"?3:_context122.t0==="raw"?5:6;break;case 3:jwk=build_4.toJSON(key);return _context122.abrupt("return",jwk);case 5:return _context122.abrupt("return",new Uint8Array(key.data).buffer);case 6:throw new OperationError("format: Must be 'jwk' or 'raw'");case 7:case"end":return _context122.stop();}}},_callee122);}));}},{key:"checkCryptoKey",value:function checkCryptoKey(key,keyUsage){_get(_getPrototypeOf(HmacProvider$1.prototype),"checkCryptoKey",this).call(this,key,keyUsage);if(!(key instanceof HmacCryptoKey)){throw new TypeError("key: Is not HMAC CryptoKey");}}}]);return HmacProvider$1;}(HmacProvider);var SubtleCrypto$1=/*#__PURE__*/function(_SubtleCrypto){_inherits(SubtleCrypto$1,_SubtleCrypto);function SubtleCrypto$1(){var _this98;_classCallCheck(this,SubtleCrypto$1);_this98=_possibleConstructorReturn(this,_getPrototypeOf(SubtleCrypto$1).call(this));_this98.browserInfo=BrowserInfo();_this98.providers.set(new AesCbcProvider$1());_this98.providers.set(new AesCtrProvider$1());_this98.providers.set(new AesEcbProvider$1());_this98.providers.set(new AesGcmProvider$1());_this98.providers.set(new AesKwProvider$1());_this98.providers.set(new DesCbcProvider());_this98.providers.set(new DesEde3CbcProvider());_this98.providers.set(new RsaSsaProvider$1());_this98.providers.set(new RsaPssProvider$1());_this98.providers.set(new RsaOaepProvider$1());_this98.providers.set(new RsaEsProvider());_this98.providers.set(new EcdsaProvider$1());_this98.providers.set(new EcdhProvider$1());_this98.providers.set(new Sha1Provider());_this98.providers.set(new Sha256Provider());_this98.providers.set(new Sha512Provider());_this98.providers.set(new Pbkdf2Provider$1());_this98.providers.set(new HmacProvider$1());return _this98;}_createClass(SubtleCrypto$1,[{key:"digest",value:function digest(){for(var _len14=arguments.length,args=new Array(_len14),_key23=0;_key23<_len14;_key23++){args[_key23]=arguments[_key23];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee123(){return regeneratorRuntime.wrap(function _callee123$(_context123){while(1){switch(_context123.prev=_context123.next){case 0:return _context123.abrupt("return",this.wrapNative.apply(this,["digest"].concat(args)));case 1:case"end":return _context123.stop();}}},_callee123,this);}));}},{key:"importKey",value:function importKey(){for(var _len15=arguments.length,args=new Array(_len15),_key24=0;_key24<_len15;_key24++){args[_key24]=arguments[_key24];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee124(){return regeneratorRuntime.wrap(function _callee124$(_context124){while(1){switch(_context124.prev=_context124.next){case 0:this.fixFirefoxEcImportPkcs8(args);return _context124.abrupt("return",this.wrapNative.apply(this,["importKey"].concat(args)));case 2:case"end":return _context124.stop();}}},_callee124,this);}));}},{key:"exportKey",value:function exportKey(){for(var _len16=arguments.length,args=new Array(_len16),_key25=0;_key25<_len16;_key25++){args[_key25]=arguments[_key25];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee125(){return regeneratorRuntime.wrap(function _callee125$(_context125){while(1){switch(_context125.prev=_context125.next){case 0:_context125.next=2;return this.fixFirefoxEcExportPkcs8(args);case 2:_context125.t0=_context125.sent;if(_context125.t0){_context125.next=7;break;}_context125.next=6;return this.wrapNative.apply(this,["exportKey"].concat(args));case 6:_context125.t0=_context125.sent;case 7:return _context125.abrupt("return",_context125.t0);case 8:case"end":return _context125.stop();}}},_callee125,this);}));}},{key:"generateKey",value:function generateKey(){for(var _len17=arguments.length,args=new Array(_len17),_key26=0;_key26<_len17;_key26++){args[_key26]=arguments[_key26];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee126(){return regeneratorRuntime.wrap(function _callee126$(_context126){while(1){switch(_context126.prev=_context126.next){case 0:return _context126.abrupt("return",this.wrapNative.apply(this,["generateKey"].concat(args)));case 1:case"end":return _context126.stop();}}},_callee126,this);}));}},{key:"sign",value:function sign(){for(var _len18=arguments.length,args=new Array(_len18),_key27=0;_key27<_len18;_key27++){args[_key27]=arguments[_key27];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee127(){return regeneratorRuntime.wrap(function _callee127$(_context127){while(1){switch(_context127.prev=_context127.next){case 0:return _context127.abrupt("return",this.wrapNative.apply(this,["sign"].concat(args)));case 1:case"end":return _context127.stop();}}},_callee127,this);}));}},{key:"verify",value:function verify(){for(var _len19=arguments.length,args=new Array(_len19),_key28=0;_key28<_len19;_key28++){args[_key28]=arguments[_key28];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee128(){return regeneratorRuntime.wrap(function _callee128$(_context128){while(1){switch(_context128.prev=_context128.next){case 0:return _context128.abrupt("return",this.wrapNative.apply(this,["verify"].concat(args)));case 1:case"end":return _context128.stop();}}},_callee128,this);}));}},{key:"encrypt",value:function encrypt(){for(var _len20=arguments.length,args=new Array(_len20),_key29=0;_key29<_len20;_key29++){args[_key29]=arguments[_key29];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee129(){return regeneratorRuntime.wrap(function _callee129$(_context129){while(1){switch(_context129.prev=_context129.next){case 0:return _context129.abrupt("return",this.wrapNative.apply(this,["encrypt"].concat(args)));case 1:case"end":return _context129.stop();}}},_callee129,this);}));}},{key:"decrypt",value:function decrypt(){for(var _len21=arguments.length,args=new Array(_len21),_key30=0;_key30<_len21;_key30++){args[_key30]=arguments[_key30];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee130(){return regeneratorRuntime.wrap(function _callee130$(_context130){while(1){switch(_context130.prev=_context130.next){case 0:return _context130.abrupt("return",this.wrapNative.apply(this,["decrypt"].concat(args)));case 1:case"end":return _context130.stop();}}},_callee130,this);}));}},{key:"wrapKey",value:function wrapKey(){for(var _len22=arguments.length,args=new Array(_len22),_key31=0;_key31<_len22;_key31++){args[_key31]=arguments[_key31];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee131(){return regeneratorRuntime.wrap(function _callee131$(_context131){while(1){switch(_context131.prev=_context131.next){case 0:return _context131.abrupt("return",this.wrapNative.apply(this,["wrapKey"].concat(args)));case 1:case"end":return _context131.stop();}}},_callee131,this);}));}},{key:"unwrapKey",value:function unwrapKey(){for(var _len23=arguments.length,args=new Array(_len23),_key32=0;_key32<_len23;_key32++){args[_key32]=arguments[_key32];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee132(){return regeneratorRuntime.wrap(function _callee132$(_context132){while(1){switch(_context132.prev=_context132.next){case 0:return _context132.abrupt("return",this.wrapNative.apply(this,["unwrapKey"].concat(args)));case 1:case"end":return _context132.stop();}}},_callee132,this);}));}},{key:"deriveBits",value:function deriveBits(){for(var _len24=arguments.length,args=new Array(_len24),_key33=0;_key33<_len24;_key33++){args[_key33]=arguments[_key33];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee133(){return regeneratorRuntime.wrap(function _callee133$(_context133){while(1){switch(_context133.prev=_context133.next){case 0:return _context133.abrupt("return",this.wrapNative.apply(this,["deriveBits"].concat(args)));case 1:case"end":return _context133.stop();}}},_callee133,this);}));}},{key:"deriveKey",value:function deriveKey(){for(var _len25=arguments.length,args=new Array(_len25),_key34=0;_key34<_len25;_key34++){args[_key34]=arguments[_key34];}return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee134(){return regeneratorRuntime.wrap(function _callee134$(_context134){while(1){switch(_context134.prev=_context134.next){case 0:return _context134.abrupt("return",this.wrapNative.apply(this,["deriveKey"].concat(args)));case 1:case"end":return _context134.stop();}}},_callee134,this);}));}},{key:"wrapNative",value:function wrapNative(method){var _this99=this;for(var _len26=arguments.length,args=new Array(_len26>1?_len26-1:0),_key35=1;_key35<_len26;_key35++){args[_key35-1]=arguments[_key35];}var _superIndex=function _superIndex(name){return _get(_getPrototypeOf(SubtleCrypto$1.prototype),name,_this99);};return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee135(){var res,data,keyData,_res,_data,_keyData,_res2,_data2,_res3,_iteratorNormalCompletion12,_didIteratorError12,_iteratorError12,_iterator12,_step12,arg,i,_arg;return regeneratorRuntime.wrap(function _callee135$(_context135){while(1){switch(_context135.prev=_context135.next){case 0:if(~["generateKey","unwrapKey","deriveKey","importKey"].indexOf(method)){this.fixAlgorithmName(args);}_context135.prev=1;if(!(method!=="digest"||!args.some(function(a){return a instanceof CryptoKey$1;}))){_context135.next=8;break;}Debug.info("Call native '".concat(method,"' method"),args);_context135.next=6;return nativeSubtle[method].apply(nativeSubtle,args);case 6:res=_context135.sent;return _context135.abrupt("return",res);case 8:_context135.next=13;break;case 10:_context135.prev=10;_context135.t0=_context135["catch"](1);Debug.warn("Error on native '".concat(method,"' calling. ").concat(_context135.t0.message),_context135.t0);case 13:if(!(method==="wrapKey")){_context135.next=29;break;}_context135.prev=14;Debug.info("Trying to wrap key by using native functions",args);_context135.next=18;return this.exportKey(args[0],args[1]);case 18:data=_context135.sent;keyData=args[0]==="jwk"?Convert.FromUtf8String(JSON.stringify(data)):data;_context135.next=22;return this.encrypt(args[3],args[2],keyData);case 22:_res=_context135.sent;return _context135.abrupt("return",_res);case 26:_context135.prev=26;_context135.t1=_context135["catch"](14);Debug.warn("Cannot wrap key by native functions. ".concat(_context135.t1.message),_context135.t1);case 29:if(!(method==="unwrapKey")){_context135.next=45;break;}_context135.prev=30;Debug.info("Trying to unwrap key by using native functions",args);_context135.next=34;return this.decrypt(args[3],args[2],args[1]);case 34:_data=_context135.sent;_keyData=args[0]==="jwk"?JSON.parse(Convert.ToUtf8String(_data)):_data;_context135.next=38;return this.importKey(args[0],_keyData,args[4],args[5],args[6]);case 38:_res2=_context135.sent;return _context135.abrupt("return",_res2);case 42:_context135.prev=42;_context135.t2=_context135["catch"](30);Debug.warn("Cannot unwrap key by native functions. ".concat(_context135.t2.message),_context135.t2);case 45:if(!(method==="deriveKey")){_context135.next=60;break;}_context135.prev=46;Debug.info("Trying to derive key by using native functions",args);_context135.next=50;return this.deriveBits(args[0],args[1],args[2].length);case 50:_data2=_context135.sent;_context135.next=53;return this.importKey("raw",_data2,args[2],args[3],args[4]);case 53:_res3=_context135.sent;return _context135.abrupt("return",_res3);case 57:_context135.prev=57;_context135.t3=_context135["catch"](46);Debug.warn("Cannot derive key by native functions. ".concat(_context135.t3.message),_context135.t3);case 60:if(!(method==="deriveBits"||method==="deriveKey")){_context135.next=89;break;}_iteratorNormalCompletion12=true;_didIteratorError12=false;_iteratorError12=undefined;_context135.prev=64;_iterator12=args[Symbol.iterator]();case 66:if(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done){_context135.next=75;break;}arg=_step12.value;if(!(_typeof(arg)==="object"&&arg.public&&SubtleCrypto$1.isAnotherKey(arg.public))){_context135.next=72;break;}_context135.next=71;return this.castKey(arg.public);case 71:arg.public=_context135.sent;case 72:_iteratorNormalCompletion12=true;_context135.next=66;break;case 75:_context135.next=81;break;case 77:_context135.prev=77;_context135.t4=_context135["catch"](64);_didIteratorError12=true;_iteratorError12=_context135.t4;case 81:_context135.prev=81;_context135.prev=82;if(!_iteratorNormalCompletion12&&_iterator12.return!=null){_iterator12.return();}case 84:_context135.prev=84;if(!_didIteratorError12){_context135.next=87;break;}throw _iteratorError12;case 87:return _context135.finish(84);case 88:return _context135.finish(81);case 89:i=0;case 90:if(!(i<args.length)){_context135.next=99;break;}_arg=args[i];if(!SubtleCrypto$1.isAnotherKey(_arg)){_context135.next=96;break;}_context135.next=95;return this.castKey(_arg);case 95:args[i]=_context135.sent;case 96:i++;_context135.next=90;break;case 99:return _context135.abrupt("return",_superIndex(method).apply(this,args));case 100:case"end":return _context135.stop();}}},_callee135,this,[[1,10],[14,26],[30,42],[46,57],[64,77,81,89],[82,,84,88]]);}));}},{key:"castKey",value:function castKey(key){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee136(){var provider,jwk;return regeneratorRuntime.wrap(function _callee136$(_context136){while(1){switch(_context136.prev=_context136.next){case 0:Debug.info("Cast native CryptoKey to linter key.",key);if(key.extractable){_context136.next=3;break;}throw new Error("Cannot cast unextractable crypto key");case 3:provider=this.getProvider(key.algorithm.name);_context136.next=6;return this.exportKey("jwk",key);case 6:jwk=_context136.sent;return _context136.abrupt("return",provider.importKey("jwk",jwk,key.algorithm,true,key.usages));case 8:case"end":return _context136.stop();}}},_callee136,this);}));}},{key:"fixAlgorithmName",value:function fixAlgorithmName(args){if(this.browserInfo.name===Browser.Edge){for(var i=0;i<args.length;i++){var arg=args[0];if(typeof arg==="string"){var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=this.providers.algorithms[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var algorithm=_step13.value;if(algorithm.toLowerCase()===arg.toLowerCase()){args[i]=algorithm;break;}}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13.return!=null){_iterator13.return();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}}else if(_typeof(arg)==="object"&&typeof arg.name==="string"){var _iteratorNormalCompletion14=true;var _didIteratorError14=false;var _iteratorError14=undefined;try{for(var _iterator14=this.providers.algorithms[Symbol.iterator](),_step14;!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=true){var _algorithm=_step14.value;if(_algorithm.toLowerCase()===arg.name.toLowerCase()){arg.name=_algorithm;}if(typeof arg.hash==="string"&&_algorithm.toLowerCase()===arg.hash.toLowerCase()||_typeof(arg.hash)==="object"&&typeof arg.hash.name==="string"&&_algorithm.toLowerCase()===arg.hash.name.toLowerCase()){arg.hash={name:_algorithm};}}}catch(err){_didIteratorError14=true;_iteratorError14=err;}finally{try{if(!_iteratorNormalCompletion14&&_iterator14.return!=null){_iterator14.return();}}finally{if(_didIteratorError14){throw _iteratorError14;}}}}}}}},{key:"fixFirefoxEcImportPkcs8",value:function fixFirefoxEcImportPkcs8(args){var preparedAlgorithm=this.prepareAlgorithm(args[2]);var algName=preparedAlgorithm.name.toUpperCase();if(this.browserInfo.name===Browser.Firefox&&args[0]==="pkcs8"&&~["ECDSA","ECDH"].indexOf(algName)&&~["P-256","P-384","P-521"].indexOf(preparedAlgorithm.namedCurve)){if(!BufferSourceConverter.isBufferSource(args[1])){throw new TypeError("data: Is not ArrayBuffer or ArrayBufferView");}var preparedData=BufferSourceConverter.toArrayBuffer(args[1]);var keyInfo=AsnParser.parse(preparedData,PrivateKeyInfo);var privateKey=AsnParser.parse(keyInfo.privateKey,EcPrivateKey);var jwk=build_4.toJSON(privateKey);jwk.ext=true;jwk.key_ops=args[4];jwk.crv=preparedAlgorithm.namedCurve;jwk.kty="EC";args[0]="jwk";args[1]=jwk;}}},{key:"fixFirefoxEcExportPkcs8",value:function fixFirefoxEcExportPkcs8(args){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee137(){var jwk,ecKey,keyInfo;return regeneratorRuntime.wrap(function _callee137$(_context137){while(1){switch(_context137.prev=_context137.next){case 0:_context137.prev=0;if(!(this.browserInfo.name===Browser.Firefox&&args[0]==="pkcs8"&&~["ECDSA","ECDH"].indexOf(args[1].algorithm.name)&&~["P-256","P-384","P-521"].indexOf(args[1].algorithm.namedCurve))){_context137.next=11;break;}_context137.next=4;return this.exportKey("jwk",args[1]);case 4:jwk=_context137.sent;ecKey=build_2.fromJSON(jwk,{targetSchema:EcPrivateKey});keyInfo=new PrivateKeyInfo();keyInfo.privateKeyAlgorithm.algorithm=EcCrypto.ASN_ALGORITHM;keyInfo.privateKeyAlgorithm.parameters=AsnSerializer.serialize(new ObjectIdentifier(getOidByNamedCurve(args[1].algorithm.namedCurve)));keyInfo.privateKey=AsnSerializer.serialize(ecKey);return _context137.abrupt("return",AsnSerializer.serialize(keyInfo));case 11:_context137.next=17;break;case 13:_context137.prev=13;_context137.t0=_context137["catch"](0);Debug.error(_context137.t0);return _context137.abrupt("return",null);case 17:case"end":return _context137.stop();}}},_callee137,this,[[0,13]]);}));}}],[{key:"isAnotherKey",value:function isAnotherKey(key){if(_typeof(key)==="object"&&typeof key.type==="string"&&typeof key.extractable==="boolean"&&_typeof(key.algorithm)==="object"){return !(key instanceof CryptoKey$1);}return false;}}]);return SubtleCrypto$1;}(SubtleCrypto);SubtleCrypto$1.methods=["digest","importKey","exportKey","sign","verify","generateKey","encrypt","decrypt","deriveBits","deriveKey","wrapKey","unwrapKey"];var Crypto$1=/*#__PURE__*/function(_Crypto){_inherits(Crypto$1,_Crypto);function Crypto$1(){var _this100;_classCallCheck(this,Crypto$1);_this100=_possibleConstructorReturn(this,_getPrototypeOf(Crypto$1).apply(this,arguments));_this100.subtle=new SubtleCrypto$1();return _this100;}_createClass(Crypto$1,[{key:"getRandomValues",value:function getRandomValues(array){return nativeCrypto.getRandomValues(array);}},{key:"nativeCrypto",get:function get(){return nativeCrypto;}}]);return Crypto$1;}(Crypto);function WrapFunction(subtle,name){var fn=subtle[name];subtle[name]=function(){var args=arguments;return new Promise(function(resolve,reject){var op=fn.apply(subtle,args);op.oncomplete=function(e){resolve(e.target.result);};op.onerror=function(e){reject("Error on running '".concat(name,"' function"));};});};}if(typeof self!=="undefined"&&self["msCrypto"]){WrapFunction(nativeSubtle,"generateKey");WrapFunction(nativeSubtle,"digest");WrapFunction(nativeSubtle,"sign");WrapFunction(nativeSubtle,"verify");WrapFunction(nativeSubtle,"encrypt");WrapFunction(nativeSubtle,"decrypt");WrapFunction(nativeSubtle,"importKey");WrapFunction(nativeSubtle,"exportKey");WrapFunction(nativeSubtle,"wrapKey");WrapFunction(nativeSubtle,"unwrapKey");WrapFunction(nativeSubtle,"deriveKey");WrapFunction(nativeSubtle,"deriveBits");}if(!Math.imul){Math.imul=function imul(a,b){var ah=a>>>16&0xffff;var al=a&0xffff;var bh=b>>>16&0xffff;var bl=b&0xffff;return al*bl+(ah*bl+al*bh<<16>>>0)|0;};}var window$2=self;if(nativeCrypto){Object.freeze(nativeCrypto.getRandomValues);}try{delete self.crypto;window$2.crypto=new Crypto$1();Object.freeze(window$2.crypto);}catch(e){Debug.error(e);}var crypto$1=window$2.crypto;

  exports.crypto = crypto$1;

  return exports;

}({}));
